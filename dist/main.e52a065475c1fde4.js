"use strict";(self.webpackChunkmyApp=self.webpackChunkmyApp||[]).push([[179],{2011:(ft,Te,B)=>{B.d(Te,{Dh:()=>pe,GT:()=>_e,cc:()=>Pe,hO:()=>je,on:()=>Y,pX:()=>de,xv:()=>ve});var o=B(4650),z=B(127),N=B(5813);ft=B.hmd(ft);const le=["ngOnDestroy"],de=(ge,it,tt,Ne={})=>new Proxy(ge,{get:(Re,Ee)=>tt.runOutsideAngular(()=>{var qe;if(ge[Ee])return!(null===(qe=Ne?.spy)||void 0===qe)&&qe.get&&Ne.spy.get(Ee,ge[Ee]),ge[Ee];if(le.indexOf(Ee)>-1)return()=>{};const ae=it.toPromise().then(he=>{const be=he&&he[Ee];return"function"==typeof be?be.bind(he):be&&be.then?be.then(J=>tt.run(()=>J)):tt.run(()=>be)});return new Proxy(()=>{},{get:(he,be)=>ae[be],apply:(he,be,J)=>ae.then(te=>{var me;const ue=te&&te(...J);return!(null===(me=Ne?.spy)||void 0===me)&&me.apply&&Ne.spy.apply(Ee,J,ue),ue})})})}),_e=(ge,it)=>{it.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Ne=>{Object.defineProperty(ge.prototype,Ne,Object.getOwnPropertyDescriptor(tt.prototype||tt,Ne))})})};class ie{constructor(it){return it}}const pe=new o.OlP("angularfire2.app.options"),ve=new o.OlP("angularfire2.app.name");function Y(ge,it,tt){const Re="object"==typeof tt&&tt||{};Re.name=Re.name||"string"==typeof tt&&tt||"[DEFAULT]";const qe=z.Z.apps.filter(ae=>ae&&ae.name===Re.name)[0]||it.runOutsideAngular(()=>z.Z.initializeApp(ge,Re));try{JSON.stringify(ge)!==JSON.stringify(qe.options)&&W("error",`${qe.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ie(qe)}const W=(ge,...it)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ge](...it)},ee={provide:ie,useFactory:Y,deps:[pe,o.R0b,[new o.FiY,ve]]};let je=(()=>{class ge{constructor(tt){z.Z.registerVersion("angularfire",N.q4.full,"core"),z.Z.registerVersion("angularfire",N.q4.full,"app-compat"),z.Z.registerVersion("angular",o.q4F.full,tt.toString())}static initializeApp(tt,Ne){return{ngModule:ge,providers:[{provide:pe,useValue:tt},{provide:ve,useValue:Ne}]}}}return ge.\u0275fac=function(tt){return new(tt||ge)(o.LFG(o.Lbi))},ge.\u0275mod=o.oAB({type:ge}),ge.\u0275inj=o.cJS({providers:[ee]}),ge})();function Pe(ge,it,tt,Ne,Re){const[,Ee,qe]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===ge)||[];if(Ee)return function De(ge,it){try{return ge.toString()===it.toString()}catch{return ge===it}}(Re,qe)||(Ce("error",`${it} was already initialized on the ${tt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:Re,was:qe})),Ee;{const ae=Ne();return globalThis.\u0275AngularfireInstanceCache.push([ge,ae,Re]),ae}}const at=!!ft.hot,Ce=(ge,...it)=>{(0,o.X6Q)()&&typeof console<"u"&&console[ge](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Te,B)=>{B.d(Te,{q4:()=>$u,iC:()=>Jn,fc:()=>ao,HU:()=>oo,vb:()=>zr,JM:()=>qo,u3:()=>vn});var o=B(4650),z=B(5867),N=B(5861),le=B(9681),de=B(2090),_e=B(4859),ie=B(1877),pe=B(8766);const ve="@firebase/installations",Y="0.5.16",ee=`w:${Y}`,je="FIS_v2",it=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(I){return I instanceof de.ZR&&I.code.includes("request-failed")}function Ne({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:te(I.expiresIn),creationTime:Date.now()}}function Ee(I,S){return qe.apply(this,arguments)}function qe(){return(qe=(0,N.Z)(function*(I,S){const j=(yield S.json()).error;return it.create("request-failed",{requestName:I,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ae({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function he(I,{refreshToken:S}){const k=ae(I);return k.append("Authorization",function me(I){return`${je} ${I}`}(S)),k}function be(I){return J.apply(this,arguments)}function J(){return(J=(0,N.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function te(I){return Number(I.replace("s","000"))}function ue(I,S){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,N.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:k}){const j=Ne(I),X=ae(I),ce=S.getImmediate({optional:!0});if(ce){const kt=yield ce.getHeartbeatsHeader();kt&&X.append("x-firebase-client",kt)}const We={method:"POST",headers:X,body:JSON.stringify({fid:k,authVersion:je,appId:I.appId,sdkVersion:ee})},_t=yield be(()=>fetch(j,We));if(_t.ok){const kt=yield _t.json();return{fid:kt.fid||k,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Re(kt.authToken)}}throw yield Ee("Create Installation",_t)})).apply(this,arguments)}function He(I){return new Promise(S=>{setTimeout(S,I)})}const fn=/^[cdef][\w-]{21}$/;function Qe(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function bn(I){return function bt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return fn.test(k)?k:""}catch{return""}}function Ln(I){return`${I.appName}!${I.appId}`}const cn=new Map;function un(I,S){const k=Ln(I);Vi(k,S),function ts(I,S){const k=function Qn(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=I=>{Vi(I.data.key,I.data.fid)}),or}();k&&k.postMessage({key:I,fid:S}),function ns(){0===cn.size&&or&&(or.close(),or=null)}()}(k,S)}function Vi(I,S){const k=cn.get(I);if(k)for(const j of k)j(S)}let or=null;const ni="firebase-installations-store";let Hr=null;function rs(){return Hr||(Hr=(0,pe.X3)("firebase-installations-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(ni)}})),Hr}function nt(I,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(I,S){const k=Ln(I),X=(yield rs()).transaction(ni,"readwrite"),ce=X.objectStore(ni),xe=yield ce.get(k);return yield ce.put(S,k),yield X.done,(!xe||xe.fid!==S.fid)&&un(I,S.fid),S})).apply(this,arguments)}function li(I){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,N.Z)(function*(I){const S=Ln(I),j=(yield rs()).transaction(ni,"readwrite");yield j.objectStore(ni).delete(S),yield j.done})).apply(this,arguments)}function ki(I,S){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(I,S){const k=Ln(I),X=(yield rs()).transaction(ni,"readwrite"),ce=X.objectStore(ni),xe=yield ce.get(k),We=S(xe);return void 0===We?yield ce.delete(k):yield ce.put(We,k),yield X.done,We&&(!xe||xe.fid!==We.fid)&&un(I,We.fid),We})).apply(this,arguments)}function On(I){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,N.Z)(function*(I){let S;const k=yield ki(I.appConfig,j=>{const X=An(j),ce=mt(I,X);return S=ce.registrationPromise,ce.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function An(I){return Mt(I||{fid:Qe(),registrationStatus:0})}function mt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(it.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},j=function gt(I,S){return Ft.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:j}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:lr(I)}:{installationEntry:S}}function Ft(){return(Ft=(0,N.Z)(function*(I,S){try{const k=yield ue(I,S);return nt(I.appConfig,k)}catch(k){throw tt(k)&&409===k.customData.serverCode?yield li(I.appConfig):yield nt(I.appConfig,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function lr(I){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(I){let S=yield Xi(I.appConfig);for(;1===S.registrationStatus;)yield He(100),S=yield Xi(I.appConfig);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:j}=yield On(I);return j||k}return S})).apply(this,arguments)}function Xi(I){return ki(I,S=>{if(!S)throw it.create("installation-not-found");return Mt(S)})}function Mt(I){return function Ji(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Ut(I,S){return mr.apply(this,arguments)}function mr(){return(mr=(0,N.Z)(function*({appConfig:I,heartbeatServiceProvider:S},k){const j=nn(I,k),X=he(I,k),ce=S.getImmediate({optional:!0});if(ce){const kt=yield ce.getHeartbeatsHeader();kt&&X.append("x-firebase-client",kt)}const We={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ee,appId:I.appId}})},_t=yield be(()=>fetch(j,We));if(_t.ok)return Re(yield _t.json());throw yield Ee("Generate Auth Token",_t)})).apply(this,arguments)}function nn(I,{fid:S}){return`${Ne(I)}/${S}/authTokens:generate`}function Ii(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,N.Z)(function*(I,S=!1){let k;const j=yield ki(I.appConfig,ce=>{if(!an(ce))throw it.create("not-registered");const xe=ce.authToken;if(!S&&Z(xe))return ce;if(1===xe.requestStatus)return k=st(I,S),ce;{if(!navigator.onLine)throw it.create("app-offline");const We=Q(ce);return k=Et(I,We),We}});return k?yield k:j.authToken})).apply(this,arguments)}function st(I,S){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.Z)(function*(I,S){let k=yield ot(I.appConfig);for(;1===k.authToken.requestStatus;)yield He(100),k=yield ot(I.appConfig);const j=k.authToken;return 0===j.requestStatus?Ii(I,S):j})).apply(this,arguments)}function ot(I){return ki(I,S=>{if(!an(S))throw it.create("not-registered");return function $(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Et(I,S){return It.apply(this,arguments)}function It(){return(It=(0,N.Z)(function*(I,S){try{const k=yield Ut(I,S),j=Object.assign(Object.assign({},S),{authToken:k});return yield nt(I.appConfig,j),k}catch(k){if(!tt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const j=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield nt(I.appConfig,j)}else yield li(I.appConfig);throw k}})).apply(this,arguments)}function an(I){return void 0!==I&&2===I.registrationStatus}function Z(I){return 2===I.requestStatus&&!function G(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function Q(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function H(){return(H=(0,N.Z)(function*(I){const S=I,{installationEntry:k,registrationPromise:j}=yield On(S);return j?j.catch(console.error):Ii(S).catch(console.error),k.fid})).apply(this,arguments)}function Le(){return(Le=(0,N.Z)(function*(I,S=!1){const k=I;return yield ct(k),(yield Ii(k,S)).token})).apply(this,arguments)}function ct(I){return ut.apply(this,arguments)}function ut(){return(ut=(0,N.Z)(function*(I){const{registrationPromise:S}=yield On(I);S&&(yield S)})).apply(this,arguments)}function Mo(I){return it.create("missing-app-config-values",{valueName:I})}const xa="installations",ko=I=>{const S=I.getProvider("app").getImmediate(),k=function Bn(I){if(!I||!I.options)throw Mo("App Configuration");if(!I.name)throw Mo("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!I.options[k])throw Mo(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:k,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ro=I=>{const S=I.getProvider("app").getImmediate(),k=(0,le._getProvider)(S,xa).getImmediate();return{getId:()=>function O(I){return H.apply(this,arguments)}(k),getToken:X=>function se(I){return Le.apply(this,arguments)}(k,X)}};(function _c(){(0,le._registerComponent)(new _e.wA(xa,ko,"PUBLIC")),(0,le._registerComponent)(new _e.wA("installations-internal",Ro,"PRIVATE"))})(),(0,le.registerVersion)(ve,Y),(0,le.registerVersion)(ve,Y,"esm2017");const Es="@firebase/remote-config",di=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vc{constructor(S,k,j,X){this.client=S,this.storage=k,this.storageCache=j,this.logger=X}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-k,X=j<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${X}.`),X}fetch(S){var k=this;return(0,N.Z)(function*(){const[j,X]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(X&&k.isCachedDataFresh(S.cacheMaxAgeMillis,j))return X;S.eTag=X&&X.eTag;const ce=yield k.client.fetch(S),xe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&xe.push(k.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(xe),ce})()}}function Cl(I=navigator){return I.languages&&I.languages[0]||I.language}class Fo{constructor(S,k,j,X,ce,xe){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=j,this.projectId=X,this.apiKey=ce,this.appId=xe}fetch(S){var k=this;return(0,N.Z)(function*(){var j,X,ce;const[xe,We]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},yt={sdk_version:k.sdkVersion,app_instance_id:xe,app_instance_id_token:We,app_id:k.appId,language_code:Cl()},fi={method:"POST",headers:jt,body:JSON.stringify(yt)},Pi=fetch(kt,fi),lo=new Promise((uo,Ni)=>{S.signal.addEventListener(()=>{const Ch=new Error("The operation was aborted.");Ch.name="AbortError",Ni(Ch)})});let Wt;try{yield Promise.race([Pi,lo]),Wt=yield Pi}catch(uo){let Ni="fetch-client-network";throw"AbortError"===(null===(j=uo)||void 0===j?void 0:j.name)&&(Ni="fetch-timeout"),di.create(Ni,{originalErrorMessage:null===(X=uo)||void 0===X?void 0:X.message})}let ji=Wt.status;const Ko=Wt.headers.get("ETag")||void 0;let co,Nc;if(200===Wt.status){let uo;try{uo=yield Wt.json()}catch(Ni){throw di.create("fetch-client-parse",{originalErrorMessage:null===(ce=Ni)||void 0===ce?void 0:ce.message})}co=uo.entries,Nc=uo.state}if("INSTANCE_STATE_UNSPECIFIED"===Nc?ji=500:"NO_CHANGE"===Nc?ji=304:("NO_TEMPLATE"===Nc||"EMPTY_CONFIG"===Nc)&&(co={}),304!==ji&&200!==ji)throw di.create("fetch-status",{httpStatus:ji});return{status:ji,eTag:Ko,config:co}})()}}class Is{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,N.Z)(function*(){const j=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,j)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:j}){var X=this;return(0,N.Z)(function*(){yield function Sr(I,S){return new Promise((k,j)=>{const X=Math.max(S-Date.now(),0),ce=setTimeout(k,X);I.addEventListener(()=>{clearTimeout(ce),j(di.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const ce=yield X.client.fetch(S);return yield X.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Eg(I){if(!(I instanceof de.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ce))throw ce;const xe={throttleEndTimeMillis:Date.now()+(0,de.$s)(j),backoffCount:j+1};return yield X.storage.setThrottleMetadata(xe),X.attemptFetch(S,xe)}})()}}class ep{constructor(S,k,j,X,ce){this.app=S,this._client=k,this._storageCache=j,this._storage=X,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wl(I,S){var k;const j=I.target.error||void 0;return di.create(S,{originalErrorMessage:j&&(null===(k=j)||void 0===k?void 0:k.message)})}const Ca="app_namespace_store";class Xd{constructor(S,k,j,X=function Sg(){return new Promise((I,S)=>{var k;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=X=>{S(wl(X,"storage-open"))},j.onsuccess=X=>{I(X.target.result)},j.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(j){S(di.create("storage-open",{originalErrorMessage:null===(k=j)||void 0===k?void 0:k.message}))}})}()){this.appId=S,this.appName=k,this.namespace=j,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((X,ce)=>{var xe;const _t=j.transaction([Ca],"readonly").objectStore(Ca),kt=k.createCompositeKey(S);try{const jt=_t.get(kt);jt.onerror=yt=>{ce(wl(yt,"storage-get"))},jt.onsuccess=yt=>{const fi=yt.target.result;X(fi?fi.value:void 0)}}catch(jt){ce(di.create("storage-get",{originalErrorMessage:null===(xe=jt)||void 0===xe?void 0:xe.message}))}})})()}set(S,k){var j=this;return(0,N.Z)(function*(){const X=yield j.openDbPromise;return new Promise((ce,xe)=>{var We;const kt=X.transaction([Ca],"readwrite").objectStore(Ca),jt=j.createCompositeKey(S);try{const yt=kt.put({compositeKey:jt,value:k});yt.onerror=fi=>{xe(wl(fi,"storage-set"))},yt.onsuccess=()=>{ce()}}catch(yt){xe(di.create("storage-set",{originalErrorMessage:null===(We=yt)||void 0===We?void 0:We.message}))}})})()}delete(S){var k=this;return(0,N.Z)(function*(){const j=yield k.openDbPromise;return new Promise((X,ce)=>{var xe;const _t=j.transaction([Ca],"readwrite").objectStore(Ca),kt=k.createCompositeKey(S);try{const jt=_t.delete(kt);jt.onerror=yt=>{ce(wl(yt,"storage-delete"))},jt.onsuccess=()=>{X()}}catch(jt){ce(di.create("storage-delete",{originalErrorMessage:null===(xe=jt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class wa{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,N.Z)(function*(){const k=S.storage.getLastFetchStatus(),j=S.storage.getLastSuccessfulFetchTimestampMillis(),X=S.storage.getActiveConfig(),ce=yield k;ce&&(S.lastFetchStatus=ce);const xe=yield j;xe&&(S.lastSuccessfulFetchTimestampMillis=xe);const We=yield X;We&&(S.activeConfig=We)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function xv(){return bc.apply(this,arguments)}function bc(){return(bc=(0,N.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Jd(){(0,le._registerComponent)(new _e.wA("remote-config",function I(S,{instanceIdentifier:k}){const j=S.getProvider("app").getImmediate(),X=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw di.create("registration-window");if(!(0,de.hl)())throw di.create("indexed-db-unavailable");const{projectId:ce,apiKey:xe,appId:We}=j.options;if(!ce)throw di.create("registration-project-id");if(!xe)throw di.create("registration-api-key");if(!We)throw di.create("registration-app-id");const _t=new Xd(We,j.name,k=k||"firebase"),kt=new wa(_t),jt=new ie.Yd(Es);jt.logLevel=ie.in.ERROR;const yt=new Fo(X,le.SDK_VERSION,k,ce,xe,We),fi=new Is(yt,_t),Pi=new vc(fi,_t,kt,jt),lo=new ep(j,Pi,kt,_t,jt);return function yn(I){const S=(0,de.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(lo),lo},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Es,"0.3.15"),(0,le.registerVersion)(Es,"0.3.15","esm2017")}();const Bi="/firebase-messaging-sw.js",Da="/firebase-cloud-messaging-push-scope",Xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xc="google.c.a.c_id",Du="google.c.a.c_l",nh="google.c.a.ts",Ia="google.c.a.e";var Tr=(()=>{return(I=Tr||(Tr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Tr;var I})();function Ss(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(k),X=new Uint8Array(j.length);for(let ce=0;ce<j.length;++ce)X[ce]=j.charCodeAt(ce);return X}const Lo="fcm_token_details_db",Vo="fcm_token_object_Store";function Tg(I){return Iu.apply(this,arguments)}function Iu(){return Iu=(0,N.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Lo))return null;let S=null;return(yield(0,pe.X3)(Lo,5,{upgrade:(j=(0,N.Z)(function*(X,ce,xe,We){var _t;if(ce<2||!X.objectStoreNames.contains(Vo))return;const kt=We.objectStore(Vo),jt=yield kt.index("fcmSenderId").get(I);if(yield kt.clear(),jt)if(2===ce){const yt=jt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;S={token:yt.fcmToken,createTime:null!==(_t=yt.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:Ss(yt.vapidKey)}}}else if(3===ce){const yt=jt;S={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Ss(yt.auth),p256dh:Ss(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Ss(yt.vapidKey)}}}else if(4===ce){const yt=jt;S={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Ss(yt.auth),p256dh:Ss(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Ss(yt.vapidKey)}}}}),function(ce,xe,We,_t){return j.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Lo),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),Xn(S)?S:null;var j}),Iu.apply(this,arguments)}function Xn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const jr="firebase-messaging-store";let Ui=null;function Cc(){return Ui||(Ui=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(jr)}})),Ui}function Bo(I){return os.apply(this,arguments)}function os(){return(os=(0,N.Z)(function*(I){const S=Mr(I),j=yield(yield Cc()).transaction(jr).objectStore(jr).get(S);if(j)return j;{const X=yield Tg(I.appConfig.senderId);if(X)return yield mn(I,X),X}})).apply(this,arguments)}function mn(I,S){return Su.apply(this,arguments)}function Su(){return(Su=(0,N.Z)(function*(I,S){const k=Mr(I),X=(yield Cc()).transaction(jr,"readwrite");return yield X.objectStore(jr).put(S,k),yield X.done,S})).apply(this,arguments)}function eo(I){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,N.Z)(function*(I){const S=Mr(I),j=(yield Cc()).transaction(jr,"readwrite");yield j.objectStore(jr).delete(S),yield j.done})).apply(this,arguments)}function Mr({appConfig:I}){return I.appId}const ii=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bt(I,S){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,N.Z)(function*(I,S){var k;const j=yield Tl(I),X=Oe(S),ce={method:"POST",headers:j,body:JSON.stringify(X)};let xe;try{xe=yield(yield fetch(Uo(I.appConfig),ce)).json()}catch(We){throw ii.create("token-subscribe-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(xe.error)throw ii.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw ii.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Ag(I,S){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(I,S){var k;const j=yield Tl(I),X=Oe(S.subscriptionOptions),ce={method:"PATCH",headers:j,body:JSON.stringify(X)};let xe;try{xe=yield(yield fetch(`${Uo(I.appConfig)}/${S.token}`,ce)).json()}catch(We){throw ii.create("token-update-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(xe.error)throw ii.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw ii.create("token-update-no-token");return xe.token})).apply(this,arguments)}function rh(I,S){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,N.Z)(function*(I,S){var k;const X={method:"DELETE",headers:yield Tl(I)};try{const xe=yield(yield fetch(`${Uo(I.appConfig)}/${S}`,X)).json();if(xe.error)throw ii.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ce){throw ii.create("token-unsubscribe-failed",{errorInfo:null===(k=ce)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Uo({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Tl(I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,N.Z)(function*({appConfig:I,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oe({p256dh:I,auth:S,endpoint:k,vapidKey:j}){const X={web:{endpoint:k,auth:S,p256dh:I}};return j!==Xs&&(X.web.applicationPubKey=j),X}const en=6048e5;function np(I){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,N.Z)(function*(I){const S=yield ip(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:Ss(S.getKey("auth")),p256dh:Ss(S.getKey("p256dh"))},j=yield Bo(I.firebaseDependencies);if(j){if(Mg(j.subscriptionOptions,k))return Date.now()>=j.createTime+en?wc(I,{token:j.token,createTime:Date.now(),subscriptionOptions:k}):j.token;try{yield rh(I.firebaseDependencies,j.token)}catch(X){console.warn(X)}return Ec(I.firebaseDependencies,k)}return Ec(I.firebaseDependencies,k)})).apply(this,arguments)}function bi(I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(I){const S=yield Bo(I.firebaseDependencies);S&&(yield rh(I.firebaseDependencies,S.token),yield eo(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function wc(I,S){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(I,S){try{const k=yield Ag(I.firebaseDependencies,S),j=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield mn(I.firebaseDependencies,j),k}catch(k){throw yield bi(I),k}})).apply(this,arguments)}function Ec(I,S){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,N.Z)(function*(I,S){const j={token:yield Bt(I,S),createTime:Date.now(),subscriptionOptions:S};return yield mn(I,j),j.token})).apply(this,arguments)}function ip(I,S){return Al.apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(S)})})).apply(this,arguments)}function Mg(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function Ho(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function xi(I,S){if(!S.notification)return;I.notification={};const k=S.notification.title;k&&(I.notification.title=k);const j=S.notification.body;j&&(I.notification.body=j);const X=S.notification.image;X&&(I.notification.image=X);const ce=S.notification.icon;ce&&(I.notification.icon=ce)}(S,I),function as(I,S){!S.data||(I.data=S.data)}(S,I),function Ml(I,S){var k,j,X,ce,xe;if(!(S.fcmOptions||null!==(k=S.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const We=null!==(X=null===(j=S.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==X?X:null===(ce=S.notification)||void 0===ce?void 0:ce.click_action;We&&(I.fcmOptions.link=We);const _t=null===(xe=S.fcmOptions)||void 0===xe?void 0:xe.analytics_label;_t&&(I.fcmOptions.analyticsLabel=_t)}(S,I),S}function kl(I){return"object"==typeof I&&!!I&&xc in I}function Ts(I,S){const k=[];for(let j=0;j<I.length;j++)k.push(I.charAt(j)),j<S.length&&k.push(S.charAt(j));return k.join("")}function Au(I){return ii.create("missing-app-config-values",{valueName:I})}Ts("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ts("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oh{constructor(S,k,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function sh(I){if(!I||!I.options)throw Au("App Configuration Object");if(!I.name)throw Au("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const j of S)if(!k[j])throw Au(j);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:X,installations:k,analyticsProvider:j}}_delete(){return Promise.resolve()}}function rp(I){return ka.apply(this,arguments)}function ka(){return(ka=(0,N.Z)(function*(I){var S;try{I.swRegistration=yield navigator.serviceWorker.register(Bi,{scope:Da}),I.swRegistration.update().catch(()=>{})}catch(k){throw ii.create("failed-service-worker-registration",{browserErrorMessage:null===(S=k)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Mu(I,S){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,N.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield rp(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ii.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function ku(I,S){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,N.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=Xs)})).apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(I,S){if(!navigator)throw ii.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ii.create("permission-blocked");return yield ku(I,S?.vapidKey),yield Mu(I,S?.serviceWorkerRegistration),np(I)})).apply(this,arguments)}function sp(I,S,k){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,N.Z)(function*(I,S,k){const j=op(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:k[xc],message_name:k[Du],message_time:k[nh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function op(I){switch(I){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function to(){return(to=(0,N.Z)(function*(I,S){const k=S.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===Tr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ho(k)):I.onMessageHandler.next(Ho(k)));const j=k.data;kl(j)&&"1"===j[Ia]&&(yield sp(I,k.messageType,j))})).apply(this,arguments)}const no="@firebase/messaging",Gn=I=>{const S=new oh(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function lh(I,S){return to.apply(this,arguments)}(S,k)),S},As=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:j=>function ah(I,S){return Ra.apply(this,arguments)}(S,j)}};function Ru(){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,N.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wn(){(0,le._registerComponent)(new _e.wA("messaging",Gn,"PUBLIC")),(0,le._registerComponent)(new _e.wA("messaging-internal",As,"PRIVATE")),(0,le.registerVersion)(no,"0.10.0"),(0,le.registerVersion)(no,"0.10.0","esm2017")}();const Na="analytics",hh="firebase_id",Lu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fh="https://www.googletagmanager.com/gtag/js",ri=new ie.Yd("@firebase/analytics");function Ic(I){return Promise.all(I.map(S=>S.catch(k=>k)))}function Sc(I,S){const k=document.createElement("script");k.src=`${fh}?l=${I}&id=${S}`,k.async=!0,document.head.appendChild(k)}function ap(I,S,k,j,X,ce){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,N.Z)(function*(I,S,k,j,X,ce){const xe=j[X];try{if(xe)yield S[xe];else{const _t=(yield Ic(k)).find(kt=>kt.measurementId===X);_t&&(yield S[_t.appId])}}catch(We){ri.error(We)}I("config",X,ce)})).apply(this,arguments)}function Ms(I,S,k,j,X){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,N.Z)(function*(I,S,k,j,X){try{let ce=[];if(X&&X.send_to){let xe=X.send_to;Array.isArray(xe)||(xe=[xe]);const We=yield Ic(k);for(const _t of xe){const kt=We.find(yt=>yt.measurementId===_t),jt=kt&&S[kt.appId];if(!jt){ce=[];break}ce.push(jt)}}0===ce.length&&(ce=Object.values(S)),yield Promise.all(ce),I("event",j,X||{})}catch(ce){ri.error(ce)}})).apply(this,arguments)}function ph(I){const S=window.document.getElementsByTagName("script");for(const k of Object.values(S))if(k.src&&k.src.includes(fh)&&k.src.includes(I))return k;return null}const Ci=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vl=new class Bu{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Fa(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function up(I){return si.apply(this,arguments)}function si(){return(si=(0,N.Z)(function*(I){var S;const{appId:k,apiKey:j}=I,X={method:"GET",headers:Fa(j)},ce=Lu.replace("{app-id}",k),xe=yield fetch(ce,X);if(200!==xe.status&&304!==xe.status){let We="";try{const _t=yield xe.json();null!==(S=_t.error)&&void 0!==S&&S.message&&(We=_t.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:We})}return xe.json()})).apply(this,arguments)}function mh(I){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.Z)(function*(I,S=Vl,k){const{appId:j,apiKey:X,measurementId:ce}=I.options;if(!j)throw Ci.create("no-app-id");if(!X){if(ce)return{measurementId:ce,appId:j};throw Ci.create("no-api-key")}const xe=S.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Bl;return setTimeout((0,N.Z)(function*(){We.abort()}),void 0!==k?k:6e4),gh({appId:j,apiKey:X,measurementId:ce},xe,We,S)})).apply(this,arguments)}function gh(I,S,k){return ks.apply(this,arguments)}function ks(){return(ks=(0,N.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:k},j,X=Vl){var ce,xe;const{appId:We,measurementId:_t}=I;try{yield Uu(j,S)}catch(kt){if(_t)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(ce=kt)||void 0===ce?void 0:ce.message}]`),{appId:We,measurementId:_t};throw kt}try{const kt=yield up(I);return X.deleteThrottleMetadata(We),kt}catch(kt){const jt=kt;if(!Ac(jt)){if(X.deleteThrottleMetadata(We),_t)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:We,measurementId:_t};throw kt}const yt=503===Number(null===(xe=jt?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,de.$s)(k,X.intervalMillis,30):(0,de.$s)(k,X.intervalMillis),fi={throttleEndTimeMillis:Date.now()+yt,backoffCount:k+1};return X.setThrottleMetadata(We,fi),ri.debug(`Calling attemptFetch again in ${yt} millis`),gh(I,fi,j,X)}})).apply(this,arguments)}function Uu(I,S){return new Promise((k,j)=>{const X=Math.max(S-Date.now(),0),ce=setTimeout(k,X);I.addEventListener(()=>{clearTimeout(ce),j(Ci.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Ac(I){if(!(I instanceof de.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Bl{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let jo,kc;function La(){return(La=(0,N.Z)(function*(I,S,k,j,X){if(X&&X.global)I("event",k,j);else{const ce=yield S;I("event",k,Object.assign(Object.assign({},j),{send_to:ce}))}})).apply(this,arguments)}function Ua(I){kc=I}function Hu(I){jo=I}function ro(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,N.Z)(function*(){var I;if(!(0,de.hl)())return ri.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(S){return ri.warn(Ci.create("indexeddb-unavailable",{errorInfo:null===(I=S)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function ja(){return(ja=(0,N.Z)(function*(I,S,k,j,X,ce,xe){var We;const _t=mh(I);_t.then(Pi=>{k[Pi.measurementId]=Pi.appId,I.options.measurementId&&Pi.measurementId!==I.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${Pi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Pi=>ri.error(Pi)),S.push(_t);const kt=ro().then(Pi=>{if(Pi)return j.getId()}),[jt,yt]=yield Promise.all([_t,kt]);ph(ce)||Sc(ce,jt.measurementId),kc&&(X("consent","default",kc),Ua(void 0)),X("js",new Date);const fi=null!==(We=xe?.config)&&void 0!==We?We:{};return fi.origin="firebase",fi.update=!0,null!=yt&&(fi[hh]=yt),X("config",jt.measurementId,fi),jo&&(X("set",jo),Hu(void 0)),jt.measurementId})).apply(this,arguments)}class Rc{constructor(S){this.app=S}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},$a=[];const zo={};let Ga,cs,za="dataLayer",yh=!1;function fp(I,S,k){!function kg(){const I=[];if((0,de.ru)()&&I.push("This is a browser extension environment."),(0,de.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((j,X)=>`(${X+1}) ${j}`).join(" "),k=Ci.create("invalid-analytics-context",{errorInfo:S});ri.warn(k.message)}}();const j=I.options.appId;if(!j)throw Ci.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ci.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[j])throw Ci.create("already-exists",{id:j});if(!yh){!function Tc(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(za);const{wrappedGtag:ce,gtagCore:xe}=function Ll(I,S,k,j,X){let ce=function(...xe){window[j].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ce=window[X]),window[X]=function Vu(I,S,k,j){function ce(){return(ce=(0,N.Z)(function*(xe,We,_t){try{"event"===xe?yield Ms(I,S,k,We,_t):"config"===xe?yield ap(I,S,k,j,We,_t):"consent"===xe?I("consent","update",_t):I("set",We)}catch(kt){ri.error(kt)}})).apply(this,arguments)}return function X(xe,We,_t){return ce.apply(this,arguments)}}(ce,I,S,k),{gtagCore:ce,wrappedGtag:window[X]}}(er,$a,zo,za,"gtag");cs=ce,Ga=xe,yh=!0}return er[j]=function hp(I,S,k,j,X,ce,xe){return ja.apply(this,arguments)}(I,$a,zo,S,Ga,za,k),new Rc(I)}function wv(){return pp.apply(this,arguments)}function pp(){return(pp=(0,N.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Xe="@firebase/analytics";!function Pn(){(0,le._registerComponent)(new _e.wA(Na,(S,{options:k})=>fp(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,le._registerComponent)(new _e.wA("analytics-internal",function I(S){try{const k=S.getProvider(Na).getImmediate();return{logEvent:(j,X,ce)=>function dn(I,S,k,j){I=(0,de.m9)(I),function Ul(I,S,k,j,X){return La.apply(this,arguments)}(cs,er[I.app.options.appId],S,k,j).catch(X=>ri.error(X))}(k,j,X,ce)}}catch(k){throw Ci.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,le.registerVersion)(Xe,"0.8.4"),(0,le.registerVersion)(Xe,"0.8.4","esm2017")}();var Rs=B(4408),Hn=B(7565);const vh=new class Zo extends Hn.v{}(class Wo extends Rs.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(S,k,j):(S.flush(this),0)}});var mp=B(4986),so=B(9751),xh=B(8505),Os=B(5363),Ye=B(9468);const $u=new o.GfV("7.4.1"),ds="__angularfire_symbol__analyticsIsSupportedValue",jl="__angularfire_symbol__analyticsIsSupported",$l="__angularfire_symbol__remoteConfigIsSupportedValue",jn="__angularfire_symbol__remoteConfigIsSupported",zl="__angularfire_symbol__messagingIsSupportedValue",Gl="__angularfire_symbol__messagingIsSupported";function qo(I,S,k){if(S){if(1===S.length)return S[0];const ce=S.filter(xe=>xe.app===k);if(1===ce.length)return ce[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[jl]||(globalThis[jl]=wv().then(I=>globalThis[ds]=I).catch(()=>globalThis[ds]=!1)),globalThis[Gl]||(globalThis[Gl]=Ru().then(I=>globalThis[zl]=I).catch(()=>globalThis[zl]=!1)),globalThis[jn]||(globalThis[jn]=xv().then(I=>globalThis[$l]=I).catch(()=>globalThis[$l]=!1));const zr=(I,S)=>{const k=S?[S]:(0,z.C6)(),j=[];return k.forEach(X=>{X.container.getProvider(I).instances.forEach(xe=>{j.includes(xe)||j.push(xe)})}),j};function br(){}class Pc{constructor(S,k=vh){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,j){const X=this.zone;return this.delegate.schedule(function(xe){X.runGuarded(()=>{S.apply(this,[xe])})},k,j)}}class tr{constructor(S){this.zone=S,this.task=null}call(S,k){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br)),k.pipe((0,xh.b)({next:j,complete:j,error:j})).subscribe(S).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oo=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Pc(Zone.current)),this.insideAngular=k.run(()=>new Pc(Zone.current,mp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(o.LFG(o.R0b))},I.\u0275prov=o.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Hi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Oi(I){return Hi().ngZone.runOutsideAngular(()=>I())}function wn(I){return Hi().ngZone.run(()=>I())}function ao(I){return I.pipe((0,Os.Q)(Hi().outsideAngular))}function Jn(I){return Hi(),function Rt(I){return function(k){return(k=k.lift(new tr(I.ngZone))).pipe((0,Ye.R)(I.outsideAngular),(0,Os.Q)(I.insideAngular))}}(Hi())(I)}const hi=(I,S)=>function(){const j=arguments;return S&&setTimeout(()=>{"scheduled"===S.state&&S.invoke()},10),wn(()=>I.apply(void 0,j))},vn=(I,S)=>function(){let k;const j=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof j[ce]&&(S&&(k||(k=wn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",br,{},br,br)))),j[ce]=hi(j[ce],k));const X=Oi(()=>I.apply(this,j));if(!S){if(X instanceof so.y){const ce=Hi();return X.pipe((0,Ye.R)(ce.outsideAngular),(0,Os.Q)(ce.insideAngular))}return wn(()=>X)}return X instanceof so.y?X.pipe(Jn):X instanceof Promise?wn(()=>new Promise((ce,xe)=>X.then(We=>wn(()=>ce(We)),We=>wn(()=>xe(We))))):"function"==typeof X&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),X.apply(this,arguments)}:wn(()=>X)}},8247:(ft,Te,B)=>{B.d(Te,{$:()=>Uo,A:()=>W,B:()=>Pe,G:()=>Ro,H:()=>gr,J:()=>Is,L:()=>Z,M:()=>bc,N:()=>th,P:()=>mp,Q:()=>xc,R:()=>Rg,T:()=>Du,U:()=>Xs,V:()=>Tr,W:()=>Ss,X:()=>Tg,Y:()=>El,Z:()=>Bt,_:()=>Ag,a:()=>io,a0:()=>np,a1:()=>bi,a2:()=>wc,a3:()=>Ec,a4:()=>ip,a5:()=>Mg,a6:()=>xi,a7:()=>as,a8:()=>kl,a9:()=>Ts,aA:()=>G,aB:()=>We,aC:()=>wn,aD:()=>Oi,aE:()=>xt,aI:()=>Fa,aL:()=>Ia,aa:()=>rp,ab:()=>Mu,ac:()=>ku,af:()=>sp,ag:()=>op,ah:()=>lh,ak:()=>jr,al:()=>Pu,an:()=>fh,ao:()=>Nl,ap:()=>be,aq:()=>Be,ar:()=>ct,as:()=>tt,at:()=>Fc,au:()=>ji,av:()=>Lt,aw:()=>Ne,ax:()=>ae,ay:()=>fi,az:()=>te,b:()=>Ci,c:()=>jn,d:()=>gp,e:()=>Gl,f:()=>Jn,g:()=>k,h:()=>vn,i:()=>Ha,j:()=>ce,k:()=>Cp,l:()=>dt,m:()=>Ps,n:()=>Mv,o:()=>pe,r:()=>Rs,s:()=>us,u:()=>vh});var o=B(5861),z=B(2090),N=B(9681),le=B(1877),de=B(655),_e=B(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function je(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new le.Yd("@firebase/auth");function it(x,...g){ge.logLevel<=le.in.ERROR&&ge.error(`Auth (${N.SDK_VERSION}): ${x}`,...g)}function tt(x,...g){throw qe(x,...g)}function Ne(x,...g){return qe(x,...g)}function Re(x,g,y){const w=Object.assign(Object.assign({},De()),{[g]:y});return new z.LL("auth","Firebase",w).create(g,{appName:x.name})}function Ee(x,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&tt(x,"argument-error"),Re(x,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(x,...g){if("string"!=typeof x){const y=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=x.name),x._errorFactory.create(y,...w)}return at.create(x,...g)}function ae(x,g,...y){if(!x)throw qe(g,...y)}function he(x){const g="INTERNAL ASSERTION FAILED: "+x;throw it(g),new Error(g)}function be(x,g){x||he(g)}const J=new Map;function te(x){be(x instanceof Function,"Expected a class definition");let g=J.get(x);return g?(be(g instanceof x,"Instance stored in cache mismatched with class"),g):(g=new x,J.set(x,g),g)}function Ue(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function He(){return"http:"===bt()||"https:"===bt()}function bt(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class Qe{constructor(g,y){this.shortDelay=g,this.longDelay=y,be(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(x,g){be(x.emulator,"Emulator should always be set here");const{url:y}=x.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Ln{static initialize(g,y,w){this.fetchImpl=g,y&&(this.headersImpl=y),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},un=new Qe(3e4,6e4);function Jt(x,g){return x.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:x.tenantId}):g}function Gt(x,g,y,w){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,o.Z)(function*(x,g,y,w,M={}){return ts(x,M,(0,o.Z)(function*(){let L={},re={};w&&("GET"===g?re=w:L={body:JSON.stringify(w)});const Me=(0,z.xO)(Object.assign({key:x.config.apiKey},re)).slice(1),lt=yield x._getAdditionalHeaders();return lt["Content-Type"]="application/json",x.languageCode&&(lt["X-Firebase-Locale"]=x.languageCode),Ln.fetch()(is(x,x.config.apiHost,y,Me),Object.assign({method:g,headers:lt,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ts(x,g,y){return or.apply(this,arguments)}function or(){return(or=(0,o.Z)(function*(x,g,y){x._canInitEmulator=!1;const w=Object.assign(Object.assign({},cn),g);try{const M=new ar(x),L=yield Promise.race([y(),M.promise]);M.clearNetworkTimeout();const re=yield L.json();if("needConfirmation"in re)throw ni(x,"account-exists-with-different-credential",re);if(L.ok&&!("errorMessage"in re))return re;{const Me=L.ok?re.errorMessage:re.error.message,[lt,Dt]=Me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw ni(x,"credential-already-in-use",re);if("EMAIL_EXISTS"===lt)throw ni(x,"email-already-in-use",re);if("USER_DISABLED"===lt)throw ni(x,"user-disabled",re);const tn=w[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Re(x,tn,Dt);tt(x,tn)}}catch(M){if(M instanceof z.ZR)throw M;tt(x,"network-request-failed")}})).apply(this,arguments)}function Qn(x,g,y,w){return ns.apply(this,arguments)}function ns(){return(ns=(0,o.Z)(function*(x,g,y,w,M={}){const L=yield Gt(x,g,y,w,M);return"mfaPendingCredential"in L&&tt(x,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function is(x,g,y,w){const M=`${g}${y}?${w}`;return x.config.emulator?bn(x.config,M):`${x.config.apiScheme}://${M}`}class ar{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),un.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ni(x,g,y){const w={appName:x.name};y.email&&(w.email=y.email),y.phoneNumber&&(w.phoneNumber=y.phoneNumber);const M=Ne(x,g,w);return M.customData._tokenResponse=y,M}function rs(){return(rs=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function nt(x,g){return yi.apply(this,arguments)}function yi(){return(yi=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function li(x,g){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ki(x){if(x)try{const g=new Date(Number(x));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Vn(){return(Vn=(0,o.Z)(function*(x,g=!1){const y=(0,z.m9)(x),w=yield y.getIdToken(g),M=mt(w);ae(M&&M.exp&&M.auth_time&&M.iat,y.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,re=L?.sign_in_provider;return{claims:M,token:w,authTime:ki(An(M.auth_time)),issuedAtTime:ki(An(M.iat)),expirationTime:ki(An(M.exp)),signInProvider:re||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function An(x){return 1e3*Number(x)}function mt(x){var g;const[y,w,M]=x.split(".");if(void 0===y||void 0===w||void 0===M)return it("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,z.tV)(w);return L?JSON.parse(L):(it("Failed to decode base64 JWT payload"),null)}catch(L){return it("Caught error parsing JWT payload as JSON",null===(g=L)||void 0===g?void 0:g.toString()),null}}function Ft(x,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,o.Z)(function*(x,g,y=!1){if(y)return g;try{return yield g}catch(w){throw w instanceof z.ZR&&ci(w)&&x.auth.currentUser===x&&(yield x.auth.signOut()),w}})).apply(this,arguments)}function ci({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class Xi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),w)}iteration(){var g=this;return(0,o.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(y=w)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Mt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ji(x){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,o.Z)(function*(x){var g;const y=x.auth,w=yield x.getIdToken(),M=yield Ft(x,li(y,{idToken:w}));ae(M?.users.length,y,"internal-error");const L=M.users[0];x._notifyReloadListener(L);const re=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?zn(L.providerUserInfo):[],Me=Ii(x.providerData,re),tn=!!x.isAnonymous&&!(x.email&&L.passwordHash||Me?.length),En={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:Me,metadata:new Mt(L.createdAt,L.lastLoginAt),isAnonymous:tn};Object.assign(x,En)})).apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*(x){const g=(0,z.m9)(x);yield Ji(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ii(x,g){return[...x.filter(w=>!g.some(M=>M.providerId===w.providerId)),...g]}function zn(x){return x.map(g=>{var{providerId:y}=g,w=(0,de._T)(g,["providerId"]);return{providerId:y,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Se(){return(Se=(0,o.Z)(function*(x,g){const y=yield ts(x,{},(0,o.Z)(function*(){const w=(0,z.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:M,apiKey:L}=x.config,re=is(x,M,"/v1/token",`key=${L}`),Me=yield x._getAdditionalHeaders();return Me["Content-Type"]="application/x-www-form-urlencoded",Ln.fetch()(re,{method:"POST",headers:Me,body:w})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){ae(g.idToken,"internal-error"),ae(typeof g.idToken<"u","internal-error"),ae(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gt(x){const g=mt(x);return ae(g,"internal-error"),ae(typeof g.exp<"u","internal-error"),ae(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var w=this;return(0,o.Z)(function*(){return ae(!w.accessToken||w.refreshToken,g,"user-token-expired"),y||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var w=this;return(0,o.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:re}=yield function st(x,g){return Se.apply(this,arguments)}(g,y);w.updateTokensAndExpiration(M,L,Number(re))})()}updateTokensAndExpiration(g,y,w){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,y){const{refreshToken:w,accessToken:M,expirationTime:L}=y,re=new ot;return w&&(ae("string"==typeof w,"internal-error",{appName:g}),re.refreshToken=w),M&&(ae("string"==typeof M,"internal-error",{appName:g}),re.accessToken=M),L&&(ae("number"==typeof L,"internal-error",{appName:g}),re.expirationTime=L),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return he("not implemented")}}function Et(x,g){ae("string"==typeof x||typeof x>"u","internal-error",{appName:g})}class It{constructor(g){var{uid:y,auth:w,stsTokenManager:M}=g,L=(0,de._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new Mt(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,o.Z)(function*(){const w=yield Ft(y,y.stsTokenManager.getToken(y.auth,g));return ae(w,y.auth,"internal-error"),y.accessToken!==w&&(y.accessToken=w,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),w})()}getIdTokenResult(g){return function On(x){return Vn.apply(this,arguments)}(this,g)}reload(){return function mr(x){return nn.apply(this,arguments)}(this)}_assign(g){this!==g&&(ae(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var w=this;return(0,o.Z)(function*(){let M=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),M=!0),y&&(yield Ji(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,o.Z)(function*(){const y=yield g.getIdToken();return yield Ft(g,function Hr(x,g){return rs.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var w,M,L,re,Me,lt,Dt,tn;const En=null!==(w=y.displayName)&&void 0!==w?w:void 0,ur=null!==(M=y.email)&&void 0!==M?M:void 0,hs=null!==(L=y.phoneNumber)&&void 0!==L?L:void 0,Th=null!==(re=y.photoURL)&&void 0!==re?re:void 0,Ah=null!==(Me=y.tenantId)&&void 0!==Me?Me:void 0,Mh=null!==(lt=y._redirectEventId)&&void 0!==lt?lt:void 0,Yl=null!==(Dt=y.createdAt)&&void 0!==Dt?Dt:void 0,Vg=null!==(tn=y.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:Ip,emailVerified:kh,isAnonymous:Zu,providerData:Vc,stsTokenManager:Za}=y;ae(Ip&&Za,g,"internal-error");const kv=ot.fromJSON(this.name,Za);ae("string"==typeof Ip,g,"internal-error"),Et(En,g.name),Et(ur,g.name),ae("boolean"==typeof kh,g,"internal-error"),ae("boolean"==typeof Zu,g,"internal-error"),Et(hs,g.name),Et(Th,g.name),Et(Ah,g.name),Et(Mh,g.name),Et(Yl,g.name),Et(Vg,g.name);const Zn=new It({uid:Ip,auth:g,email:ur,emailVerified:kh,displayName:En,isAnonymous:Zu,photoURL:Th,phoneNumber:hs,tenantId:Ah,stsTokenManager:kv,createdAt:Yl,lastLoginAt:Vg});return Vc&&Array.isArray(Vc)&&(Zn.providerData=Vc.map(Rv=>Object.assign({},Rv))),Mh&&(Zn._redirectEventId=Mh),Zn}static _fromIdTokenResponse(g,y,w=!1){return(0,o.Z)(function*(){const M=new ot;M.updateFromServerResponse(y);const L=new It({uid:y.localId,auth:g,stsTokenManager:M,isAnonymous:w});return yield Ji(L),L})()}}const Z=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,w){var M=this;return(0,o.Z)(function*(){M.storage[y]=w})()}_get(y){var w=this;return(0,o.Z)(function*(){const M=w.storage[y];return void 0===M?null:M})()}_remove(y){var w=this;return(0,o.Z)(function*(){delete w.storage[y]})()}_addListener(y,w){}_removeListener(y,w){}}return x.type="NONE",x})();function G(x,g,y){return`firebase:${x}:${g}:${y}`}class Q{constructor(g,y,w){this.persistence=g,this.auth=y,this.userKey=w;const{config:M,name:L}=this.auth;this.fullUserKey=G(this.userKey,M.apiKey,L),this.fullPersistenceKey=G("persistence",M.apiKey,L),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?It._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,o.Z)(function*(){if(y.persistence===g)return;const w=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,w?y.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,w="authUser"){return(0,o.Z)(function*(){if(!y.length)return new Q(te(Z),g,w);const M=(yield Promise.all(y.map(function(){var Dt=(0,o.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let L=M[0]||te(Z);const re=G(w,g.config.apiKey,g.name);let Me=null;for(const Dt of y)try{const tn=yield Dt._get(re);if(tn){const En=It._fromJSON(g,tn);Dt!==L&&(Me=En),L=Dt;break}}catch{}const lt=M.filter(Dt=>Dt._shouldAllowMigration);return L._shouldAllowMigration&&lt.length?(L=lt[0],Me&&(yield L._set(re,Me.toJSON())),yield Promise.all(y.map(function(){var Dt=(0,o.Z)(function*(tn){if(tn!==L)try{yield tn._remove(re)}catch{}});return function(tn){return Dt.apply(this,arguments)}}())),new Q(L,g,w)):new Q(L,g,w)})()}}function $(x){const g=x.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Le(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(O(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ut(g))return"Blackberry";if(Ae(g))return"Webos";if(H(g))return"Safari";if((g.includes("chrome/")||se(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const w=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function O(x=(0,z.z$)()){return/firefox\//i.test(x)}function H(x=(0,z.z$)()){const g=x.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function se(x=(0,z.z$)()){return/crios\//i.test(x)}function Le(x=(0,z.z$)()){return/iemobile/i.test(x)}function ct(x=(0,z.z$)()){return/android/i.test(x)}function ut(x=(0,z.z$)()){return/blackberry/i.test(x)}function Ae(x=(0,z.z$)()){return/webos/i.test(x)}function Be(x=(0,z.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function Lt(x=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Cn(x=(0,z.z$)()){return Be(x)||ct(x)||Ae(x)||ut(x)||/windows phone/i.test(x)||Le(x)}function Bn(x,g=[]){let y;switch(x){case"Browser":y=$((0,z.z$)());break;case"Worker":y=`${$((0,z.z$)())}-${x}`;break;default:y=x}const w=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${N.SDK_VERSION}/${w}`}class Mo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const w=L=>new Promise((re,Me)=>{try{re(g(L))}catch(lt){Me(lt)}});w.onAbort=y,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,o.Z)(function*(){var w;if(y.auth.currentUser===g)return;const M=[];try{for(const L of y.queue)yield L(g),L.onAbort&&M.push(L.onAbort)}catch(L){M.reverse();for(const re of M)try{re()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=L)||void 0===w?void 0:w.message})}})()}}class xa{constructor(g,y,w){this.app=g,this.heartbeatServiceProvider=y,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ko(this),this.idTokenSubscription=new ko(this),this.beforeStateQueue=new Mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,y){var w=this;return y&&(this._popupRedirectResolver=te(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var M,L;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,g),!w._deleted)){if(null!==(M=w._popupRedirectResolver)&&void 0!==M&&M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(y),w.lastNotifiedUid=(null===(L=w.currentUser)||void 0===L?void 0:L.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,o.Z)(function*(){var w;const M=yield y.assertedPersistence.getCurrentUser();let L=M,re=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Me=null===(w=y.redirectUser)||void 0===w?void 0:w._redirectEventId,lt=L?._redirectEventId,Dt=yield y.tryRedirectSignIn(g);(!Me||Me===lt)&&Dt?.user&&(L=Dt.user,re=!0)}if(!L)return y.directlySetCurrentUser(null);if(!L._redirectEventId){if(re)try{yield y.beforeStateQueue.runMiddleware(L)}catch(Me){L=M,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Me))}return L?y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var y=this;return(0,o.Z)(function*(){let w=null;try{w=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,o.Z)(function*(){var w;try{yield Ji(g)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){const w=g?(0,z.m9)(g):null;return w&&ae(w.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(w&&w._clone(y))})()}_updateCurrentUser(g,y=!1){var w=this;return(0,o.Z)(function*(){if(!w._deleted)return g&&ae(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),y||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,o.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new z.LL("auth","Firebase",g())}onAuthStateChanged(g,y,w){return this.registerStateListener(this.authStateSubscription,g,y,w)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,w){return this.registerStateListener(this.idTokenSubscription,g,y,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var w=this;return(0,o.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(y);return null===g?M.removeCurrentUser():M.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const w=g&&te(g)||y._popupRedirectResolver;ae(w,y,"argument-error"),y.redirectPersistenceManager=yield Q.create(y,[te(w._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,o.Z)(function*(){var w,M;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(w=y._currentUser)||void 0===w?void 0:w._redirectEventId)===g?y._currentUser:(null===(M=y.redirectUser)||void 0===M?void 0:M._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,o.Z)(function*(){if(g===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,w,M){if(this._deleted)return()=>{};const L="function"==typeof y?y:y.next.bind(y),re=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(re,this,"internal-error"),re.then(()=>L(this.currentUser)),"function"==typeof y?g.addObserver(y,w,M):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Bn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var y;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const M=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function xt(x){return(0,z.m9)(x)}class ko{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,z.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ro(x,g,y){const w=xt(x);ae(w._canInitEmulator,w,"emulator-config-failed"),ae(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const M=!!y?.disableWarnings,L=_c(g),{host:re,port:Me}=function Es(x){const g=_c(x),y=/(\/\/)?([^?#/]+)/.exec(x.substr(g.length));if(!y)return{host:"",port:null};const w=y[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const L=M[1];return{host:L,port:ui(w.substr(L.length+1))}}{const[L,re]=w.split(":");return{host:L,port:ui(re)}}}(g);w.config.emulator={url:`${L}//${re}${null===Me?"":`:${Me}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:re,port:Me,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Oo(){function x(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function _c(x){const g=x.indexOf(":");return g<0?"":x.substr(0,g+1)}function ui(x){if(!x)return null;const g=Number(x);return isNaN(g)?null:g}class gr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,y){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Dr(x,g){return di.apply(this,arguments)}function di(){return(di=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:resetPassword",Jt(x,g))})).apply(this,arguments)}function yc(x,g){return pn.apply(this,arguments)}function pn(){return(pn=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Xf(x,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:update",Jt(x,g))})).apply(this,arguments)}function Po(){return(Po=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithPassword",Jt(x,g))})).apply(this,arguments)}function ss(x,g){return No.apply(this,arguments)}function No(){return(No=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:sendOobCode",Jt(x,g))})).apply(this,arguments)}function Ds(x,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,o.Z)(function*(x,g){return ss(x,g)})).apply(this,arguments)}function Jf(x,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,o.Z)(function*(x,g){return ss(x,g)})).apply(this,arguments)}function Ir(x,g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,o.Z)(function*(x,g){return ss(x,g)})).apply(this,arguments)}function bl(x,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(x,g){return ss(x,g)})).apply(this,arguments)}function Eu(){return(Eu=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithEmailLink",Jt(x,g))})).apply(this,arguments)}function vc(){return(vc=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithEmailLink",Jt(x,g))})).apply(this,arguments)}class Cl extends gr{constructor(g,y,w,M=null){super("password",w),this._email=g,this._password=y,this._tenantId=M}static _fromEmailAndPassword(g,y){return new Cl(g,y,"password")}static _fromEmailAndCode(g,y,w=null){return new Cl(g,y,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function vl(x,g){return Po.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function _r(x,g){return Eu.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:tt(g,"internal-error")}})()}_linkToIdToken(g,y){var w=this;return(0,o.Z)(function*(){switch(w.signInMethod){case"password":return yc(g,{idToken:y,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function wg(x,g){return vc.apply(this,arguments)}(g,{idToken:y,email:w._email,oobCode:w._password});default:tt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Fo(x,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithIdp",Jt(x,g))})).apply(this,arguments)}class Is extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Is(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):tt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M}=y,L=(0,de._T)(y,["providerId","signInMethod"]);if(!w||!M)return null;const re=new Is(w,M);return re.idToken=L.idToken||void 0,re.accessToken=L.accessToken||void 0,re.secret=L.secret,re.nonce=L.nonce,re.pendingToken=L.pendingToken||null,re}_getIdTokenResponse(g){return Fo(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,Fo(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Fo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,z.xO)(y)}return g}}function Dg(x,g){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:sendVerificationCode",Jt(x,g))})).apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithPhoneNumber",Jt(x,g))})).apply(this,arguments)}function Qd(){return(Qd=(0,o.Z)(function*(x,g){const y=yield Qn(x,"POST","/v1/accounts:signInWithPhoneNumber",Jt(x,g));if(y.temporaryProof)throw ni(x,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Ig={USER_NOT_FOUND:"user-not-found"};function Xd(){return(Xd=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithPhoneNumber",Jt(x,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Ig)})).apply(this,arguments)}class wa extends gr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new wa({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new wa({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function ep(x,g){return wl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Ca(x,g){return Qd.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Sg(x,g){return Xd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:w,verificationCode:M}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:w,code:M}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:w,phoneNumber:M,temporaryProof:L}=g;return w||y||M||L?new wa({verificationId:y,verificationCode:w,phoneNumber:M,temporaryProof:L}):null}}class Ea{constructor(g){var y,w,M,L,re,Me;const lt=(0,z.zd)((0,z.pd)(g)),Dt=null!==(y=lt.apiKey)&&void 0!==y?y:null,tn=null!==(w=lt.oobCode)&&void 0!==w?w:null,En=function Jd(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=lt.mode)&&void 0!==M?M:null);ae(Dt&&tn&&En,"argument-error"),this.apiKey=Dt,this.operation=En,this.code=tn,this.continueUrl=null!==(L=lt.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(re=lt.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Me=lt.tenantId)&&void 0!==Me?Me:null}static parseLink(g){const y=function eh(x){const g=(0,z.zd)((0,z.pd)(x)).link,y=g?(0,z.zd)((0,z.pd)(g)).deep_link_id:null,w=(0,z.zd)((0,z.pd)(x)).deep_link_id;return(w?(0,z.zd)((0,z.pd)(w)).link:null)||w||y||g||x}(g);try{return new Ea(y)}catch{return null}}}let bc=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(y,w){return Cl._fromEmailAndPassword(y,w)}static credentialWithLink(y,w){const M=Ea.parseLink(w);return ae(M,"argument-error"),Cl._fromEmailAndCode(y,M.code,M.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class Bi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Da extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Xs extends Da{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),Is._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return ae(g.idToken||g.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Xs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Xs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:L,nonce:re,providerId:Me}=g;if(!w&&!M&&!y&&!L||!Me)return null;try{return new Xs(Me)._credential({idToken:y,accessToken:w,nonce:re,pendingToken:L})}catch{return null}}}let th=(()=>{class x extends Da{constructor(){super("facebook.com")}static credential(y){return Is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),xc=(()=>{class x extends Da{constructor(){super("google.com"),this.addScope("profile")}static credential(y,w){return Is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:w})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:M}=y;if(!w&&!M)return null;try{return x.credential(w,M)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Du=(()=>{class x extends Da{constructor(){super("github.com")}static credential(y){return Is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class Ia extends gr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return Fo(g,this.buildRequest())}_linkToIdToken(g,y){const w=this.buildRequest();return w.idToken=y,Fo(g,w)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,Fo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:M,pendingToken:L}=y;return w&&M&&L&&w===M?new Ia(w,L):null}static _create(g,y){return new Ia(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Bi{constructor(g){ae(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Ia.fromJSON(g);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:w}=g;if(!y||!w)return null;try{return Ia._create(w,y)}catch{return null}}}let Ss=(()=>{class x extends Da{constructor(){super("twitter.com")}static credential(y,w){return Is._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:w})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=y;if(!w||!M)return null;try{return x.credential(w,M)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function yr(x,g){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signUp",Jt(x,g))})).apply(this,arguments)}class Ar{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,w,M=!1){return(0,o.Z)(function*(){const L=yield It._fromIdTokenResponse(g,w,M),re=Vo(w);return new Ar({user:L,providerId:re,_tokenResponse:w,operationType:y})})()}static _forOperation(g,y,w){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const M=Vo(w);return new Ar({user:g,providerId:M,_tokenResponse:w,operationType:y})})()}}function Vo(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function Tg(x){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,o.Z)(function*(x){var g;const y=xt(x);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Ar({user:y.currentUser,providerId:null,operationType:"signIn"});const w=yield yr(y,{returnSecureToken:!0}),M=yield Ar._fromIdTokenResponse(y,"signIn",w,!0);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class Xn extends z.ZR{constructor(g,y,w,M){var L;super(y.code,y.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,Xn.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:y.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,y,w,M){return new Xn(g,y,w,M)}}function ih(x,g,y,w){return("reauthenticate"===g?y._getReauthenticationResolver(x):y._getIdTokenResponse(x)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Xn._fromErrorAndOperation(x,L,g,w):L})}function tp(x){return new Set(x.map(({providerId:g})=>g).filter(g=>!!g))}function jr(x,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(x,g){const y=(0,z.m9)(x);yield os(!0,y,g);const{providerUserInfo:w}=yield nt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),M=tp(w||[]);return y.providerData=y.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Cc(x,g){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,o.Z)(function*(x,g,y=!1){const w=yield Ft(x,g._linkToIdToken(x.auth,yield x.getIdToken()),y);return Ar._forOperation(x,"link",w)})).apply(this,arguments)}function os(x,g,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,o.Z)(function*(x,g,y){yield Ji(g);const M=!1===x?"provider-already-linked":"no-such-provider";ae(tp(g.providerData).has(y)===x,g.auth,M)})).apply(this,arguments)}function Su(x,g){return eo.apply(this,arguments)}function eo(){return(eo=(0,o.Z)(function*(x,g,y=!1){var w;const{auth:M}=x,L="reauthenticate";try{const re=yield Ft(x,ih(M,L,g,x),y);ae(re.idToken,M,"internal-error");const Me=mt(re.idToken);ae(Me,M,"internal-error");const{sub:lt}=Me;return ae(x.uid===lt,M,"user-mismatch"),Ar._forOperation(x,L,re)}catch(re){throw"auth/user-not-found"===(null===(w=re)||void 0===w?void 0:w.code)&&tt(M,"user-mismatch"),re}})).apply(this,arguments)}function Tu(x,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,o.Z)(function*(x,g,y=!1){const w="signIn",M=yield ih(x,w,g),L=yield Ar._fromIdTokenResponse(x,w,M);return y||(yield x._updateCurrentUser(L.user)),L})).apply(this,arguments)}function El(x,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,o.Z)(function*(x,g){return Tu(xt(x),g)})).apply(this,arguments)}function Bt(x,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,o.Z)(function*(x,g){const y=(0,z.m9)(x);return yield os(!1,y,g.providerId),Cc(y,g)})).apply(this,arguments)}function Ag(x,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(x,g){return Su((0,z.m9)(x),g)})).apply(this,arguments)}function rh(x,g){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(x,g){return Qn(x,"POST","/v1/accounts:signInWithCustomToken",Jt(x,g))})).apply(this,arguments)}function Uo(x,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(x,g){const y=xt(x),w=yield rh(y,{token:g,returnSecureToken:!0}),M=yield Ar._fromIdTokenResponse(y,"signIn",w);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}class Sa{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Oe._fromServerResponse(g,y):tt(g,"internal-error")}}class Oe extends Sa{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Oe(y)}}function en(x,g,y){var w;ae((null===(w=y.url)||void 0===w?void 0:w.length)>0,x,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,x,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function np(x,g,y){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x),M={requestType:"PASSWORD_RESET",email:g};y&&en(w,M,y),yield Jf(w,M)})).apply(this,arguments)}function bi(x,g,y){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,o.Z)(function*(x,g,y){yield Dr((0,z.m9)(x),{oobCode:g,newPassword:y})})).apply(this,arguments)}function wc(x,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,o.Z)(function*(x,g){yield Xf((0,z.m9)(x),{oobCode:g})})).apply(this,arguments)}function Ec(x,g){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,o.Z)(function*(x,g){const y=(0,z.m9)(x),w=yield Dr(y,{oobCode:g}),M=w.requestType;switch(ae(M,y,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(w.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(w.mfaInfo,y,"internal-error");default:ae(w.email,y,"internal-error")}let L=null;return w.mfaInfo&&(L=Sa._fromServerResponse(xt(y),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function ip(x,g){return Al.apply(this,arguments)}function Al(){return(Al=(0,o.Z)(function*(x,g){const{data:y}=yield Ec((0,z.m9)(x),g);return y.email})).apply(this,arguments)}function Mg(x,g,y){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,o.Z)(function*(x,g,y){const w=xt(x),M=yield yr(w,{returnSecureToken:!0,email:g,password:y}),L=yield Ar._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(L.user),L})).apply(this,arguments)}function xi(x,g,y){return El((0,z.m9)(x),bc.credential(g,y))}function as(x,g,y){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x),M={requestType:"EMAIL_SIGNIN",email:g};ae(y.handleCodeInApp,w,"argument-error"),y&&en(w,M,y),yield Ir(w,M)})).apply(this,arguments)}function kl(x,g){return"EMAIL_SIGNIN"===Ea.parseLink(g)?.operation}function Ts(x,g,y){return sh.apply(this,arguments)}function sh(){return(sh=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x),M=bc.credentialWithLink(g,y||Ue());return ae(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),El(w,M)})).apply(this,arguments)}function Au(x,g){return oh.apply(this,arguments)}function oh(){return(oh=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:createAuthUri",Jt(x,g))})).apply(this,arguments)}function rp(x,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.Z)(function*(x,g){const w={identifier:g,continueUri:He()?Ue():"http://localhost"},{signinMethods:M}=yield Au((0,z.m9)(x),w);return M||[]})).apply(this,arguments)}function Mu(x,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,o.Z)(function*(x,g){const y=(0,z.m9)(x),M={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};g&&en(y.auth,M,g);const{email:L}=yield Ds(y.auth,M);L!==x.email&&(yield x.reload())})).apply(this,arguments)}function ku(x,g,y){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:g};y&&en(w.auth,L,y);const{email:re}=yield bl(w.auth,L);re!==x.email&&(yield x.reload())})).apply(this,arguments)}function ah(x,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(x,g){return Gt(x,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function sp(x,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,o.Z)(function*(x,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const w=(0,z.m9)(x),L={idToken:yield w.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},re=yield Ft(w,ah(w.auth,L));w.displayName=re.displayName||null,w.photoURL=re.photoUrl||null;const Me=w.providerData.find(({providerId:lt})=>"password"===lt);Me&&(Me.displayName=w.displayName,Me.photoURL=w.photoURL),yield w._updateTokensIfNecessary(re)})).apply(this,arguments)}function op(x,g){return to((0,z.m9)(x),g,null)}function lh(x,g){return to((0,z.m9)(x),null,g)}function to(x,g,y){return no.apply(this,arguments)}function no(){return(no=(0,o.Z)(function*(x,g,y){const{auth:w}=x,L={idToken:yield x.getIdToken(),returnSecureToken:!0};g&&(L.email=g),y&&(L.password=y);const re=yield Ft(x,yc(w,L));yield x._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class Gn{constructor(g,y,w={}){this.isNewUser=g,this.providerId=y,this.profile=w}}class As extends Gn{constructor(g,y,w,M){super(g,y,w),this.username=M}}class Wn extends Gn{constructor(g,y){super(g,"facebook.com",y)}}class Ru extends As{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Ou extends Gn{constructor(g,y){super(g,"google.com",y)}}class uh extends As{constructor(g,y,w){super(g,"twitter.com",y,w)}}function Pu(x){const{user:g,_tokenResponse:y}=x;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function ch(x){var g,y;if(!x)return null;const{providerId:w}=x,M=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},L=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!w&&x?.idToken){const re=null===(y=null===(g=mt(x.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(re)return new Gn(L,"anonymous"!==re&&"custom"!==re?re:null)}if(!w)return null;switch(w){case"facebook.com":return new Wn(L,M);case"github.com":return new Ru(L,M);case"google.com":return new Ou(L,M);case"twitter.com":return new uh(L,M,x.screenName||null);case"custom":case"anonymous":return new Gn(L,null);default:return new Gn(L,w,M)}}(y)}class kr{constructor(g,y,w){this.type=g,this.credential=y,this.auth=w}static _fromIdtoken(g,y){return new kr("enroll",g,y)}static _fromMfaPendingCredential(g){return new kr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,w;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return kr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(w=g.multiFactorSession)&&void 0!==w&&w.idToken)return kr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Lu{constructor(g,y,w){this.session=g,this.hints=y,this.signInResolver=w}static _fromError(g,y){const w=xt(g),M=y.customData._serverResponse,L=(M.mfaInfo||[]).map(Me=>Sa._fromServerResponse(w,Me));ae(M.mfaPendingCredential,w,"internal-error");const re=kr._fromMfaPendingCredential(M.mfaPendingCredential);return new Lu(re,L,function(){var Me=(0,o.Z)(function*(lt){const Dt=yield lt._process(w,re);delete M.mfaInfo,delete M.mfaPendingCredential;const tn=Object.assign(Object.assign({},M),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(y.operationType){case"signIn":const En=yield Ar._fromIdTokenResponse(w,y.operationType,tn);return yield w._updateCurrentUser(En.user),En;case"reauthenticate":return ae(y.user,w,"internal-error"),Ar._forOperation(y.user,y.operationType,tn);default:tt(w,"internal-error")}});return function(lt){return Me.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,o.Z)(function*(){return y.signInResolver(g)})()}}function fh(x,g){var y;const w=(0,z.m9)(x),M=g;return ae(g.customData.operationType,w,"argument-error"),ae(null===(y=M.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,w,"argument-error"),Lu._fromError(w,M)}function ri(x,g){return Gt(x,"POST","/v2/accounts/mfaEnrollment:start",Jt(x,g))}class Tc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(w=>Sa._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Tc(g)}getSession(){var g=this;return(0,o.Z)(function*(){return kr._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,y){var w=this;return(0,o.Z)(function*(){const M=g,L=yield w.getSession(),re=yield Ft(w.user,M._process(w.user.auth,L,y));return yield w.user._updateTokensIfNecessary(re),w.user.reload()})()}unenroll(g){var y=this;return(0,o.Z)(function*(){var w;const M="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),re=yield Ft(y.user,function Sc(x,g){return Gt(x,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(x,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:M}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Me})=>Me!==M),yield y.user._updateTokensIfNecessary(re);try{yield y.user.reload()}catch(Me){if("auth/user-token-expired"!==(null===(w=Me)||void 0===w?void 0:w.code))throw Me}})()}}const ap=new WeakMap;function Nl(x){const g=(0,z.m9)(x);return ap.has(g)||ap.set(g,Tc._fromUser(g)),ap.get(g)}const Ms="__sak";class Fl{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Ms,"1"),this.storage.removeItem(Ms),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ci=(()=>{class x extends Fl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,w)=>this.onStorageEvent(y,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vu(){const x=(0,z.z$)();return H(x)||Be(x)}()&&function ws(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),L=this.localCache[w];M!==L&&y(w,L,M)}}onStorageEvent(y,w=!1){if(!y.key)return void this.forAllChangedKeys((Me,lt,Dt)=>{this.notifyListeners(Me,Dt)});const M=y.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Me=this.storage.getItem(M);if(y.newValue!==Me)null!==y.newValue?this.storage.setItem(M,y.newValue):this.storage.removeItem(M);else if(this.localCache[M]===y.newValue&&!w)return}const L=()=>{const Me=this.storage.getItem(M);!w&&this.localCache[M]===Me||this.notifyListeners(M,Me)},re=this.storage.getItem(M);!function Ht(){return(0,z.w1)()&&10===document.documentMode}()||re===y.newValue||y.newValue===y.oldValue?L():setTimeout(L,10)}notifyListeners(y,w){this.localCache[y]=w;const M=this.listeners[y];if(M)for(const L of Array.from(M))L(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,w){var M=()=>super._set,L=this;return(0,o.Z)(function*(){yield M().call(L,y,w),L.localCache[y]=JSON.stringify(w)})()}_get(y){var w=()=>super._get,M=this;return(0,o.Z)(function*(){const L=yield w().call(M,y);return M.localCache[y]=JSON.stringify(L),L})()}_remove(y){var w=()=>super._remove,M=this;return(0,o.Z)(function*(){yield w().call(M,y),delete M.localCache[y]})()}}return x.type="LOCAL",x})(),io=(()=>{class x extends Fl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,w){}_removeListener(y,w){}}return x.type="SESSION",x})();let Vl=(()=>{class x{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const w=this.receivers.find(L=>L.isListeningto(y));if(w)return w;const M=new x(y);return this.receivers.push(M),M}isListeningto(y){return this.eventTarget===y}handleEvent(y){var w=this;return(0,o.Z)(function*(){const M=y,{eventId:L,eventType:re,data:Me}=M.data,lt=w.handlersMap[re];if(!lt?.size)return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:re});const Dt=Array.from(lt).map(function(){var En=(0,o.Z)(function*(ur){return ur(M.origin,Me)});return function(ur){return En.apply(this,arguments)}}()),tn=yield function Bu(x){return Promise.all(x.map(function(){var g=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(w){return{fulfilled:!1,reason:w}}});return function(y){return g.apply(this,arguments)}}()))}(Dt);M.ports[0].postMessage({status:"done",eventId:L,eventType:re,response:tn})})()}_subscribe(y,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(w)}_unsubscribe(y,w){this.handlersMap[y]&&w&&this.handlersMap[y].delete(w),(!w||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function Fa(x="",g=10){let y="";for(let w=0;w<g;w++)y+=Math.floor(10*Math.random());return x+y}class up{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,w=50){var M=this;return(0,o.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let re,Me;return new Promise((lt,Dt)=>{const tn=Fa("",20);L.port1.start();const En=setTimeout(()=>{Dt(new Error("unsupported_event"))},w);Me={messageChannel:L,onMessage(ur){const hs=ur;if(hs.data.eventId===tn)switch(hs.data.status){case"ack":clearTimeout(En),re=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),lt(hs.data.response);break;default:clearTimeout(En),clearTimeout(re),Dt(new Error("invalid_response"))}}},M.handlers.add(Me),L.port1.addEventListener("message",Me.onMessage),M.target.postMessage({eventType:g,eventId:tn,data:y},[L.port2])}).finally(()=>{Me&&M.removeMessageHandler(Me)})})()}}function si(){return window}function vr(){return typeof si().WorkerGlobalScope<"u"&&"function"==typeof si().importScripts}function ks(){return(ks=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bl="firebaseLocalStorageDb",Ul="firebaseLocalStorage",La="fbase_key";class $o{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Va(x,g){return x.transaction([Ul],g?"readwrite":"readonly").objectStore(Ul)}function Mc(){const x=indexedDB.open(Bl,1);return new Promise((g,y)=>{x.addEventListener("error",()=>{y(x.error)}),x.addEventListener("upgradeneeded",()=>{const w=x.result;try{w.createObjectStore(Ul,{keyPath:La})}catch(M){y(M)}}),x.addEventListener("success",(0,o.Z)(function*(){const w=x.result;w.objectStoreNames.contains(Ul)?g(w):(w.close(),yield function _h(){const x=indexedDB.deleteDatabase(Bl);return new $o(x).toPromise()}(),g(yield Mc()))}))})}function Hl(x,g,y){return ls.apply(this,arguments)}function ls(){return(ls=(0,o.Z)(function*(x,g,y){const w=Va(x,!0).put({[La]:g,value:y});return new $o(w).toPromise()})).apply(this,arguments)}function Ba(){return(Ba=(0,o.Z)(function*(x,g){const y=Va(x,!1).get(g),w=yield new $o(y).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function kc(x,g){const y=Va(x,!0).delete(g);return new $o(y).toPromise()}const Ha=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Mc()),y.db})()}_withRetries(y){var w=this;return(0,o.Z)(function*(){let M=0;for(;;)try{const L=yield w._openDb();return yield y(L)}catch(L){if(M++>3)throw L;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return vr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Vl._getInstance(function Ac(){return vr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var w=(0,o.Z)(function*(M,L){return{keyProcessed:(yield y._poll()).includes(L.key)}});return function(M,L){return w.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var w=(0,o.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return w.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var w,M;if(y.activeServiceWorker=yield function gh(){return ks.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new up(y.activeServiceWorker);const L=yield y.sender._send("ping",{},800);!L||(null===(w=L[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var w=this;return(0,o.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Uu(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:y},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Mc();return yield Hl(y,Ms,"1"),yield kc(y,Ms),!0}catch{}return!1})()}_withPendingWrite(y){var w=this;return(0,o.Z)(function*(){w.pendingWrites++;try{yield y()}finally{w.pendingWrites--}})()}_set(y,w){var M=this;return(0,o.Z)(function*(){return M._withPendingWrite((0,o.Z)(function*(){return yield M._withRetries(L=>Hl(L,y,w)),M.localCache[y]=w,M.notifyServiceWorker(y)}))})()}_get(y){var w=this;return(0,o.Z)(function*(){const M=yield w._withRetries(L=>function dp(x,g){return Ba.apply(this,arguments)}(L,y));return w.localCache[y]=M,M})()}_remove(y){var w=this;return(0,o.Z)(function*(){return w._withPendingWrite((0,o.Z)(function*(){return yield w._withRetries(M=>kc(M,y)),delete w.localCache[y],w.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const w=yield y._withRetries(re=>{const Me=Va(re,!1).getAll();return new $o(Me).toPromise()});if(!w)return[];if(0!==y.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:re,value:Me}of w)L.add(re),JSON.stringify(y.localCache[re])!==JSON.stringify(Me)&&(y.notifyListeners(re,Me),M.push(re));for(const re of Object.keys(y.localCache))y.localCache[re]&&!L.has(re)&&(y.notifyListeners(re,null),M.push(re));return M})()}notifyListeners(y,w){this.localCache[y]=w;const M=this.listeners[y];if(M)for(const L of Array.from(M))L(w)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(w)}_removeListener(y,w){this.listeners[y]&&(this.listeners[y].delete(w),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})();function hp(x,g){return Gt(x,"POST","/v2/accounts/mfaSignIn:start",Jt(x,g))}function er(){return(er=(0,o.Z)(function*(x){return(yield Gt(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zo(x){return new Promise((g,y)=>{const w=document.createElement("script");w.setAttribute("src",x),w.onload=g,w.onerror=M=>{const L=Ne("internal-error");L.customData=M,y(L)},w.type="text/javascript",w.charset="UTF-8",function $a(){var x,g;return null!==(g=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==g?g:document}().appendChild(w)})}function za(x){return`__${x}${Math.floor(1e6*Math.random())}`}const cs=1e12;class yh{constructor(g){this.auth=g,this.counter=cs,this._widgets=new Map}render(g,y){const w=this.counter;return this._widgets.set(w,new Un(g,this.auth.name,y||{})),this.counter++,w}reset(g){var y;const w=g||cs;null===(y=this._widgets.get(w))||void 0===y||y.delete(),this._widgets.delete(w)}getResponse(g){var y;return(null===(y=this._widgets.get(g||cs))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,o.Z)(function*(){var w;return null===(w=y._widgets.get(g||cs))||void 0===w||w.execute(),""})()}}class Un{constructor(g,y,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof g?document.getElementById(g):g;ae(M,"argument-error",{appName:y}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kg(x){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<x;w++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fp=za("rcb"),oC=new Qe(3e4,6e4);class wv{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=si().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return ae(function pp(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(si().grecaptcha):new Promise((w,M)=>{const L=si().setTimeout(()=>{M(Ne(g,"network-request-failed"))},oC.get());si()[fp]=()=>{si().clearTimeout(L),delete si()[fp];const Me=si().grecaptcha;if(!Me)return void M(Ne(g,"internal-error"));const lt=Me.render;Me.render=(Dt,tn)=>{const En=lt(Dt,tn);return this.counter++,En},this.hostLanguage=y,w(Me)},zo(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:fp,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(L),M(Ne(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=si().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class aC{load(g){return(0,o.Z)(function*(){return new yh(g)})()}clearedOneInstance(){}}const Go="recaptcha",Ev={theme:"light",type:"image"};class Rg{constructor(g,y=Object.assign({},Ev),w){this.parameters=y,this.type=Go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xt(w),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof g?document.getElementById(g):g;ae(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aC:new wv,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(y)||new Promise(L=>{const re=Me=>{!Me||(g.tokenChangeListeners.delete(re),L(Me))};g.tokenChangeListeners.add(re),g.isInvisible&&w.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(w=>w(y)),"function"==typeof g)g(y);else if("string"==typeof g){const w=si()[g];"function"==typeof w&&w(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const w=document.createElement("div");y.appendChild(w),y=w}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){ae(He()&&!vr(),g.auth,"internal-error"),yield function Ri(){let x=null;return new Promise(g=>{"complete"!==document.readyState?(x=()=>g(),window.addEventListener("load",x)):g()}).catch(g=>{throw x&&window.removeEventListener("load",x),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Rc(x){return er.apply(this,arguments)}(g.auth);ae(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dn{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=wa._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function us(x,g,y){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,o.Z)(function*(x,g,y){const w=xt(x),M=yield Hn(w,g,(0,z.m9)(y));return new dn(M,L=>El(w,L))})).apply(this,arguments)}function dt(x,g,y){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x);yield os(!1,w,"phone");const M=yield Hn(w.auth,g,(0,z.m9)(y));return new dn(M,L=>Bt(w,L))})).apply(this,arguments)}function Rs(x,g,y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x),M=yield Hn(w.auth,g,(0,z.m9)(y));return new dn(M,L=>Ag(w,L))})).apply(this,arguments)}function Hn(x,g,y){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(x,g,y){var w;const M=yield y.verify();try{let L;if(ae("string"==typeof M,x,"argument-error"),ae(y.type===Go,x,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const re=L.session;if("phoneNumber"in L)return ae("enroll"===re.type,x,"internal-error"),(yield ri(x,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ae("signin"===re.type,x,"internal-error");const Me=(null===(w=L.multiFactorHint)||void 0===w?void 0:w.uid)||L.multiFactorUid;return ae(Me,x,"missing-multi-factor-info"),(yield hp(x,{mfaPendingCredential:re.credential,mfaEnrollmentId:Me,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield Dg(x,{phoneNumber:L.phoneNumber,recaptchaToken:M});return re}}finally{y._reset()}})).apply(this,arguments)}function vh(x,g){return bh.apply(this,arguments)}function bh(){return(bh=(0,o.Z)(function*(x,g){yield Cc((0,z.m9)(x),g)})).apply(this,arguments)}let mp=(()=>{class x{constructor(y){this.providerId=x.PROVIDER_ID,this.auth=xt(y)}verifyPhoneNumber(y,w){return Hn(this.auth,y,(0,z.m9)(w))}static credential(y,w){return wa._fromVerification(y,w)}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:w,temporaryProof:M}=y;return w&&M?wa._fromTokenResponse(w,M):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function so(x,g){return g?te(g):(ae(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class xh extends gr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Fo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return Fo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return Fo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Os(x){return Tu(x.auth,new xh(x),x.bypassAuthState)}function Ye(x){const{auth:g,user:y}=x;return ae(y,g,"internal-error"),Su(y,new xh(x),x.bypassAuthState)}function $u(x){return ds.apply(this,arguments)}function ds(){return(ds=(0,o.Z)(function*(x){const{auth:g,user:y}=x;return ae(y,g,"internal-error"),Cc(y,new xh(x),x.bypassAuthState)})).apply(this,arguments)}class jl{constructor(g,y,w,M,L=!1){this.auth=g,this.resolver=w,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,o.Z)(function*(w,M){g.pendingPromise={resolve:w,reject:M};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(w,M){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,o.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:L,tenantId:re,error:Me,type:lt}=g;if(Me)return void y.reject(Me);const Dt={auth:y.auth,requestUri:w,sessionId:M,tenantId:re||void 0,postBody:L||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(lt)(Dt))}catch(tn){y.reject(tn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Os;case"linkViaPopup":case"linkViaRedirect":return $u;case"reauthViaPopup":case"reauthViaRedirect":return Ye;default:tt(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $l=new Qe(2e3,1e4);function jn(x,g,y){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.Z)(function*(x,g,y){const w=xt(x);Ee(x,g,Bi);const M=so(w,y);return new Oc(w,"signInViaPopup",g,M).executeNotNull()})).apply(this,arguments)}function Gl(x,g,y){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x);Ee(w.auth,g,Bi);const M=so(w.auth,y);return new Oc(w.auth,"reauthViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}function gp(x,g,y){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x);Ee(w.auth,g,Bi);const M=so(w.auth,y);return new Oc(w.auth,"linkViaPopup",g,M,w).executeNotNull()})).apply(this,arguments)}let Oc=(()=>{class x extends jl{constructor(y,w,M,L,re){super(y,w,L,re),this.provider=M,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const w=yield y.execute();return ae(w,y.auth,"internal-error"),w})()}onExecution(){var y=this;return(0,o.Z)(function*(){be(1===y.filter.length,"Popup operations only handle one event");const w=Fa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],w),y.authWindow.associatedEvent=w,y.resolver._originValidation(y.auth).catch(M=>{y.reject(M)}),y.resolver._isIframeWebStorageSupported(y.auth,M=>{M||y.reject(Ne(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const y=()=>{var w,M;this.pollId=null!==(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==M&&M.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,$l.get())};y()}}return x.currentPopupAction=null,x})();const zr=new Map;class br extends jl{constructor(g,y,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,o.Z)(function*(){let w=zr.get(y.auth._key());if(!w){try{const L=(yield function Pc(x,g){return tr.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;w=()=>Promise.resolve(L)}catch(M){w=()=>Promise.reject(M)}zr.set(y.auth._key(),w)}return y.bypassAuthState||zr.set(y.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,w=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(w,g);if("unknown"!==g.type){if(g.eventId){const M=yield w.auth._redirectUserForId(g.eventId);if(M)return w.user=M,y().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function tr(){return(tr=(0,o.Z)(function*(x,g){const y=Yo(g),w=ao(x);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(y));return yield w._remove(y),M})).apply(this,arguments)}function oo(x,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,o.Z)(function*(x,g){return ao(x)._set(Yo(g),"true")})).apply(this,arguments)}function Oi(){zr.clear()}function wn(x,g){zr.set(x._key(),g)}function ao(x){return te(x._redirectPersistence)}function Yo(x){return G("pendingRedirect",x.config.apiKey,x.name)}function Jn(x,g,y){return function Rt(x,g,y){return hi.apply(this,arguments)}(x,g,y)}function hi(){return(hi=(0,o.Z)(function*(x,g,y){const w=xt(x);Ee(x,g,Bi);const M=so(w,y);return yield oo(M,w),M._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function vn(x,g,y){return function I(x,g,y){return S.apply(this,arguments)}(x,g,y)}function S(){return(S=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x);Ee(w.auth,g,Bi);const M=so(w.auth,y);yield oo(M,w.auth);const L=yield kt(w);return M._openRedirect(w.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function k(x,g,y){return function j(x,g,y){return X.apply(this,arguments)}(x,g,y)}function X(){return(X=(0,o.Z)(function*(x,g,y){const w=(0,z.m9)(x);Ee(w.auth,g,Bi);const M=so(w.auth,y);yield os(!1,w,g.providerId),yield oo(M,w.auth);const L=yield kt(w);return M._openRedirect(w.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function ce(x,g){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.Z)(function*(x,g){return yield xt(x)._initializationPromise,We(x,g,!1)})).apply(this,arguments)}function We(x,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,o.Z)(function*(x,g,y=!1){const w=xt(x),M=so(w,g),re=yield new br(w,M,y).execute();return re&&!y&&(delete re.user._redirectEventId,yield w._persistUserIfCurrent(re.user),yield w._setRedirectUser(null,g)),re})).apply(this,arguments)}function kt(x){return jt.apply(this,arguments)}function jt(){return(jt=(0,o.Z)(function*(x){const g=Fa(`${x.uid}:::`);return x._redirectEventId=g,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),g})).apply(this,arguments)}class fi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(y=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Wt(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lo(x);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var w;if(g.error&&!lo(g)){const M=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,M))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const w=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pi(g))}saveEventToCache(g){this.cachedEventUids.add(Pi(g)),this.lastProcessedEventTime=Date.now()}}function Pi(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(g=>g).join("-")}function lo({type:x,error:g}){return"unknown"===x&&"auth/no-auth-event"===g?.code}function ji(x){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,o.Z)(function*(x,g={}){return Gt(x,"GET","/v1/projects",g)})).apply(this,arguments)}const co=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nc=/^https?/;function Ni(){return(Ni=(0,o.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:g}=yield ji(x);for(const y of g)try{if(Ch(y))return}catch{}tt(x,"unauthorized-domain")})).apply(this,arguments)}function Ch(x){const g=Ue(),{protocol:y,hostname:w}=new URL(g);if(x.startsWith("chrome-extension://")){const re=new URL(x);return""===re.hostname&&""===w?"chrome-extension:"===y&&x.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&re.hostname===w}if(!Nc.test(y))return!1;if(co.test(x))return w===x;const M=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const Og=new Qe(3e4,6e4);function _p(){const x=si().___jsl;if(x?.H)for(const g of Object.keys(x.H))if(x.H[g].r=x.H[g].r||[],x.H[g].L=x.H[g].L||[],x.H[g].r=[...x.H[g].L],x.CP)for(let y=0;y<x.CP.length;y++)x.CP[y]=null}let oi=null;function Qo(x){return oi=oi||function lC(x){return new Promise((g,y)=>{var w,M,L;function re(){_p(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{_p(),y(Ne(x,"network-request-failed"))},timeout:Og.get()})}if(null!==(M=null===(w=si().gapi)||void 0===w?void 0:w.iframes)&&void 0!==M&&M.Iframe)g(gapi.iframes.getContext());else{if(null===(L=si().gapi)||void 0===L||!L.load){const Me=za("iframefcb");return si()[Me]=()=>{gapi.load?re():y(Ne(x,"network-request-failed"))},zo(`https://apis.google.com/js/api.js?onload=${Me}`).catch(lt=>y(lt))}re()}}).catch(g=>{throw oi=null,g})}(x),oi}const yp=new Qe(5e3,15e3),vp={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bp(x){const g=x.config;ae(g.authDomain,x,"auth-domain-config-required");const y=g.emulator?bn(g,"emulator/auth/iframe"):`https://${x.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:x.name,v:N.SDK_VERSION},M=Dv.get(x.config.apiHost);M&&(w.eid=M);const L=x._getFrameworks();return L.length&&(w.fw=L.join(",")),`${y}?${(0,z.xO)(w).slice(1)}`}function wh(){return wh=(0,o.Z)(function*(x){const g=yield Qo(x),y=si().gapi;return ae(y,x,"internal-error"),g.open({where:document.body,url:bp(x),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vp,dontclear:!0},w=>new Promise(function(){var M=(0,o.Z)(function*(L,re){yield w.restyle({setHideOnLeave:!1});const Me=Ne(x,"network-request-failed"),lt=si().setTimeout(()=>{re(Me)},yp.get());function Dt(){si().clearTimeout(lt),L(w)}w.ping(Dt).then(Dt,()=>{re(Me)})});return function(L,re){return M.apply(this,arguments)}}()))}),wh.apply(this,arguments)}const zu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fc(x,g,y,w,M,L){ae(x.config.authDomain,x,"auth-domain-config-required"),ae(x.config.apiKey,x,"invalid-api-key");const re={apiKey:x.config.apiKey,appName:x.name,authType:y,redirectUrl:w,v:N.SDK_VERSION,eventId:M};if(g instanceof Bi){g.setDefaultLanguage(x.languageCode),re.providerId=g.providerId||"",(0,z.xb)(g.getCustomParameters())||(re.customParameters=JSON.stringify(g.getCustomParameters()));for(const[lt,Dt]of Object.entries(L||{}))re[lt]=Dt}if(g instanceof Da){const lt=g.getScopes().filter(Dt=>""!==Dt);lt.length>0&&(re.scopes=lt.join(","))}x.tenantId&&(re.tid=x.tenantId);const Me=re;for(const lt of Object.keys(Me))void 0===Me[lt]&&delete Me[lt];return`${function ql({config:x}){return x.emulator?bn(x,"emulator/auth/handler"):`https://${x.authDomain}/__/auth/handler`}(x)}?${(0,z.xO)(Me).slice(1)}`}const Lc="webStorageSupport",Cp=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=io,this._completeRedirectFn=We,this._overrideRedirectResult=wn}_openPopup(g,y,w,M){var L=this;return(0,o.Z)(function*(){var re;be(null===(re=L.eventManagers[g._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Me=Fc(g,y,w,Ue(),M);return function Dh(x,g,y,w=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),re=Math.max((window.screen.availWidth-w)/2,0).toString();let Me="";const lt=Object.assign(Object.assign({},zu),{width:w.toString(),height:M.toString(),top:L,left:re}),Dt=(0,z.z$)().toLowerCase();y&&(Me=se(Dt)?"_blank":y),O(Dt)&&(g=g||"http://localhost",lt.scrollbars="yes");const tn=Object.entries(lt).reduce((ur,[hs,Th])=>`${ur}${hs}=${Th},`,"");if(function xn(x=(0,z.z$)()){var g;return Be(x)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Dt)&&"_self"!==Me)return function Jo(x,g){const y=document.createElement("a");y.href=x,y.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(w)}(g||"",Me),new Gu(null);const En=window.open(g||"",Me,tn);ae(En,x,"popup-blocked");try{En.focus()}catch{}return new Gu(En)}(g,Me,Fa())})()}_openRedirect(g,y,w,M){var L=this;return(0,o.Z)(function*(){return yield L._originValidation(g),function mh(x){si().location.href=x}(Fc(g,y,w,Ue(),M)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:M,promise:L}=this.eventManagers[y];return M?Promise.resolve(M):(be(L,"If manager is not set, promise should be"),L)}const w=this.initAndGetManager(g);return this.eventManagers[y]={promise:w},w.catch(()=>{delete this.eventManagers[y]}),w}initAndGetManager(g){var y=this;return(0,o.Z)(function*(){const w=yield function Ng(x){return wh.apply(this,arguments)}(g),M=new fi(g);return w.register("authEvent",L=>(ae(L?.authEvent,g,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:M},y.iframes[g._key()]=w,M})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Lc,{type:Lc},M=>{var L;const re=null===(L=M?.[0])||void 0===L?void 0:L[Lc];void 0!==re&&y(!!re),tt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function uo(x){return Ni.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return Cn()||H()||Be()}};class wp extends class Ih{constructor(g){this.factorId=g}_process(g,y,w){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,w);case"signin":return this._finalizeSignIn(g,y.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new wp(g)}_finalizeEnroll(g,y,w){return function Ic(x,g){return Gt(x,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(x,g))}(g,{idToken:y,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function ja(x,g){return Gt(x,"POST","/v2/accounts/mfaSignIn:finalize",Jt(x,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ps=(()=>{class x{constructor(){}static assertion(y){return wp._fromCredential(y)}}return x.FACTOR_ID="phone",x})();var ho="@firebase/auth",Ep="0.20.11";class Lg{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(w=>{var M;g((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sh=(0,z.Pz)("authIdTokenMaxAge")||300;let Dp=null;const Av=x=>function(){var g=(0,o.Z)(function*(y){const w=y&&(yield y.getIdTokenResult()),M=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(M&&M>Sh)return;const L=w?.token;Dp!==L&&(Dp=L,yield fetch(x,{method:L?"POST":"DELETE",headers:L?{Authorization:`Bearer ${L}`}:{}}))});return function(y){return g.apply(this,arguments)}}();function Mv(x=(0,N.getApp)()){const g=(0,N._getProvider)(x,"auth");if(g.isInitialized())return g.getImmediate();const y=function me(x,g){const y=(0,N._getProvider)(x,"auth");if(y.isInitialized()){const M=y.getImmediate(),L=y.getOptions();if((0,z.vZ)(L,g??{}))return M;tt(M,"already-initialized")}return y.initialize({options:g})}(x,{popupRedirectResolver:Cp,persistence:[Ha,Ci,io]}),w=(0,z.Pz)("authTokenSyncURL");if(w){const L=Av(w);(function Dc(x,g,y){(0,z.m9)(x).beforeAuthStateChanged(g,y)})(y,L,()=>L(y.currentUser)),function Fu(x,g,y,w){(0,z.m9)(x).onIdTokenChanged(g,y,w)}(y,re=>L(re))}const M=(0,z.q4)("auth");return M&&Ro(y,`http://${M}`),y}!function Sv(x){(0,N._registerComponent)(new _e.wA("auth",(g,{options:y})=>{const w=g.getProvider("app").getImmediate(),M=g.getProvider("heartbeat"),{apiKey:L,authDomain:re}=w.options;return((Me,lt)=>{ae(L&&!L.includes(":"),"invalid-api-key",{appName:Me.name}),ae(!re?.includes(":"),"argument-error",{appName:Me.name});const Dt={apiKey:L,authDomain:re,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bn(x)},tn=new xa(Me,lt,Dt);return function ue(x,g){const y=g?.persistence||[],w=(Array.isArray(y)?y:[y]).map(te);g?.errorMap&&x._updateErrorMap(g.errorMap),x._initializeWithPersistence(w,g?.popupRedirectResolver)}(tn,y),tn})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,w)=>{g.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new _e.wA("auth-internal",g=>{const y=xt(g.getProvider("auth").getImmediate());return new Lg(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(ho,Ep,function Iv(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,N.registerVersion)(ho,Ep,"esm2017")}("Browser")},2090:(ft,Te,B)=>{B.d(Te,{$s:()=>ot,BH:()=>qt,DV:()=>ni,Dv:()=>lr,G6:()=>Ee,GJ:()=>is,L:()=>pe,LL:()=>cn,P0:()=>He,Pz:()=>fn,Sg:()=>Qe,UG:()=>De,UI:()=>rs,US:()=>_e,Wj:()=>Mt,Wl:()=>Vi,Yr:()=>Re,ZB:()=>W,ZR:()=>Ln,aH:()=>bt,b$:()=>ge,cI:()=>Gt,dS:()=>Ut,eu:()=>ae,g5:()=>N,gK:()=>ci,gQ:()=>On,h$:()=>ie,hl:()=>qe,hu:()=>z,jU:()=>at,lb:()=>Ji,m9:()=>an,ne:()=>Vn,p$:()=>Y,pd:()=>Ao,q4:()=>Ue,r3:()=>ar,ru:()=>Ce,tV:()=>ve,uI:()=>Pe,ug:()=>mr,vZ:()=>nt,w1:()=>tt,w9:()=>ns,xO:()=>Rn,xb:()=>Hr,z$:()=>je,zI:()=>he,zd:()=>ki});const z=function(Z,G){if(!Z)throw N(G)},N=function(Z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Z)},le=function(Z){const G=[];let Q=0;for(let $=0;$<Z.length;$++){let O=Z.charCodeAt($);O<128?G[Q++]=O:O<2048?(G[Q++]=O>>6|192,G[Q++]=63&O|128):55296==(64512&O)&&$+1<Z.length&&56320==(64512&Z.charCodeAt($+1))?(O=65536+((1023&O)<<10)+(1023&Z.charCodeAt(++$)),G[Q++]=O>>18|240,G[Q++]=O>>12&63|128,G[Q++]=O>>6&63|128,G[Q++]=63&O|128):(G[Q++]=O>>12|224,G[Q++]=O>>6&63|128,G[Q++]=63&O|128)}return G},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,G){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,$=[];for(let O=0;O<Z.length;O+=3){const H=Z[O],se=O+1<Z.length,Le=se?Z[O+1]:0,ct=O+2<Z.length,ut=ct?Z[O+2]:0;let Lt=(15&Le)<<2|ut>>6,xn=63&ut;ct||(xn=64,se||(Lt=64)),$.push(Q[H>>2],Q[(3&H)<<4|Le>>4],Q[Lt],Q[xn])}return $.join("")},encodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Z):this.encodeByteArray(le(Z),G)},decodeString(Z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Z):function(Z){const G=[];let Q=0,$=0;for(;Q<Z.length;){const O=Z[Q++];if(O<128)G[$++]=String.fromCharCode(O);else if(O>191&&O<224){const H=Z[Q++];G[$++]=String.fromCharCode((31&O)<<6|63&H)}else if(O>239&&O<365){const ct=((7&O)<<18|(63&Z[Q++])<<12|(63&Z[Q++])<<6|63&Z[Q++])-65536;G[$++]=String.fromCharCode(55296+(ct>>10)),G[$++]=String.fromCharCode(56320+(1023&ct))}else{const H=Z[Q++],se=Z[Q++];G[$++]=String.fromCharCode((15&O)<<12|(63&H)<<6|63&se)}}return G.join("")}(this.decodeStringToByteArray(Z,G))},decodeStringToByteArray(Z,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,$=[];for(let O=0;O<Z.length;){const H=Q[Z.charAt(O++)],Le=O<Z.length?Q[Z.charAt(O)]:0;++O;const ut=O<Z.length?Q[Z.charAt(O)]:64;++O;const Be=O<Z.length?Q[Z.charAt(O)]:64;if(++O,null==H||null==Le||null==ut||null==Be)throw Error();$.push(H<<2|Le>>4),64!==ut&&($.push(Le<<4&240|ut>>2),64!==Be&&$.push(ut<<6&192|Be))}return $},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},ie=function(Z){const G=le(Z);return _e.encodeByteArray(G,!0)},pe=function(Z){return ie(Z).replace(/\./g,"")},ve=function(Z){try{return _e.decodeString(Z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Y(Z){return W(void 0,Z)}function W(Z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return G}for(const Q in G)!G.hasOwnProperty(Q)||!ee(Q)||(Z[Q]=W(Z[Q],G[Q]));return Z}function ee(Z){return"__proto__"!==Z}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function Ce(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){const Z=je();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Re(){return!1}function Ee(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){return"object"==typeof indexedDB}function ae(){return new Promise((Z,G)=>{try{let Q=!0;const $="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open($);O.onsuccess=()=>{O.result.close(),Q||self.indexedDB.deleteDatabase($),Z(!0)},O.onupgradeneeded=()=>{Q=!1},O.onerror=()=>{var H;G((null===(H=O.error)||void 0===H?void 0:H.message)||"")}}catch(Q){G(Q)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ue=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Z=process.env.__FIREBASE_DEFAULTS__;return Z?JSON.parse(Z):void 0})()||(()=>{if(typeof document>"u")return;let Z;try{Z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=Z&&ve(Z[1]);return G&&JSON.parse(G)})()}catch(Z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Z}`)}},Ue=Z=>{var G,Q;return null===(Q=null===(G=ue())||void 0===G?void 0:G.emulatorHosts)||void 0===Q?void 0:Q[Z]},He=Z=>{const G=Ue(Z);if(!G)return;const Q=G.lastIndexOf(":");if(Q<=0||Q+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const $=parseInt(G.substring(Q+1),10);return"["===G[0]?[G.substring(1,Q-1),$]:[G.substring(0,Q),$]},bt=()=>{var Z;return null===(Z=ue())||void 0===Z?void 0:Z.config},fn=Z=>{var G;return null===(G=ue())||void 0===G?void 0:G[`_${Z}`]};class qt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,$)=>{Q?this.reject(Q):this.resolve($),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,$))}}}function Qe(Z,G){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $=G||"demo-project",O=Z.iat||0,H=Z.sub||Z.user_id;if(!H)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const se=Object.assign({iss:`https://securetoken.google.com/${$}`,aud:$,iat:O,exp:O+3600,auth_time:O,sub:H,user_id:H,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(se)),""].join(".")}class Ln extends Error{constructor(G,Q,$){super(Q),this.code=G,this.customData=$,this.name="FirebaseError",Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}}class cn{constructor(G,Q,$){this.service=G,this.serviceName=Q,this.errors=$}create(G,...Q){const $=Q[0]||{},O=`${this.service}/${G}`,H=this.errors[G],se=H?function un(Z,G){return Z.replace(Jt,(Q,$)=>{const O=G[$];return null!=O?String(O):`<${$}?>`})}(H,$):"Error";return new Ln(O,`${this.serviceName}: ${se} (${O}).`,$)}}const Jt=/\{\$([^}]+)}/g;function Gt(Z){return JSON.parse(Z)}function Vi(Z){return JSON.stringify(Z)}const ts=function(Z){let G={},Q={},$={},O="";try{const H=Z.split(".");G=Gt(ve(H[0])||""),Q=Gt(ve(H[1])||""),O=H[2],$=Q.d||{},delete Q.d}catch{}return{header:G,claims:Q,data:$,signature:O}},ns=function(Z){const Q=ts(Z).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},is=function(Z){const G=ts(Z).claims;return"object"==typeof G&&!0===G.admin};function ar(Z,G){return Object.prototype.hasOwnProperty.call(Z,G)}function ni(Z,G){if(Object.prototype.hasOwnProperty.call(Z,G))return Z[G]}function Hr(Z){for(const G in Z)if(Object.prototype.hasOwnProperty.call(Z,G))return!1;return!0}function rs(Z,G,Q){const $={};for(const O in Z)Object.prototype.hasOwnProperty.call(Z,O)&&($[O]=G.call(Q,Z[O],O,Z));return $}function nt(Z,G){if(Z===G)return!0;const Q=Object.keys(Z),$=Object.keys(G);for(const O of Q){if(!$.includes(O))return!1;const H=Z[O],se=G[O];if(yi(H)&&yi(se)){if(!nt(H,se))return!1}else if(H!==se)return!1}for(const O of $)if(!Q.includes(O))return!1;return!0}function yi(Z){return null!==Z&&"object"==typeof Z}function Rn(Z){const G=[];for(const[Q,$]of Object.entries(Z))Array.isArray($)?$.forEach(O=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent($));return G.length?"&"+G.join("&"):""}function ki(Z){const G={};return Z.replace(/^\?/,"").split("&").forEach($=>{if($){const[O,H]=$.split("=");G[decodeURIComponent(O)]=decodeURIComponent(H)}}),G}function Ao(Z){const G=Z.indexOf("?");if(!G)return"";const Q=Z.indexOf("#",G);return Z.substring(G,Q>0?Q:void 0)}class On{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,Q){Q||(Q=0);const $=this.W_;if("string"==typeof G)for(let Be=0;Be<16;Be++)$[Be]=G.charCodeAt(Q)<<24|G.charCodeAt(Q+1)<<16|G.charCodeAt(Q+2)<<8|G.charCodeAt(Q+3),Q+=4;else for(let Be=0;Be<16;Be++)$[Be]=G[Q]<<24|G[Q+1]<<16|G[Q+2]<<8|G[Q+3],Q+=4;for(let Be=16;Be<80;Be++){const Lt=$[Be-3]^$[Be-8]^$[Be-14]^$[Be-16];$[Be]=4294967295&(Lt<<1|Lt>>>31)}let ut,Ae,O=this.chain_[0],H=this.chain_[1],se=this.chain_[2],Le=this.chain_[3],ct=this.chain_[4];for(let Be=0;Be<80;Be++){Be<40?Be<20?(ut=Le^H&(se^Le),Ae=1518500249):(ut=H^se^Le,Ae=1859775393):Be<60?(ut=H&se|Le&(H|se),Ae=2400959708):(ut=H^se^Le,Ae=3395469782);const Lt=(O<<5|O>>>27)+ut+ct+Ae+$[Be]&4294967295;ct=Le,Le=se,se=4294967295&(H<<30|H>>>2),H=O,O=Lt}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+H&4294967295,this.chain_[2]=this.chain_[2]+se&4294967295,this.chain_[3]=this.chain_[3]+Le&4294967295,this.chain_[4]=this.chain_[4]+ct&4294967295}update(G,Q){if(null==G)return;void 0===Q&&(Q=G.length);const $=Q-this.blockSize;let O=0;const H=this.buf_;let se=this.inbuf_;for(;O<Q;){if(0===se)for(;O<=$;)this.compress_(G,O),O+=this.blockSize;if("string"==typeof G){for(;O<Q;)if(H[se]=G.charCodeAt(O),++se,++O,se===this.blockSize){this.compress_(H),se=0;break}}else for(;O<Q;)if(H[se]=G[O],++se,++O,se===this.blockSize){this.compress_(H),se=0;break}}this.inbuf_=se,this.total_+=Q}digest(){const G=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&Q,Q/=256;this.compress_(this.buf_);let $=0;for(let O=0;O<5;O++)for(let H=24;H>=0;H-=8)G[$]=this.chain_[O]>>H&255,++$;return G}}function Vn(Z,G){const Q=new An(Z,G);return Q.subscribe.bind(Q)}class An{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch($=>{this.error($)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,$){let O;if(void 0===G&&void 0===Q&&void 0===$)throw new Error("Missing Observer.");O=function gt(Z,G){if("object"!=typeof Z||null===Z)return!1;for(const Q of G)if(Q in Z&&"function"==typeof Z[Q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:$},void 0===O.next&&(O.next=Ft),void 0===O.error&&(O.error=Ft),void 0===O.complete&&(O.complete=Ft);const H=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),H}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch($){typeof console<"u"&&console.error&&console.error($)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}const lr=function(Z,G,Q,$){let O;if($<G?O="at least "+G:$>Q&&(O=0===Q?"none":"no more than "+Q),O)throw new Error(Z+" failed: Was called with "+$+(1===$?" argument.":" arguments.")+" Expects "+O+".")};function ci(Z,G){return`${Z} failed: ${G} argument `}function Mt(Z,G,Q,$){if((!$||Q)&&"function"!=typeof Q)throw new Error(ci(Z,G)+"must be a valid function.")}function Ji(Z,G,Q,$){if((!$||Q)&&("object"!=typeof Q||null===Q))throw new Error(ci(Z,G)+"must be a valid context object.")}const Ut=function(Z){const G=[];let Q=0;for(let $=0;$<Z.length;$++){let O=Z.charCodeAt($);if(O>=55296&&O<=56319){const H=O-55296;$++,z($<Z.length,"Surrogate pair missing trail surrogate."),O=65536+(H<<10)+(Z.charCodeAt($)-56320)}O<128?G[Q++]=O:O<2048?(G[Q++]=O>>6|192,G[Q++]=63&O|128):O<65536?(G[Q++]=O>>12|224,G[Q++]=O>>6&63|128,G[Q++]=63&O|128):(G[Q++]=O>>18|240,G[Q++]=O>>12&63|128,G[Q++]=O>>6&63|128,G[Q++]=63&O|128)}return G},mr=function(Z){let G=0;for(let Q=0;Q<Z.length;Q++){const $=Z.charCodeAt(Q);$<128?G++:$<2048?G+=2:$>=55296&&$<=56319?(G+=4,Q++):G+=3}return G};function ot(Z,G=1e3,Q=2){const $=G*Math.pow(Q,Z),O=Math.round(.5*$*(Math.random()-.5)*2);return Math.min(144e5,$+O)}function an(Z){return Z&&Z._delegate?Z._delegate:Z}},9290:(ft,Te,B)=>{var o=B(4650);let z=null;function N(){return z}const ie=new o.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function ve(){return(0,o.LFG)(W)}()},providedIn:"platform"}),n})();const Y=new o.OlP("Location Initialized");let W=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function je(){return new W((0,o.LFG)(ie))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Pe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function De(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(it)},providedIn:"root"}),n})();const ge=new o.OlP("appBaseHref");let it=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Pe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+at(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+at(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+at(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(ge,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n extends Ce{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Pe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+at(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+at(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(ge,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=De(qe(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+at(i))}normalize(e){return n.stripTrailingSlash(function Ee(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,qe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+at(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=at,n.joinWithSlash=Pe,n.stripTrailingSlash=De,n.\u0275fac=function(e){return new(e||n)(o.LFG(Ce))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new Ne((0,o.LFG)(Ce))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}function yc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let pn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Po{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ss=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Po(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),No(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{No(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function No(n,t){n.context.$implicit=t.item}let yn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Jf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jf{constructor(){this.$implicit=null,this.ngIf=null}}function vi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Ir{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Qs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),bl=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ir(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Qs,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),vc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class Eg{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Is{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Dg=new Is,Kd=new Eg;let ep=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Dg;if((0,o.F4k)(e))return Kd;throw function Sr(n,t){return new o.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Tr="browser";function Vo(n){return"server"===n}let ih=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new tp((0,o.LFG)(ie),window)}),n})();class tp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ui(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jr(this.window.history)||jr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Bo{}class to extends class lh extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){z||(z=n)}(new to)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ch(){return no=no||document.querySelector("base"),no?no.getAttribute("href"):null}();return null==e?null:function As(n){Gn=Gn||document.createElement("a"),Gn.setAttribute("href",n);const t=Gn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){no=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return yc(document.cookie,t)}}let Gn,no=null;const Wn=new o.OlP("TRANSITION_ID"),Ou=[{provide:o.ip1,useFactory:function Ru(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Wn,ie,o.zs3],multi:!0}];let Pu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Nu=new o.OlP("EventManagerPlugins");let Fu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nu),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Dc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Oa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Pa=(()=>{class n extends Oa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(dh),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(dh))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function dh(n){N().remove(n)}const Na={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hh=/%COMP%/g;function Sc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Sc(n,r,e):(r=r.replace(hh,n),e.push(r))}return e}function Tc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Nl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ph(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new lp(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Sc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Fu),o.LFG(Pa),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Ms{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Na[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Ll(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Ll(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Na[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Na[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Tc(i)):this.eventManager.addEventListener(t,e,Tc(i))}}function Ll(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ph extends Ms{constructor(t,e,i,r){super(t),this.component=i;const s=Sc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function ri(n){return"_ngcontent-%COMP%".replace(hh,n)}(r+"-"+i.id),this.hostAttr=function Ic(n){return"_nghost-%COMP%".replace(hh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class lp extends Ms{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Sc(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Ci=(()=>{class n extends Dc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const cp=["alt","control","meta","shift"],io={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vl=(()=>{class n extends Dc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),cp.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=io[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cp.forEach(c=>{c!==r&&(0,Bu[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Bl=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Tr},{provide:o.g9A,useValue:function gh(){to.makeCurrent()},multi:!0},{provide:ie,useFactory:function Uu(){return(0,o.RDi)(document),document},deps:[]}]),jo=new o.OlP(""),Ul=[{provide:o.rWj,useClass:class uh{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],La=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function ks(){return new o.qLn},deps:[]},{provide:Nu,useClass:Ci,multi:!0,deps:[ie,o.R0b,o.Lbi]},{provide:Nu,useClass:Vl,multi:!0,deps:[ie]},{provide:Nl,useClass:Nl,deps:[Fu,Pa,o.AFp]},{provide:o.FYo,useExisting:Nl},{provide:Oa,useExisting:Pa},{provide:Pa,useClass:Pa,deps:[ie]},{provide:Fu,useClass:Fu,deps:[Nu,o.R0b]},{provide:Bo,useClass:Pu,deps:[]},[]];let $o=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Wn,useExisting:o.AFp},Ou]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(jo,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...La,...Ul],imports:[Js,o.hGG]}),n})(),ls=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Hl(){return new ls((0,o.LFG)(ie))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Go=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Rg),i},providedIn:"root"}),n})(),Rg=(()=>{class n extends Go{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Ev(n){return new Rg(n.get(ie))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var dn=B(8996),us=B(3269);function Xe(...n){const t=(0,us.yG)(n);return(0,dn.D)(n,t)}var dt=B(7579);class Pn extends dt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const Wo=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hn=B(9751);const{isArray:Zo}=Array,{getPrototypeOf:vh,prototype:bh,keys:mp}=Object;function so(n){if(1===n.length){const t=n[0];if(Zo(t))return{args:t,keys:null};if(function xh(n){return n&&"object"==typeof n&&vh(n)===bh}(t)){const e=mp(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Os=B(4671),Ye=B(4004);const{isArray:$u}=Array;function jl(n){return(0,Ye.U)(t=>function ds(n,t){return $u(t)?n(...t):n(t)}(n,t))}function $l(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var jn=B(5403),zl=B(9672);function Gl(...n){const t=(0,us.yG)(n),e=(0,us.jO)(n),{args:i,keys:r}=so(n);if(0===i.length)return(0,dn.D)([],t);const s=new Hn.y(function Wl(n,t,e=Os.y){return i=>{gp(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)gp(t,()=>{const _=(0,dn.D)(n[p],t);let b=!1;_.subscribe((0,jn.x)(i,E=>{s[p]=E,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>$l(r,c):Os.y));return e?s.pipe(jl(e)):s}function gp(n,t,e){n?(0,zl.f)(e,n,t):t()}var Wa=B(8189);function qo(...n){return function Oc(){return(0,Wa.J)(1)}()((0,dn.D)(n,(0,us.yG)(n)))}var zr=B(8421);function br(n){return new Hn.y(t=>{(0,zr.Xf)(n()).subscribe(t)})}var Pc=B(9635),tr=B(576);function oo(n,t){const e=(0,tr.m)(n)?n:()=>n,i=r=>r.error(e());return new Hn.y(t?r=>t.schedule(i,0,r):i)}var Hi=B(515),Oi=B(727),wn=B(4482);function ao(){return(0,wn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,jn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Yo extends Hn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Oi.w0;const e=this.getSubject();t.add(this.source.subscribe((0,jn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Oi.w0.EMPTY)}return t}refCount(){return ao()(this)}}function Jn(n,t){return(0,wn.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,jn.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,zr.Xf)(n(p,b)).subscribe(r=(0,jn.x)(i,E=>i.next(t?t(p,E,b,_++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function Rt(n){return n<=0?()=>Hi.E:(0,wn.e)((t,e)=>{let i=0;t.subscribe((0,jn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function hi(...n){const t=(0,us.yG)(n);return(0,wn.e)((e,i)=>{(t?qo(n,e,t):qo(n,e)).subscribe(i)})}function vn(n,t){return(0,wn.e)((e,i)=>{let r=0;e.subscribe((0,jn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var I=B(5577);function S(n){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function k(n=j){return(0,wn.e)((t,e)=>{let i=!1;t.subscribe((0,jn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function j(){return new Wo}function X(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):Os.y,Rt(1),e?S(t):k(()=>new Wo))}function ce(n,t){return(0,tr.m)(t)?(0,I.z)(n,t,1):(0,I.z)(n,1)}var xe=B(8505);function We(n){return(0,wn.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,jn.x)(e,void 0,void 0,c=>{s=(0,zr.Xf)(n(c,We(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function _t(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe((0,jn.x)(c,b=>{const E=_++;p=d?n(p,b,E):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function kt(n,t){return(0,wn.e)(_t(n,t,arguments.length>=2,!0))}function jt(n){return n<=0?()=>Hi.E:(0,wn.e)((t,e)=>{let i=[];t.subscribe((0,jn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function yt(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):Os.y,jt(1),e?S(t):k(()=>new Wo))}function Pi(n){return(0,Ye.U)(()=>n)}function lo(n){return(0,wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Wt="primary",ji=Symbol("RouteTitle");class Ko{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function co(n){return new Ko(n)}function Nc(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ni(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Ch(n[r],t[r]))return!1;return!0}function Ch(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Og(n){return Array.prototype.concat.apply([],n)}function _p(n){return n.length>0?n[n.length-1]:null}function oi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Qo(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Xe(n)}const cC={exact:function Ng(n,t,e){if(!Jo(n.segments,t.segments)||!Xo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ng(n.children[i],t.children[i],e))return!1;return!0},subset:zu},vp={exact:function bp(n,t){return Ni(n,t)},subset:function wh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ch(n[e],t[e]))},ignored:()=>!0};function Dv(n,t,e){return cC[e.paths](n.root,t.root,e.matrixParams)&&vp[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zu(n,t,e){return Eh(n,t,t.segments,e)}function Eh(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Jo(r,e)||t.hasChildren()||!Xo(r,e,i))}if(n.segments.length===e.length){if(!Jo(n.segments,e)||!Xo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!zu(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Jo(n.segments,r)&&Xo(n.segments,r,i)&&n.children[Wt])&&Eh(n.children[Wt],t,s,i)}}function Xo(n,t,e){return t.every((i,r)=>vp[e](n[r].parameters,i.parameters))}class Zl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=co(this.queryParams)),this._queryParamMap}toString(){return ql.serialize(this)}}class rn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,oi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lc(this)}}class Gu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=co(this.parameters)),this._parameterMap}toString(){return Lg(this)}}function Jo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new Fc},providedIn:"root"}),n})();class Fc{parse(t){const e=new g(t);return new Zl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Wu(t.root,!0)}`,i=function Sv(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ih(e)}=${Ih(r)}`).join("&"):`${Ih(e)}=${Ih(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function wp(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ql=new Fc;function Lc(n){return n.segments.map(t=>Lg(t)).join("/")}function Wu(n,t){if(!n.hasChildren())return Lc(n);if(t){const e=n.children[Wt]?Wu(n.children[Wt],!1):"",i=[];return oi(n.children,(r,s)=>{s!==Wt&&i.push(`${s}:${Wu(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Fg(n,t){let e=[];return oi(n.children,(i,r)=>{r===Wt&&(e=e.concat(t(i,r)))}),oi(n.children,(i,r)=>{r!==Wt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Wt?[Wu(n.children[Wt],!1)]:[`${r}:${Wu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${Lc(n)}/${e[0]}`:`${Lc(n)}/(${e.join("//")})`}}function Cp(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ih(n){return Cp(n).replace(/%3B/gi,";")}function Ps(n){return Cp(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ho(n){return decodeURIComponent(n)}function Ep(n){return ho(n.replace(/\+/g,"%20"))}function Lg(n){return`${Ps(n.path)}${function Iv(n){return Object.keys(n).map(t=>`;${Ps(t)}=${Ps(n[t])}`).join("")}(n.parameters)}`}const Tv=/^[^\/()?;=#]+/;function Sh(n){const t=n.match(Tv);return t?t[0]:""}const Dp=/^[^=?&#]+/,Mv=/^[^&#]+/;class g{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Wt]=new rn(t,e)),i}parseSegment(){const t=Sh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new Gu(ho(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Sh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Sh(this.remaining);r&&(i=r,this.capture(i))}t[ho(e)]=ho(i)}parseQueryParam(t){const e=function Av(n){const t=n.match(Dp);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function x(n){const t=n.match(Mv);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Ep(e),s=Ep(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Sh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Wt);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[Wt]:new rn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function y(n){return n.segments.length>0?new rn([],{[Wt]:n}):n}function w(n){const t={};for(const i of Object.keys(n.children)){const s=w(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function M(n){if(1===n.numberOfChildren&&n.children[Wt]){const t=n.children[Wt];return new rn(n.segments.concat(t.segments),t.children)}return n}(new rn(n.segments,t))}function L(n){return n instanceof Zl}function tn(n,t,e,i,r){if(0===e.length)return hs(t.root,t.root,t.root,i,r);const s=function Mh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ah(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return oi(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Ah(e,t,i)}(e);return s.toRoot()?hs(t.root,t.root,new rn([],{}),i,r):function c(p){const _=function Ip(n,t,e,i){if(n.isAbsolute)return new Yl(t.root,!0,0);if(-1===i)return new Yl(e,e===t.root,0);return function kh(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new Yl(i,!1,r-s)}(e,i+(En(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),b=_.processChildren?Za(_.segmentGroup,_.index,s.commands):Vc(_.segmentGroup,_.index,s.commands);return hs(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function En(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ur(n){return"object"==typeof n&&null!=n&&n.outlets}function hs(n,t,e,i,r){let c,s={};i&&oi(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===t?e:Th(n,t,e);const d=y(w(c));return new Zl(d,s,r)}function Th(n,t,e){const i={};return oi(n.children,(r,s)=>{i[s]=r===t?e:Th(r,t,e)}),new rn(n.segments,i)}class Ah{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&En(i[0]))throw new o.vHH(4003,!1);const r=i.find(ur);if(r&&r!==_p(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yl{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Vc(n,t,e){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return Za(n,t,e);const i=function kv(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(ur(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Bg(p,_,c))return s;i+=2}else{if(!Bg(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new rn(n.segments.slice(0,i.pathIndex),{});return s.children[Wt]=new rn(n.segments.slice(i.pathIndex),n.children),Za(s,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?Zn(n,t,e):i.match?Za(n,0,r):Zn(n,t,e)}function Za(n,t,e){if(0===e.length)return new rn(n.segments,{});{const i=function Zu(n){return ur(n[0])?n[0].outlets:{[Wt]:n}}(e),r={};return oi(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=Vc(n.children[c],t,s))}),oi(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new rn(n.segments,r)}}function Zn(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(ur(s)){const p=Rv(s.outlets);return new rn(i,p)}if(0===r&&En(e[0])){i.push(new Gu(n.segments[t].path,uC(e[0]))),r++;continue}const c=ur(s)?s.outlets[Wt]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&En(d)?(i.push(new Gu(c,uC(d))),r+=2):(i.push(new Gu(c,{})),r++)}return new rn(i,{})}function Rv(n){const t={};return oi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Zn(new rn([],{}),0,e))}),t}function uC(n){const t={};return oi(n,(e,i)=>t[i]=`${e}`),t}function Bg(n,t,e){return n==e.path&&Ni(t,e.parameters)}class qa{constructor(t,e){this.id=t,this.url=e}}class Ov extends qa{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bc extends qa{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ug extends qa{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dC extends qa{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eT extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VP extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BP extends qa{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sp extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pv extends qa{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hC{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pC{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tT{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mC{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gC{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hg{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _C{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tp(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Tp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return jg(t,this._root).map(e=>e.value)}}function Tp(n,t){if(n===t.value)return t;for(const e of t.children){const i=Tp(n,e);if(i)return i}return null}function jg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=jg(n,e);if(i.length)return i.unshift(t),i}return[]}class Ya{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yC extends _C{constructor(t,e){super(t),this.snapshot=e,Ap(this,t)}toString(){return this.snapshot.toString()}}function $g(n,t){const e=function zg(n,t){const c=new Ka([],{},{},"",{},Wt,t,null,n.root,-1,{});return new Nv("",new Ya(c,[]))}(n,t),i=new Pn([new Gu("",{})]),r=new Pn({}),s=new Pn({}),c=new Pn({}),d=new Pn(""),p=new qu(i,r,c,d,s,Wt,t,e.root);return p.snapshot=e.root,new yC(new Ya(p,[]),e)}class qu{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,Ye.U)(_=>_[ji]))??Xe(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(t=>co(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(t=>co(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gg(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Wg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ka{constructor(t,e,i,r,s,c,d,p,_,b,E,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[ji],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=A??b,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=co(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=co(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Nv extends _C{constructor(t,e){super(e),this.url=t,Ap(this,e)}toString(){return vC(this._root)}}function Ap(n,t){t.value._routerState=n,t.children.forEach(e=>Ap(n,e))}function vC(n){const t=n.children.length>0?` { ${n.children.map(vC).join(", ")} } `:"";return`${n.value}${t}`}function Fv(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ni(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ni(t.params,e.params)||n.params.next(e.params),function uo(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ni(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ni(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zg(n,t){const e=Ni(n.params,t.params)&&function Dh(n,t){return Jo(n,t)&&n.every((e,i)=>Ni(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Zg(n.parent,t.parent))}function Mp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function nT(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Mp(n,i,r);return Mp(n,i)})}(n,t,e);return new Ya(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>Mp(n,d)),c}}const i=function iT(n){return new qu(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Mp(n,s));return new Ya(i,r)}}const Lv="ngNavigationCancelingError";function qg(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=L(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=bC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function bC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Lv]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Vv(n){return xC(n)&&L(n.url)}function xC(n){return n&&n[Lv]}class CC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yg,this.attachRef=null}}let Yg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new CC,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kg=!1;let Uc=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||Wt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,Kg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,Kg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,Kg);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,Kg);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new rT(e,d,r.injector);if(i&&function Oh(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Yg),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class rT{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===qu?this.route:t===Yg?this.childContexts:this.parent.get(t,e)}}let Yu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[Uc],encapsulation:2}),n})();function wC(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Hv(n){const t=n.children&&n.children.map(Hv),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Wt&&(e.component=Yu),e}function po(n){return n.outlet||Wt}function Qg(n,t){const e=n.filter(i=>po(i)===t);return e.push(...n.filter(i=>po(i)!==t)),e}function Xg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class jv{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Fv(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fo(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),oi(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fo(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fo(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=fo(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new gC(s.value.snapshot))}),t.children.length&&this.forwardEvent(new tT(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Fv(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Fv(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=Xg(r.snapshot),p=d?.get(o._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class oT{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $v{constructor(t,e){this.component=t,this.route=e}}function zP(n,t,e){const i=n._root;return Rp(i,t?t._root:null,e,[i.value])}function kp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function Rp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fo(t);return n.children.forEach(c=>{(function IC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function zv(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Jo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Jo(n.url,t.url)||!Ni(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zg(n,t)||!Ni(n.queryParams,t.queryParams);default:return!Zg(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new oT(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Rp(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new $v(d.outlet.component,c))}else c&&Ph(t,d,r),r.canActivateChecks.push(new oT(i)),Rp(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),oi(s,(c,d)=>Ph(c,e.getContext(d),r)),r}function Ph(n,t,e){const i=fo(n),r=n.value;oi(i,(s,c)=>{Ph(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new $v(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Nh(n){return"function"==typeof n}function Jg(n){return n instanceof Wo||"EmptyError"===n?.name}const e_=Symbol("INITIAL_VALUE");function Fh(){return Jn(n=>Gl(n.map(t=>t.pipe(Rt(1),hi(e_)))).pipe((0,Ye.U)(t=>{for(const e of t)if(!0!==e){if(e===e_)return e_;if(!1===e||e instanceof Zl)return e}return!0}),vn(t=>t!==e_),Rt(1)))}function Rr(n){return(0,Pc.z)((0,xe.b)(t=>{if(L(t))throw qg(0,t)}),(0,Ye.U)(t=>!0===t))}const t_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n_(n,t,e,i,r){const s=dr(n,t,e);return s.matched?function qv(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Xe(r.map(c=>{const d=kp(c,n);return Qo(function lT(n){return n&&Nh(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Fh(),Rr()):Xe(!0)}(i=wC(t,i),t,e).pipe((0,Ye.U)(c=>!0===c?s:{...t_})):Xe(s)}function dr(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...t_}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Nc)(e,n,t);if(!r)return{...t_};const s={};oi(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function Hc(n,t,e,i,r="corrected"){if(e.length>0&&function yT(n,t,e){return e.some(i=>i_(n,t,i)&&po(i)!==Wt)}(n,e,i)){const c=new rn(t,function _T(n,t,e,i){const r={};r[Wt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&po(s)!==Wt){const c=new rn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[po(s)]=c}return r}(n,t,i,new rn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function MC(n,t,e){return e.some(i=>i_(n,t,i))}(n,e,i)){const c=new rn(n.segments,function AC(n,t,e,i,r,s){const c={};for(const d of i)if(i_(n,e,d)&&!r[po(d)]){const p=new rn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[po(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new rn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function i_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Yv(n,t,e,i){return!!(po(n)===i||i!==Wt&&i_(t,e,n))&&("**"===n.path||dr(t,n,e).matched)}function kC(n,t,e){return 0===t.length&&!n.children[e]}const Pp=!1;class r_{constructor(t){this.segmentGroup=t||null}}class RC{constructor(t){this.urlTree=t}}function Np(n){return oo(new r_(n))}function OC(n){return oo(new RC(n))}class bT{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Hc(this.urlTree.root,[],[],this.config).segmentGroup,e=new rn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Wt).pipe((0,Ye.U)(s=>this.createUrlTree(w(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(We(s=>{if(s instanceof RC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof r_?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Wt).pipe((0,Ye.U)(r=>this.createUrlTree(w(r),t.queryParams,t.fragment))).pipe(We(r=>{throw r instanceof r_?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,Pp)}createUrlTree(t,e,i){const r=y(t);return new Zl(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Ye.U)(s=>new rn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,dn.D)(r).pipe(ce(s=>{const c=i.children[s],d=Qg(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,Ye.U)(p=>({segment:p,outlet:s})))}),kt((s,c)=>(s[c.outlet]=c.segment,s),{}),yt())}expandSegment(t,e,i,r,s,c){return(0,dn.D)(i).pipe(ce(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(We(_=>{if(_ instanceof r_)return Xe(null);throw _}))),X(d=>!!d),We((d,p)=>{if(Jg(d))return kC(e,r,s)?Xe(new rn([],{})):Np(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return Yv(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):Np(e):Np(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?OC(s):this.lineralizeSegments(i,s).pipe((0,I.z)(c=>{const d=new rn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=dr(e,r,s);if(!d)return Np(e);const E=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?OC(E):this.lineralizeSegments(r,E).pipe((0,I.z)(A=>this.expandSegment(t,e,i,A.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=wC(i,t),i.loadChildren?(i._loadedRoutes?Xe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Ye.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new rn(r,{})))):Xe(new rn(r,{}))):n_(e,i,r,t).pipe(Jn(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,I.z)(b=>{const E=b.injector??t,A=b.routes,{segmentGroup:R,slicedSegments:F}=Hc(e,d,p,A),q=new rn(R.segments,R.children);if(0===F.length&&q.hasChildren())return this.expandChildren(E,A,q).pipe((0,Ye.U)(Ze=>new rn(d,Ze)));if(0===A.length&&0===F.length)return Xe(new rn(d,{}));const ne=po(i)===s;return this.expandSegment(E,q,A,F,ne?Wt:s,!0).pipe((0,Ye.U)(Ge=>new rn(d.concat(Ge.segments),Ge.children)))})):Np(e)))}getChildConfig(t,e,i){return e.children?Xe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Xe({routes:e._loadedRoutes,injector:e._loadedInjector}):function gT(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Xe(!0):Xe(r.map(c=>{const d=kp(c,n);return Qo(function Gv(n){return n&&Nh(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Fh(),Rr())}(t,e,i).pipe((0,I.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,xe.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Lh(n){return oo(bC(Pp,3))}())):Xe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Wt])return oo(new o.vHH(4e3,Pp));r=r.children[Wt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Zl(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return oi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return oi(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new rn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,Pp);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class ZP{}class Qa{constructor(t,e,i,r,s,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=Hc(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Wt).pipe((0,Ye.U)(e=>{if(null===e)return null;const i=new Ka([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ya(i,e),s=new Nv(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Gg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,dn.D)(Object.keys(i.children)).pipe(ce(r=>{const s=i.children[r],c=Qg(e,r);return this.processSegmentGroup(t,c,s,r)}),kt((r,s)=>r&&s?(r.push(...s),r):null),function fi(n,t=!1){return(0,wn.e)((e,i)=>{let r=0;e.subscribe((0,jn.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(r=>null!==r),S(null),yt(),(0,Ye.U)(r=>{if(null===r)return null;const s=Jv(r);return function Qv(n){n.sort((t,e)=>t.value.outlet===Wt?-1:e.value.outlet===Wt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,dn.D)(e).pipe(ce(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,s)),X(c=>!!c),We(c=>{if(Jg(c))return kC(i,r,s)?Xe([]):Xe(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!Yv(e,i,r,s))return Xe(null);let c;if("**"===e.path){const d=r.length>0?_p(r).parameters:{},p=NC(i)+r.length;c=Xe({snapshot:new Ka(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,s_(e),po(e),e.component??e._loadedComponent??null,e,Vh(i),p,o_(e),p),consumedSegments:[],remainingSegments:[]})}else c=n_(i,e,r,t).pipe((0,Ye.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const E=NC(i)+p.length;return{snapshot:new Ka(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,s_(e),po(e),e.component??e._loadedComponent??null,e,Vh(i),E,o_(e),E),consumedSegments:p,remainingSegments:_}}));return c.pipe(Jn(d=>{if(null===d)return Xe(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;t=e._injector??t;const E=e._loadedInjector??t,A=function Xv(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:R,slicedSegments:F}=Hc(i,_,b,A.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===F.length&&R.hasChildren())return this.processChildren(E,A,R).pipe((0,Ye.U)(ne=>null===ne?null:[new Ya(p,ne)]));if(0===A.length&&0===F.length)return Xe([new Ya(p,[])]);const q=po(e)===s;return this.processSegment(E,A,R,F,q?Wt:s).pipe((0,Ye.U)(ne=>null===ne?null:[new Ya(p,ne)]))}))}}function CT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jv(n){const t=[],e=new Set;for(const i of n){if(!CT(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Jv(i.children);t.push(new Ya(i.value,r))}return t.filter(i=>!e.has(i))}function Vh(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function NC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function s_(n){return n.data||{}}function o_(n){return n.resolve||{}}function a_(n){return"string"==typeof n.title||null===n.title}function t1(n){return Jn(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,Ye.U)(()=>t)):Xe(t)})}let BC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Wt);return i}getResolvedTitleForRoute(e){return e.data[ji]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(UC)},providedIn:"root"}),n})(),UC=(()=>{class n extends BC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ls))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DT{}class HC extends class IT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Fp=new o.OlP("",{providedIn:"root",factory:()=>({})}),r1=new o.OlP("ROUTES");let s1=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Xe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Qo(e.loadComponent()).pipe((0,xe.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),lo(()=>{this.componentLoaders.delete(e)})),r=new Yo(i,()=>new dt.x).pipe(ao());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Xe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Ye.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=Og(p.get(r1,[],o.XFs.Self|o.XFs.Optional)));return{routes:_.map(Hv),injector:p}}),lo(()=>{this.childrenLoaders.delete(i)})),c=new Yo(s,()=>new dt.x).pipe(ao());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return Qo(e()).pipe((0,I.z)(i=>i instanceof o.YKP||Array.isArray(i)?Xe(i):(0,dn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jC{}class $C{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zC(n){throw n}function GC(n,t,e){return t.parse("/")}const ST={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function WC(){const n=(0,o.f3M)(xp),t=(0,o.f3M)(Yg),e=(0,o.f3M)(Ne),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(r1,{optional:!0})??[],c=(0,o.f3M)(Fp,{optional:!0})??{},d=(0,o.f3M)(UC),p=(0,o.f3M)(BC,{optional:!0}),_=(0,o.f3M)(jC,{optional:!0}),b=(0,o.f3M)(DT,{optional:!0}),E=new qn(null,n,t,e,i,r,Og(s));return _&&(E.urlHandlingStrategy=_),b&&(E.routeReuseStrategy=b),E.titleStrategy=p??d,function c_(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,E),E}let qn=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dt.x,this.errorHandler=zC,this.malformedUriErrorHandler=GC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Xe(void 0),this.urlHandlingStrategy=new $C,this.routeReuseStrategy=new HC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(s1),this.configLoader.onLoadEndListener=A=>this.triggerEvent(new fC(A)),this.configLoader.onLoadStartListener=A=>this.triggerEvent(new hC(A)),this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const E=c.get(o.R0b);this.isNgZoneEnabled=E instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Pg(){return new Zl(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$g(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(vn(r=>0!==r.id),(0,Ye.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Jn(r=>{let s=!1,c=!1;return Xe(r).pipe((0,xe.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return o1(d.source)&&(this.browserUrlTree=d.extractedUrl),Xe(d).pipe(Jn(E=>{const A=this.transitions.getValue();return i.next(new Ov(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),A!==this.transitions.getValue()?Hi.E:Promise.resolve(E)}),function xT(n,t,e,i){return Jn(r=>function Kl(n,t,e,i,r){return new bT(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Ye.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xe.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},r.urlAfterRedirects=E.urlAfterRedirects}),function LC(n,t,e,i,r,s){return(0,I.z)(c=>function qP(n,t,e,i,r,s,c="emptyOnly",d="legacy"){return new Qa(n,t,e,i,r,c,d,s).recognize().pipe(Jn(p=>null===p?function PC(n){return new Hn.y(t=>t.error(n))}(new ZP):Xe(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,Ye.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xe.b)(E=>{if(r.targetSnapshot=E.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(R,E)}this.browserUrlTree=E.urlAfterRedirects}const A=new eT(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(A)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:R,source:F,restoredState:q,extras:ne}=d,ke=new Ov(A,this.serializeUrl(R),F,q);i.next(ke);const Ge=$g(R,this.rootComponentType).snapshot;return Xe(r={...d,targetSnapshot:Ge,urlAfterRedirects:R,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Hi.E}),(0,xe.b)(d=>{const p=new VP(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Ye.U)(d=>r={...d,guards:zP(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function uT(n,t){return(0,I.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?Xe({...e,guardsResult:!0}):function dT(n,t,e,i){return(0,dn.D)(n).pipe((0,I.z)(r=>function mT(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Xe(s.map(d=>{const p=Xg(t)??r,_=kp(d,p);return Qo(function Op(n){return n&&Nh(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(X())})).pipe(Fh()):Xe(!0)}(r.component,r.route,e,t,i)),X(r=>!0!==r,!0))}(c,i,r,n).pipe((0,I.z)(d=>d&&function SC(n){return"boolean"==typeof n}(d)?function Zv(n,t,e,i){return(0,dn.D)(t).pipe(ce(r=>qo(function fT(n,t){return null!==n&&t&&t(new pC(n)),Xe(!0)}(r.route.parent,i),function hT(n,t){return null!==n&&t&&t(new mC(n)),Xe(!0)}(r.route,i),function TC(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function GP(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>br(()=>Xe(c.guards.map(p=>{const _=Xg(c.node)??e,b=kp(p,_);return Qo(function Wv(n){return n&&Nh(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(X())})).pipe(Fh())));return Xe(s).pipe(Fh())}(n,r.path,e),function pT(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(s=>br(()=>{const c=Xg(t)??e,d=kp(s,c);return Qo(function aT(n){return n&&Nh(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(X())}));return Xe(r).pipe(Fh())}(n,r.route,e))),X(r=>!0!==r,!0))}(i,s,n,t):Xe(d)),(0,Ye.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,xe.b)(d=>{if(r.guardsResult=d.guardsResult,L(d.guardsResult))throw qg(0,d.guardsResult);const p=new BP(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),vn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),t1(d=>{if(d.guards.canActivateChecks.length)return Xe(d).pipe((0,xe.b)(p=>{const _=new Sp(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Jn(p=>{let _=!1;return Xe(p).pipe(function YP(n,t){return(0,I.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Xe(e);let s=0;return(0,dn.D)(r).pipe(ce(c=>function Bh(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!a_(r)&&(s[ji]=r.title),function e1(n,t,e,i){const r=function VC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Xe({});const s={};return(0,dn.D)(r).pipe((0,I.z)(c=>function ET(n,t,e,i){const r=Xg(t)??i,s=kp(n,r);return Qo(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(X(),(0,xe.b)(d=>{s[c]=d}))),jt(1),Pi(s),We(c=>Jg(c)?Hi.E:oo(c)))}(s,n,t,i).pipe((0,Ye.U)(c=>(n._resolvedData=c,n.data=Gg(n,e).resolve,r&&a_(r)&&(n.data[ji]=r.title),null)))}(c.route,i,n,t)),(0,xe.b)(()=>s++),jt(1),(0,I.z)(c=>s===r.length?Xe(e):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xe.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,xe.b)(p=>{const _=new Pv(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),t1(d=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,xe.b)(E=>{_.component=E}),(0,Ye.U)(()=>{})));for(const E of _.children)b.push(...p(E));return b};return Gl(p(d.targetSnapshot.root)).pipe(S(),Rt(1))}),t1(()=>this.afterPreactivation()),(0,Ye.U)(d=>{const p=function Rh(n,t,e){const i=Mp(n,t._root,e?e._root:void 0);return new yC(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,xe.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Ye.U)(i=>(new jv(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,xe.b)({next(){s=!0},complete(){s=!0}}),lo(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),We(d=>{if(c=!0,xC(d)){Vv(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new Ug(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),Vv(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o1(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new dC(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Hv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),tn(_,this.currentUrlTree,e,E,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=L(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function ZC(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...ST}:!1===i?{...QP}:i,L(e))return Dv(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Dv(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Bc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((A,R)=>{d=A,p=R});const b=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:b,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new Ug(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return WC()},providedIn:"root"}),n})();function o1(n){return"imperative"!==n}let mo=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new dt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(qu),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),jc=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new dt.x,this.subscription=e.events.subscribe(s=>{s instanceof Bc&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){return!!(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(qu),o.Y36(Ce))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})();class a1{}let l1=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(vn(e=>e instanceof Bc),ce(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,dn.D)(r).pipe((0,Wa.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Xe(null);const s=r.pipe((0,I.z)(c=>null===c?Xe(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,dn.D)([s,c]).pipe((0,Wa.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qn),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(a1),o.LFG(s1))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ku=new o.OlP("");let YC=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ov?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Hg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Qu(n,t){return{\u0275kind:n,\u0275providers:t}}function Vp(n){return[{provide:r1,multi:!0,useValue:n}]}function MT(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(qn),r=n.get(c1);1===n.get(u1)&&i.initialNavigation(),n.get(go,null,o.XFs.Optional)?.setUpPreloading(),n.get(Ku,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const c1=new o.OlP("",{factory:()=>new dt.x}),u1=new o.OlP("",{providedIn:"root",factory:()=>1});const go=new o.OlP("");function OT(n){return Qu(0,[{provide:go,useExisting:l1},{provide:a1,useExisting:n}])}const XC=new o.OlP("ROUTER_FORROOT_GUARD"),NT=[Ne,{provide:xp,useClass:Fc},{provide:qn,useFactory:WC},Yg,{provide:qu,useFactory:function KC(n){return n.routerState.root},deps:[qn]},s1];function JC(){return new o.PXZ("Router",qn)}let ew=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[NT,[],Vp(e),{provide:XC,useFactory:tw,deps:[[qn,new o.FiY,new o.tp0]]},{provide:Fp,useValue:i||{}},i?.useHash?{provide:Ce,useClass:tt}:{provide:Ce,useClass:it},{provide:Ku,useFactory:()=>{const n=(0,o.f3M)(qn),t=(0,o.f3M)(ih),e=(0,o.f3M)(Fp);return e.scrollOffset&&t.setOffset(e.scrollOffset),new YC(n,t,e)}},i?.preloadingStrategy?OT(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:JC},i?.initialNavigation?nw(i):[],[{provide:d1,useFactory:MT},{provide:o.tb,multi:!0,useExisting:d1}]]}}static forChild(e){return{ngModule:n,providers:[Vp(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(XC,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Yu]}),n})();function tw(n){return"guarded"}function nw(n){return["disabled"===n.initialNavigation?Qu(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(qn);return()=>{t.setUpLocationChangeListener()}}},{provide:u1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qu(2,[{provide:u1,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(Y,Promise.resolve());let i=!1;return()=>e.then(()=>new Promise(s=>{const c=t.get(qn),d=t.get(c1);(function r(s){t.get(qn).events.pipe(vn(d=>d instanceof Bc||d instanceof Ug||d instanceof dC),(0,Ye.U)(d=>d instanceof Bc||d instanceof Ug&&(0===d.code||1===d.code)&&null),vn(d=>null!==d),Rt(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?Xe(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const d1=new o.OlP("");var h1=B(8247),V=B(2090),Si=B(9681),ea=B(1877),ta=B(4859),we=B(5861);const f1="@firebase/database",p1="0.13.10";let Ql="";function iw(n){Ql=n}class m1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,V.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,V.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class g1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,V.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const rw=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new m1(t)}}catch{}return new g1},Uh=rw("localStorage"),sw=rw("sessionStorage"),Bp=new ea.Yd("@firebase/database"),ow=function(){let n=1;return function(){return n++}}(),_1=function(n){const t=(0,V.dS)(n),e=new V.gQ;e.update(t);const i=e.digest();return V.US.encodeByteArray(i)},f_=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=f_.apply(null,i):t+="object"==typeof i?(0,V.Wl)(i):i,t+=" "}return t};let Xu=null,Ju=!0;const aw=function(n,t){(0,V.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Bp.logLevel=ea.in.VERBOSE,Xu=Bp.log.bind(Bp),t&&sw.set("logging_enabled",!0)):"function"==typeof n?Xu=n:(Xu=null,sw.remove("logging_enabled"))},nr=function(...n){if(!0===Ju&&(Ju=!1,null===Xu&&!0===sw.get("logging_enabled")&&aw(!0)),Xu){const t=f_.apply(null,n);Xu(t)}},$c=function(n){return function(...t){nr(n,...t)}},y1=function(...n){const t="FIREBASE INTERNAL ERROR: "+f_(...n);Bp.error(t)},na=function(...n){const t=`FIREBASE FATAL ERROR: ${f_(...n)}`;throw Bp.error(t),new Error(t)},Or=function(...n){const t="FIREBASE WARNING: "+f_(...n);Bp.warn(t)},p_=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Xl="[MIN_NAME]",ia="[MAX_NAME]",ed=function(n,t){if(n===t)return 0;if(n===Xl||t===ia)return-1;if(t===Xl||n===ia)return 1;{const e=jp(n),i=jp(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},lw=function(n,t){return n===t?0:n<t?-1:1},Hh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,V.Wl)(t))},Up=function(n){if("object"!=typeof n||null===n)return(0,V.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,V.Wl)(t[i]),e+=":",e+=Up(n[t[i]]);return e+="}",e},HT=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function $i(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const cw=function(n){(0,V.hu)(!p_(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let E="";for(p=0;p<64;p+=8){let A=parseInt(b.substr(p,8),2).toString(16);1===A.length&&(A="0"+A),E+=A}return E.toLowerCase()},dw=new RegExp("^-?(0*)\\d{1,10}$"),Hp=-2147483648,Ns=2147483647,jp=function(n){if(dw.test(n)){const t=Number(n);if(t>=Hp&&t<=Ns)return t}return null},$h=function(n){try{n()}catch(t){setTimeout(()=>{throw Or("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Fs=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class b1{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Or(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hw{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Or(t)}}let td=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const m_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pw="websocket",mw="long_polling";class w1{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Uh.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Uh.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function E1(n,t,e){let i;if((0,V.hu)("string"==typeof t,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),t===pw)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mw)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function $T(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return $i(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class n3{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,V.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,V.p$)(this.counters_)}}const D1={},gw={};function y_(n){const t=n.toString();return D1[t]||(D1[t]=new n3),D1[t]}class zT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&$h(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ja{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$c(t),this.stats_=y_(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),E1(e,mw,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new zT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,V.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new S1((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&m_.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ja.forceAllow_=!0}static forceDisallow(){Ja.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Ja.forceAllow_&&(Ja.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,V.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,V.h$)(e),r=HT(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,V.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class S1{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ow(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=S1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){nr("frame writing exception"),d.stack&&nr(d.stack),nr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||nr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,V.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{nr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let x_=null;typeof MozWebSocket<"u"?x_=MozWebSocket:typeof WebSocket<"u"&&(x_=WebSocket);let zh=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$c(this.connId),this.stats_=y_(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&m_.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),E1(e,pw,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Uh.set("previous_websocket_failure",!0);try{let r;if((0,V.Yr)()){r={headers:{"User-Agent":`Firebase/5/${Ql}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new x_(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==x_&&!n.forceDisallow_}static previouslyFailed(){return Uh.isInMemoryStorage||!0===Uh.get("previous_websocket_failure")}markConnectionHealthy(){Uh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,V.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,V.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=HT(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),T1=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ja,zh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=zh&&zh.isAvailable();let r=i&&!zh.previouslyFailed();if(e.webSocketOnly&&(i||Or("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zh];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class ww{constructor(t,e,i,r,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$c("c:"+this.id+":"),this.transportManager_=new T1(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Hh("t",t),i=Hh("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Hh("t",t),i=Hh("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Hh("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?y1("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):y1("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Or("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Uh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class KT{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Ew{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,V.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,V.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Zp extends Ew{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zp}getInitialEvent(t){return(0,V.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Mn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Dn(){return new Mn("")}function Pt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jl(n){return n.pieces_.length-n.pieceNum_}function Yn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Mn(n.pieces_,t)}function Iw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function id(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function P1(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Mn(t,0)}function pi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Mn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Mn(e,0)}function ln(n){return n.pieceNum_>=n.pieces_.length}function Gr(n,t){const e=Pt(n),i=Pt(t);if(null===e)return t;if(e===i)return Gr(Yn(n),Yn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Sw(n,t){const e=id(n,0),i=id(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=ed(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function N1(n,t){if(Jl(n)!==Jl(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Ls(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Jl(n)>Jl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class XT{constructor(t,e){this.errorPrefix_=e,this.parts_=id(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,V.ug)(this.parts_[i]);F1(this)}}function F1(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rd(n))}function rd(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class _o extends Ew{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new _o}getInitialEvent(t){return(0,V.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const sd=1e3;let I_,od=(()=>{class n extends KT{constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=$c("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_o.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Zp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,V.Wl)(c)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new V.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const r=(0,V.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Or(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,V.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):y1("Unrecognized action received from server: "+(0,V.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,we.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(R){(0,V.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(R)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,F]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);p?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=F&&F.token,_=new ww(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,q=>{Or(q+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(R){e.log_("Failed to get token: "+R),p||(e.repoInfo_.nodeAdmin&&Or(R),b())}}})()}interrupt(e){nr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>Up(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Mn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){nr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){nr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,V.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Ql.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zp.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class sn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new sn(t,e)}}class D_{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new sn(Xl,t),r=new sn(Xl,e);return 0!==this.compare(i,r)}minPost(){return sn.MIN}}class qp extends D_{static get __EMPTY_NODE(){return I_}static set __EMPTY_NODE(t){I_=t}compare(t,e){return ed(t.name,e.name)}isDefinedOn(t){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return sn.MIN}maxPost(){return new sn(ia,I_)}makePost(t,e){return(0,V.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new sn(t,I_)}toString(){return".key"}}const yo=new qp;class ad{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let T_,el=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??Vs.EMPTY_NODE,this.right=c??Vs.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Vs.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Vs{constructor(t,e=Vs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Vs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,el.BLACK,null,null))}remove(t){return new Vs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,el.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ad(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ad(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ad(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ad(this.root_,null,this.comparator_,!0,t)}}function Rw(n,t){return ed(n.name,t.name)}function S_(n,t){return ed(n,t)}Vs.EMPTY_NODE=new class L1{copy(t,e,i,r,s){return this}insert(t,e,i){return new el(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const A_=function(n){return"number"==typeof n?"number:"+cw(n):"string:"+n},tl=function(n){if(n.isLeafNode()){const t=n.val();(0,V.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,V.r3)(t,".sv"),"Priority must be a string or number.")}else(0,V.hu)(n===T_||n.isEmpty(),"priority of unexpected type.");(0,V.hu)(n===T_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yp,Wh,Pw,ec=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),tl(this.priorityNode_)}static set __childrenNodeConstructor(e){Yp=e}static get __childrenNodeConstructor(){return Yp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ln(e)?this:".priority"===Pt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Pt(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,V.hu)(".priority"!==r||1===Jl(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+A_(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?cw(this.value_):this.value_,this.lazyHash_=_1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,V.hu)(s>=0,"Unknown leaf type: "+i),(0,V.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ei=new class n2 extends D_{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?ed(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(ia,new ec("[PRIORITY-POST]",Pw))}makePost(t,e){const i=Wh(t);return new sn(e,new ec("[PRIORITY-POST]",i))}toString(){return".priority"}},Kp=Math.log(2);class r2{constructor(t){this.count=parseInt(Math.log(t+1)/Kp,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const B1=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let E,A;if(0===b)return null;if(1===b)return E=n[p],A=e?e(E):E,new el(A,E.node,el.BLACK,null,null);{const R=parseInt(b/2,10)+p,F=r(p,R),q=r(R+1,_);return E=n[R],A=e?e(E):E,new el(A,E.node,el.BLACK,F,q)}},d=function(p){let _=null,b=null,E=n.length;const A=function(F,q){const ne=E-F,ke=E;E-=F;const Ge=r(ne+1,ke),Ze=n[ne],Ke=e?e(Ze):Ze;R(new el(Ke,Ze.node,q,null,Ge))},R=function(F){_?(_.left=F,_=F):(b=F,_=F)};for(let F=0;F<p.count;++F){const q=p.nextBitIsOne(),ne=Math.pow(2,p.count-(F+1));q?A(ne,el.BLACK):(A(ne,el.BLACK),A(ne,el.RED))}return b}(new r2(n.length));return new Vs(i||t,d)};let U1;const Qp={};class tc{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,V.hu)(Qp&&ei,"ChildrenNode.ts has not been loaded"),U1=U1||new tc({".priority":Qp},{".priority":ei}),U1}get(t){const e=(0,V.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vs?e:null}hasIndex(t){return(0,V.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,V.hu)(t!==yo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(sn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?B1(i,t.getCompare()):Qp;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new tc(b,_)}addToIndexes(t,e){const i=(0,V.UI)(this.indexes_,(r,s)=>{const c=(0,V.DV)(this.indexSet_,s);if((0,V.hu)(c,"Missing index implementation for "+s),r===Qp){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(sn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),B1(d,c.getCompare())}return Qp}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new sn(t.name,d))),p.insert(t,t.node)}});return new tc(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,V.UI)(this.indexes_,r=>{if(r===Qp)return r;{const s=e.get(t.name);return s?r.remove(new sn(t.name,s)):r}});return new tc(i,this.indexSet_)}}let Xp,Kt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tl(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xp||(Xp=new n(new Vs(S_),null,tc.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Xp:i}}getChild(e){const i=Pt(e);return null===i?this:this.getImmediateChild(i).getChild(Yn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,V.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new sn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?Xp:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=Pt(e);if(null===r)return i;{(0,V.hu)(".priority"!==Pt(e)||1===Jl(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Yn(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(ei,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+A_(this.getPriority().val())+":"),this.forEachChild(ei,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":_1(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new sn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new sn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new sn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,sn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,sn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ld?-1:0}withIndex(e){if(e===yo||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===yo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ei),s=i.getIterator(ei);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===yo?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ld=new class Fw extends Kt{constructor(){super(new Vs(S_),Kt.EMPTY_NODE,tc.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Kt.EMPTY_NODE}isEmpty(){return!1}};function ai(n,t=null){if(null===n)return Kt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,V.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ec(n,ai(t));if(n instanceof Array){let e=Kt.EMPTY_NODE;return $i(n,(i,r)=>{if((0,V.r3)(n,i)&&"."!==i.substring(0,1)){const s=ai(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ai(t))}{const e=[];let i=!1;if($i(n,(c,d)=>{if("."!==c.substring(0,1)){const p=ai(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new sn(c,p)))}}),0===e.length)return Kt.EMPTY_NODE;const s=B1(e,Rw,c=>c.name,S_);if(i){const c=B1(e,ei.getCompare());return new Kt(s,ai(t),new tc({".priority":c},{".priority":ei}))}return new Kt(s,ai(t),tc.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(Xl,Kt.EMPTY_NODE)},MAX:{value:new sn(ia,ld)}}),qp.__EMPTY_NODE=Kt.EMPTY_NODE,ec.__childrenNodeConstructor=Kt,function Ow(n){T_=n}(ld),function Nw(n){Pw=n}(ld),function V1(n){Wh=n}(ai);class H1 extends D_{constructor(t){super(),this.indexPath_=t,(0,V.hu)(!ln(t)&&".priority"!==Pt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?ed(t.name,e.name):s}makePost(t,e){const i=ai(t),r=Kt.EMPTY_NODE.updateChild(this.indexPath_,i);return new sn(e,r)}maxPost(){const t=Kt.EMPTY_NODE.updateChild(this.indexPath_,ld);return new sn(ia,t)}toString(){return id(this.indexPath_,0).join("/")}}const j1=new class o2 extends D_{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?ed(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(t,e){const i=ai(t);return new sn(e,i)}toString(){return".value"}},Zh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cd=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Zh.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Zh.charAt(t[r]);return(0,V.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),a2=function(n){if(n===""+Ns)return"-";const t=jp(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return ia;const s=Zh.charAt(Zh.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},qh=function(n){if(n===""+Hp)return Xl;const t=jp(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+Ns:(delete e[e.length-1],e.join("")):(e[e.length-1]=Zh.charAt(Zh.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Vw(n){return{type:"value",snapshotNode:n}}function Yh(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ud(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function em(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class dd{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,V.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(ud(e,d)):(0,V.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Yh(e,i)):c.trackChildChange(em(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ei,(r,s)=>{e.hasChild(r)||i.trackChildChange(ud(r,s))}),e.isLeafNode()||e.forEachChild(ei,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(em(r,s,c))}else i.trackChildChange(Yh(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Kt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zi{constructor(t){this.indexedFilter_=new dd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=zi.getStartPost_(t),this.endPost_=zi.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new sn(e,i))||(i=Kt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Kt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Kt.EMPTY_NODE);const s=this;return e.forEachChild(ei,(c,d)=>{s.matches(new sn(c,d))||(r=r.updateImmediateChild(c,Kt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class hd{constructor(t){this.rangedFilter_=new zi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new sn(e,i))||(i=Kt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Kt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Kt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Kt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(A,R)=>E(R,A)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const E=p.getNext();!b&&d(s,E)<=0&&(b=!0),b&&_<this.limit_&&d(E,c)<=0?_++:r=r.updateImmediateChild(E.name,Kt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const E=this.index_.getCompare();c=(A,R)=>E(R,A)}else c=this.index_.getCompare();const d=t;(0,V.hu)(d.numChildren()===this.limit_,"");const p=new sn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const R=null==A?1:c(A,p);if(b&&!i.isEmpty()&&R>=0)return s?.trackChildChange(em(e,i,E)),d.updateImmediateChild(e,i);{s?.trackChildChange(ud(e,E));const q=d.updateImmediateChild(e,Kt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(s?.trackChildChange(Yh(A.name,A.node)),q.updateImmediateChild(A.name,A.node)):q}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(ud(_.name,_.node)),s.trackChildChange(Yh(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Kt.EMPTY_NODE)):t}}class fd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ei}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ia}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ei}copy(){const t=new fd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Wc(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Zc(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function nc(n,t){const e=n.copy();return e.index_=t,e}function pd(n){const t={};if(n.isDefault())return t;let e;return n.index_===ei?e="$priority":n.index_===j1?e="$value":n.index_===yo?e="$key":((0,V.hu)(n.index_ instanceof H1,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,V.Wl)(e),n.startSet_&&(t.startAt=(0,V.Wl)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,V.Wl)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,V.Wl)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,V.Wl)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function md(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ei&&(t.i=n.index_.toString()),t}class ic extends KT{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$c("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,V.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=ic.getListenId_(t,i),d={};this.listens_[c]=d;const p=pd(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let E=b;if(404===_&&(E=null,_=null),null===_&&this.onDataUpdate_(s,E,!1,i),(0,V.DV)(this.listens_,c)===d){let A;A=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(A,null)}})}unlisten(t,e){const i=ic.getListenId_(t,e);delete this.listens_[i]}get(t){const e=pd(t._queryParams),i=t._path.toString(),r=new V.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,V.cI)(d.responseText)}catch{Or("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&Or("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class Bw{constructor(){this.rootNode_=Kt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function tm(){return{value:null,children:new Map}}function gd(n,t,e){if(ln(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Pt(t);n.children.has(i)||n.children.set(i,tm()),gd(n.children.get(i),t=Yn(t),e)}}function M_(n,t){if(ln(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ei,(i,r)=>{gd(n,new Mn(i),r)}),M_(n,t)}}if(n.children.size>0){const e=Pt(t);return t=Yn(t),n.children.has(e)&&M_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function k_(n,t,e){null!==n.value?e(t,n.value):function Uw(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{k_(r,new Mn(t.toString()+"/"+i),e)})}class Hw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&$i(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class c2{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Hw(t);const i=1e4+2e4*Math.random();Fs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;$i(t,(r,s)=>{s>0&&(0,V.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),Fs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bs=(()=>{return(n=Bs||(Bs={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Bs;var n})();function nm(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Jh{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Bs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ln(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Mn(t));return new Jh(Dn(),e,this.revert)}}return(0,V.hu)(Pt(this.path)===t,"operationForChild called for unrelated child."),new Jh(Yn(this.path),this.affectedTree,this.revert)}}class im{constructor(t,e){this.source=t,this.path=e,this.type=Bs.LISTEN_COMPLETE}operationForChild(t){return ln(this.path)?new im(this.source,Dn()):new im(this.source,Yn(this.path))}}class il{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Bs.OVERWRITE}operationForChild(t){return ln(this.path)?new il(this.source,Dn(),this.snap.getImmediateChild(t)):new il(this.source,Yn(this.path),this.snap)}}class rc{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Bs.MERGE}operationForChild(t){if(ln(this.path)){const e=this.children.subtree(new Mn(t));return e.isEmpty()?null:e.value?new il(this.source,Dn(),e.value):new rc(this.source,Dn(),e)}return(0,V.hu)(Pt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new rc(this.source,Yn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rl{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ln(t))return this.isFullyInitialized()&&!this.filtered_;const e=Pt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class u2{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function qc(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function zw(n,t,e){if(null==t.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const i=new sn(t.childName,t.snapshotNode),r=new sn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function $w(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function ef(n,t){return{eventCache:n,serverCache:t}}function tf(n,t,e,i){return ef(new rl(t,e,i),n.serverCache)}function Z1(n,t,e,i){return ef(n.eventCache,new rl(t,e,i))}function nf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function sc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let q1;class Kn{constructor(t,e=(()=>(q1||(q1=new Vs(lw)),q1))()){this.value=t,this.children=e}static fromObject(t){let e=new Kn(null);return $i(t,(i,r)=>{e=e.set(new Mn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Dn(),value:this.value};if(ln(t))return null;{const i=Pt(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Yn(t),e);return null!=s?{path:pi(new Mn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ln(t))return this;{const e=Pt(t),i=this.children.get(e);return null!==i?i.subtree(Yn(t)):new Kn(null)}}set(t,e){if(ln(t))return new Kn(e,this.children);{const i=Pt(t),s=(this.children.get(i)||new Kn(null)).set(Yn(t),e),c=this.children.insert(i,s);return new Kn(this.value,c)}}remove(t){if(ln(t))return this.children.isEmpty()?new Kn(null):new Kn(null,this.children);{const e=Pt(t),i=this.children.get(e);if(i){const r=i.remove(Yn(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new Kn(null):new Kn(this.value,s)}return this}}get(t){if(ln(t))return this.value;{const e=Pt(t),i=this.children.get(e);return i?i.get(Yn(t)):null}}setTree(t,e){if(ln(t))return e;{const i=Pt(t),s=(this.children.get(i)||new Kn(null)).setTree(Yn(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Kn(this.value,c)}}fold(t){return this.fold_(Dn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(pi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Dn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(ln(t))return null;{const s=Pt(t),c=this.children.get(s);return c?c.findOnPath_(Yn(t),pi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Dn(),e)}foreachOnPath_(t,e,i){if(ln(t))return this;{this.value&&i(e,this.value);const r=Pt(t),s=this.children.get(r);return s?s.foreachOnPath_(Yn(t),pi(e,r),i):new Kn(null)}}foreach(t){this.foreach_(Dn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(pi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class bo{constructor(t){this.writeTree_=t}static empty(){return new bo(new Kn(null))}}function rf(n,t,e){if(ln(t))return new bo(new Kn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=Gr(r,t);return s=s.updateChild(c,e),new bo(n.writeTree_.set(r,s))}{const r=new Kn(e),s=n.writeTree_.setTree(t,r);return new bo(s)}}}function Y1(n,t,e){let i=n;return $i(e,(r,s)=>{i=rf(i,pi(t,r),s)}),i}function K1(n,t){if(ln(t))return bo.empty();{const e=n.writeTree_.setTree(t,new Kn(null));return new bo(e)}}function P_(n,t){return null!=oc(n,t)}function oc(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Gr(e.path,t)):null}function N_(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ei,(i,r)=>{t.push(new sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new sn(i,r.value))}),t}function ac(n,t){if(ln(t))return n;{const e=oc(n,t);return new bo(null!=e?new Kn(e):n.writeTree_.subtree(t))}}function F_(n){return n.writeTree_.isEmpty()}function _d(n,t){return Q1(Dn(),n.writeTree_,t)}function Q1(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,V.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=Q1(pi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(pi(n,".priority"),i)),e}}function rm(n,t){return g2(t,n)}function d2(n,t){if(n.snap)return Ls(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Ls(pi(n.path,e),t))return!0;return!1}function Yw(n){return n.visible}function Kw(n,t,e){let i=bo.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Ls(e,c)?(d=Gr(e,c),i=rf(i,d,s.snap)):Ls(c,e)&&(d=Gr(c,e),i=rf(i,Dn(),s.snap.getChild(d)));else{if(!s.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Ls(e,c))d=Gr(e,c),i=Y1(i,d,s.children);else if(Ls(c,e))if(d=Gr(c,e),ln(d))i=Y1(i,Dn(),s.children);else{const p=(0,V.DV)(s.children,Pt(d));if(p){const _=p.getChild(Yn(d));i=rf(i,Dn(),_)}}}}}return i}function Gi(n,t,e,i,r){if(i||r){const s=ac(n.visibleWrites,t);return!r&&F_(s)?e:r||null!=e||P_(s,Dn())?_d(Kw(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(Ls(_.path,t)||Ls(t,_.path))},t),e||Kt.EMPTY_NODE):null}{const s=oc(n.visibleWrites,t);if(null!=s)return s;{const c=ac(n.visibleWrites,t);return F_(c)?e:null!=e||P_(c,Dn())?_d(c,e||Kt.EMPTY_NODE):null}}}function sm(n,t,e,i){return Gi(n.writeTree,n.treePath,t,e,i)}function Yc(n,t){return function Qw(n,t,e){let i=Kt.EMPTY_NODE;const r=oc(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ei,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=ac(n.visibleWrites,t);return e.forEachChild(ei,(c,d)=>{const p=_d(ac(s,new Mn(c)),d);i=i.updateImmediateChild(c,p)}),N_(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return N_(ac(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function eE(n,t,e,i){return function f2(n,t,e,i,r){(0,V.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=pi(t,e);if(P_(n.visibleWrites,s))return null;{const c=ac(n.visibleWrites,s);return F_(c)?r.getChild(e):_d(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function L_(n,t){return function Xw(n,t){return oc(n.visibleWrites,t)}(n.writeTree,pi(n.treePath,t))}function X1(n,t,e){return function p2(n,t,e,i){const r=pi(t,e),s=oc(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?_d(ac(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function J1(n,t){return g2(pi(n.treePath,t),n.writeTree)}function g2(n,t){return{treePath:n,writeTree:t}}class e0{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,em(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,ud(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Yh(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,V.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,em(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const xo=new class t0{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class n0{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new rl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return X1(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:sc(this.viewCache_),s=function tE(n,t,e,i,r,s){return function m2(n,t,e,i,r,s,c){let d;const p=ac(n.visibleWrites,t),_=oc(p,Dn());if(null!=_)d=_;else{if(null==e)return[];d=_d(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],E=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let R=A.getNext();for(;R&&b.length<r;)0!==E(R,i)&&b.push(R),R=A.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function r0(n,t,e,i,r,s){const c=t.eventCache;if(null!=L_(i,e))return t;{let d,p;if(ln(e))if((0,V.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=sc(t),E=Yc(i,_ instanceof Kt?_:Kt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,s)}else{const _=sm(i,sc(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=Pt(e);if(".priority"===_){(0,V.hu)(1===Jl(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const E=eE(i,e,b,p);d=null!=E?n.filter.updatePriority(b,E):c.getNode()}else{const b=Yn(e);let E;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const A=eE(i,e,c.getNode(),p);E=null!=A?c.getNode().getImmediateChild(_).updateChild(b,A):c.getNode().getImmediateChild(_)}else E=X1(i,_,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),_,E,b,r,s):c.getNode()}}return tf(t,d,c.isFullyInitialized()||ln(e),n.filter.filtersNodes())}}function om(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(ln(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),R,null)}else{const R=Pt(e);if(!p.isCompleteForPath(e)&&Jl(e)>1)return t;const F=Yn(e),ne=p.getNode().getImmediateChild(R).updateChild(F,i);_=".priority"===R?b.updatePriority(p.getNode(),ne):b.updateChild(p.getNode(),R,ne,F,xo,null)}const E=Z1(t,_,p.isFullyInitialized()||ln(e),b.filtersNodes());return r0(n,E,e,r,new n0(r,E,s),d)}function s0(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const b=new n0(r,t,s);if(ln(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=tf(t,_,!0,n.filter.filtersNodes());else{const E=Pt(e);if(".priority"===E)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=tf(t,_,d.isFullyInitialized(),d.isFiltered());else{const A=Yn(e),R=d.getNode().getImmediateChild(E);let F;if(ln(A))F=i;else{const q=b.getCompleteChild(E);F=null!=q?".priority"===Iw(A)&&q.getChild(P1(A)).isEmpty()?q:q.updateChild(A,i):Kt.EMPTY_NODE}p=R.equals(F)?t:tf(t,n.filter.updateChild(d.getNode(),E,F,A,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function nE(n,t){return n.eventCache.isCompleteForChild(t)}function iE(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function am(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=ln(e)?i:new Kn(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((E,A)=>{if(b.hasChild(E)){const F=iE(0,t.serverCache.getNode().getImmediateChild(E),A);p=om(n,p,new Mn(E),F,r,s,c,d)}}),_.children.inorderTraversal((E,A)=>{const R=!t.serverCache.isCompleteForChild(E)&&null===A.value;if(!b.hasChild(E)&&!R){const q=iE(0,t.serverCache.getNode().getImmediateChild(E),A);p=om(n,p,new Mn(E),q,r,s,c,d)}}),p}class b2{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new dd(i.getIndex()),s=function vo(n){return n.loadsAllData()?new dd(n.getIndex()):n.hasLimit()?new hd(n):new zi(n)}(i);this.processor_=function _2(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Kt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Kt.EMPTY_NODE,d.getNode(),null),b=new rl(p,c.isFullyInitialized(),r.filtersNodes()),E=new rl(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=ef(E,b),this.eventGenerator_=new u2(this.query_)}get query(){return this.query_}}function V_(n,t){const e=sc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!ln(t)&&!e.getImmediateChild(Pt(t)).isEmpty())?e.getChild(t):null}function aE(n){return 0===n.eventRegistrations_.length}function o0(n,t,e){const i=[];if(e){(0,V.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function B_(n,t,e,i){t.type===Bs.MERGE&&null!==t.source.queryId&&((0,V.hu)(sc(n.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(nf(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function ra(n,t,e,i,r){const s=new e0;let c,d;if(e.type===Bs.OVERWRITE){const _=e;_.source.fromUser?c=s0(n,t,_.path,_.snap,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!ln(_.path),c=om(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===Bs.MERGE){const _=e;_.source.fromUser?c=function y2(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const b=pi(e,p);nE(t,Pt(b))&&(d=s0(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=pi(e,p);nE(t,Pt(b))||(d=s0(n,d,b,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,V.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=am(n,t,_.path,_.children,i,r,d,s))}else if(e.type===Bs.ACK_USER_WRITE){const _=e;c=_.revert?function rE(n,t,e,i,r,s){let c;if(null!=L_(i,e))return t;{const d=new n0(i,t,r),p=t.eventCache.getNode();let _;if(ln(e)||".priority"===Pt(e)){let b;if(t.serverCache.isFullyInitialized())b=sm(i,sc(t));else{const E=t.serverCache.getNode();(0,V.hu)(E instanceof Kt,"serverChildren would be complete if leaf node"),b=Yc(i,E)}_=n.filter.updateFullNode(p,b,s)}else{const b=Pt(e);let E=X1(i,b,t.serverCache);null==E&&t.serverCache.isCompleteForChild(b)&&(E=p.getImmediateChild(b)),_=null!=E?n.filter.updateChild(p,b,E,Yn(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Kt.EMPTY_NODE,Yn(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=sm(i,sc(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=L_(i,Dn()),tf(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function lm(n,t,e,i,r,s,c){if(null!=L_(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(ln(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return om(n,t,e,p.getNode().getChild(e),r,s,d,c);if(ln(e)){let _=new Kn(null);return p.getNode().forEachChild(yo,(b,E)=>{_=_.set(new Mn(b),E)}),am(n,t,e,_,r,s,d,c)}return t}{let _=new Kn(null);return i.foreach((b,E)=>{const A=pi(e,b);p.isCompleteForPath(A)&&(_=_.set(b,p.getNode().getChild(A)))}),am(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==Bs.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);c=function v2(n,t,e,i,r){const s=t.serverCache;return r0(n,Z1(t,s.getNode(),s.isFullyInitialized()||ln(e),s.isFiltered()),e,i,xo,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function sa(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=nf(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(Vw(nf(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function sl(n,t){(0,V.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,V.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,a0(n,s.changes,s.viewCache.eventCache.getNode(),null)}function a0(n,t,e,i){return function O_(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function nl(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),qc(n,r,"child_removed",t,i,e),qc(n,r,"child_added",t,i,e),qc(n,r,"child_moved",s,i,e),qc(n,r,"child_changed",t,i,e),qc(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let cm,$_;class l0{constructor(){this.views=new Map}}function H_(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,V.hu)(null!=s,"SyncTree gave us an op for an invalid query."),B_(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(B_(c,t,e,i));return s}}function c0(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=sm(e,r?i:null),p=!1;d?p=!0:i instanceof Kt?(d=Yc(e,i),p=!1):(d=Kt.EMPTY_NODE,p=!1);const _=ef(new rl(d,p,!1),new rl(i,r,!1));return new b2(t,_)}return c}function fE(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Kc(n,t){let e=null;for(const i of n.views.values())e=e||V_(i,t);return e}function pE(n,t){return t._queryParams.loadsAllData()?j_(n):n.views.get(t._queryIdentifier)}function mE(n,t){return null!=pE(n,t)}function Qc(n){return null!=j_(n)}function j_(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let E2=1;class gE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Kn(null),this.pendingWriteTree_=function Jw(){return{visibleWrites:bo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function u0(n,t,e,i,r){return function Ww(n,t,e,i,r){(0,V.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=rf(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?yd(n,new il({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Xc(n,t,e=!1){const i=function qw(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function h3(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&d2(d,i.path)?r=!1:Ls(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function h2(n){n.visibleWrites=Kw(n.allWrites,Yw,Dn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=K1(n.visibleWrites,i.path):$i(i.children,p=>{n.visibleWrites=K1(n.visibleWrites,pi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new Kn(null);return null!=i.snap?s=s.set(Dn(),!0):$i(i.children,c=>{s=s.set(new Mn(c),!0)}),yd(n,new Jh(i.path,s,e))}return[]}function um(n,t,e){return yd(n,new il({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function dm(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||mE(c,t))){const p=function x2(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Qc(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(o0(_,e,i)),aE(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(o0(p,e,i)),aE(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Qc(n)&&s.push(new(function uE(){return(0,V.hu)(cm,"Reference.ts has not been loaded"),cm}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function dE(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!r){const b=-1!==_.findIndex(A=>A._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(s,(A,R)=>Qc(R));if(b&&!E){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const R=function f3(n){return n.fold((t,e,i)=>{if(e&&Qc(e))return[j_(e)];{let r=[];return e&&(r=fE(e)),$i(i,(s,c)=>{r=r.concat(c)}),r}})}(A);for(let F=0;F<R.length;++F){const q=R[F],ne=q.query,ke=Jc(n,q);n.listenProvider_.startListening(sf(ne),fm(n,ne),ke.hashFn,ke.onComplete)}}}!E&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(sf(t),null):_.forEach(A=>{const R=n.queryToTagMap.get(Z_(A));n.listenProvider_.stopListening(sf(A),R)}))}!function CE(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=Z_(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function d0(n,t,e,i){const r=eu(n,i);if(null!=r){const s=xE(r),c=s.path,d=s.queryId,p=Gr(c,t);return pm(n,c,new il(nm(d),p,e))}return[]}function z_(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(A,R)=>{const F=Gr(A,r);s=s||Kc(R,F),c=c||Qc(R)});let p,d=n.syncPointTree_.get(r);d?(c=c||Qc(d),s=s||Kc(d,Dn())):(d=new l0,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=Kt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((R,F)=>{const q=Kc(F,Dn());q&&(s=s.updateImmediateChild(R,q))}));const _=mE(d,t);if(!_&&!t._queryParams.loadsAllData()){const A=Z_(t);(0,V.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const R=function p3(){return E2++}();n.queryToTagMap.set(A,R),n.tagToQueryMap.set(R,A)}let E=function hE(n,t,e,i,r,s){const c=c0(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function lE(n,t){n.eventRegistrations_.push(t)}(c,e),function U_(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ei,(s,c)=>{i.push(Yh(s,c))}),e.isFullyInitialized()&&i.push(Vw(e.getNode())),a0(n,i,e.getNode(),t)}(c,e)}(d,t,e,rm(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const A=pE(d,t);E=E.concat(function Ot(n,t,e){const i=t._path,r=fm(n,t),s=Jc(n,e),c=n.listenProvider_.startListening(sf(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,V.hu)(!Qc(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,E)=>{if(!ln(_)&&b&&Qc(b))return[j_(b).query];{let A=[];return b&&(A=A.concat(fE(b).map(R=>R.query))),$i(E,(R,F)=>{A=A.concat(F)}),A}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(sf(b),fm(n,b))}}return c}(n,t,A))}return E}function hm(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=Kc(d,Gr(c,t));if(_)return _});return Gi(r,t,s,e,!0)}function yd(n,t){return G_(t,n.syncPointTree_,null,rm(n.pendingWriteTree_,Dn()))}function G_(n,t,e,i){if(ln(n.path))return W_(n,t,e,i);{const r=t.get(Dn());null==e&&null!=r&&(e=Kc(r,Dn()));let s=[];const c=Pt(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=J1(i,c);s=s.concat(G_(d,p,_,b))}return r&&(s=s.concat(H_(r,n,i,e))),s}}function W_(n,t,e,i){const r=t.get(Dn());null==e&&null!=r&&(e=Kc(r,Dn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=J1(i,c),b=n.operationForChild(c);b&&(s=s.concat(W_(b,d,p,_)))}),r&&(s=s.concat(H_(r,n,i,e))),s}function Jc(n,t){const e=t.query,i=fm(n,e);return{hashFn:()=>(function sE(n){return n.viewCache_.serverCache.getNode()}(t)||Kt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function yE(n,t,e){const i=eu(n,e);if(i){const r=xE(i),s=r.path,c=r.queryId,d=Gr(s,t);return pm(n,s,new im(nm(c),d))}return[]}(n,e._path,i):function _E(n,t){return yd(n,new im({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function uw(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return dm(n,e,null,s)}}}}function fm(n,t){const e=Z_(t);return n.queryToTagMap.get(e)}function Z_(n){return n._path.toString()+"$"+n._queryIdentifier}function eu(n,t){return n.tagToQueryMap.get(t)}function xE(n){const t=n.indexOf("$");return(0,V.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Mn(n.substr(0,t))}}function pm(n,t,e){const i=n.syncPointTree_.get(t);return(0,V.hu)(i,"Missing sync point for query tag that we're tracking"),H_(i,e,rm(n.pendingWriteTree_,t),null)}function sf(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function w2(){return(0,V.hu)($_,"Reference.ts has not been loaded"),$_}())(n._repo,n._path):n}class h0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new h0(e)}node(){return this.node_}}class f0{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=pi(this.path_,t);return new f0(this.syncTree_,e)}node(){return hm(this.syncTree_,this.path_)}}const vd=function(n,t,e){return n&&"object"==typeof n?((0,V.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?T2(n[".sv"],t,e):"object"==typeof n[".sv"]?q_(n[".sv"],t):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},T2=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,V.hu)(!1,"Unexpected server value: "+n)},q_=function(n,t,e){n.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,V.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,V.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},mm=function(n,t,e,i){return wE(t,new f0(e,n),i)},mi=function(n,t,e){return wE(n,new h0(t),e)};function wE(n,t,e){const i=n.getPriority().val(),r=vd(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=vd(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new ec(d,ai(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new ec(r))),c.forEachChild(ei,(d,p)=>{const _=wE(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class Y_{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function gm(n,t){let e=t instanceof Mn?t:new Mn(t),i=n,r=Pt(e);for(;null!==r;){const s=(0,V.DV)(i.node.children,r)||{children:{},childCount:0};i=new Y_(r,i,s),e=Yn(e),r=Pt(e)}return i}function bd(n){return n.node.value}function K_(n,t){n.node.value=t,xd(n)}function p0(n){return n.node.childCount>0}function _m(n,t){$i(n.node.children,(e,i)=>{t(new Y_(e,n,i))})}function DE(n,t,e,i){e&&!i&&t(n),_m(n,r=>{DE(r,t,!0,i)}),e&&i&&t(n)}function ym(n){return new Mn(null===n.parent?n.name:ym(n.parent)+"/"+n.name)}function xd(n){null!==n.parent&&function M2(n,t,e){const i=function EE(n){return void 0===bd(n)&&!p0(n)}(e),r=(0,V.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,xd(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,xd(n))}(n.parent,n.name,n)}const k2=/[\[\].#$\/\u0000-\u001F\u007F]/,R2=/[\[\].#$\u0000-\u001F\u007F]/,af=10485760,vm=function(n){return"string"==typeof n&&0!==n.length&&!k2.test(n)},m0=function(n){return"string"==typeof n&&0!==n.length&&!R2.test(n)},bm=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!p_(n)||n&&"object"==typeof n&&(0,V.r3)(n,".sv")},fs=function(n,t,e,i){i&&void 0===t||lc((0,V.gK)(n,"value"),t,e)},lc=function(n,t,e){const i=e instanceof Mn?new XT(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+rd(i));if("function"==typeof t)throw new Error(n+"contains a function "+rd(i)+" with contents = "+t.toString());if(p_(t))throw new Error(n+"contains "+t.toString()+" "+rd(i));if("string"==typeof t&&t.length>af/3&&(0,V.ug)(t)>af)throw new Error(n+"contains a string greater than "+af+" utf8 bytes "+rd(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if($i(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!vm(c)))throw new Error(n+" contains an invalid key ("+c+") "+rd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function JT(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,V.ug)(t),F1(n)})(i,c),lc(n,d,i),function Tw(n){const t=n.parts_.pop();n.byteLength_-=(0,V.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+rd(i)+" in addition to actual children.")}},SE=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,V.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];$i(t,(c,d)=>{const p=new Mn(c);if(lc(r,d,pi(e,p)),".priority"===Iw(p)&&!bm(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=id(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!vm(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Sw);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Ls(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},g0=function(n,t,e){if(!e||void 0!==t){if(p_(t))throw new Error((0,V.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bm(t))throw new Error((0,V.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},lf=function(n,t,e,i){if(!(i&&void 0===e||vm(e)))throw new Error((0,V.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cf=function(n,t,e,i){if(!(i&&void 0===e||m0(e)))throw new Error((0,V.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Co=function(n,t){if(".info"===Pt(t))throw new Error(n+" failed = Can't modify data under /.info/")},_0=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!vm(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),m0(n)}(e))throw new Error((0,V.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class P2{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Q_(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!N1(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function N2(n,t,e){Q_(n,e),F2(n,i=>N1(i,t))}function wo(n,t,e){Q_(n,e),F2(n,i=>Ls(i,t)||Ls(t,i))}function F2(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(m3(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function m3(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Xu&&nr("event: "+e.toString()),$h(i)}}}const y0="repo_interrupt";class L2{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new P2,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tm(),this.transactionQueueTree_=new Y_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function v0(n){const e=n.infoData_.getNode(new Mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function cc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:v0(n)})}function AE(n,t,e,i,r){n.dataUpdateCount++;const s=new Mn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,V.UI)(e,_=>ai(_));c=function vE(n,t,e,i){const r=eu(n,i);if(r){const s=xE(r),c=s.path,d=s.queryId,p=Gr(c,t),_=Kn.fromObject(e);return pm(n,c,new rc(nm(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ai(e);c=d0(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,V.UI)(e,_=>ai(_));c=function I2(n,t,e){const i=Kn.fromObject(e);return yd(n,new rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=ai(e);c=um(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=tu(n,s)),wo(n.eventQueue_,d,c)}function ME(n,t){b0(n,"connected",t),!1===t&&function xm(n){uf(n,"onDisconnectEvents");const t=cc(n),e=tm();k_(n.onDisconnect_,Dn(),(r,s)=>{const c=mm(r,s,n.serverSyncTree_,t);gd(e,r,c)});let i=[];k_(e,Dn(),(r,s)=>{i=i.concat(um(n.serverSyncTree_,r,s));const c=I0(n,r);tu(n,c)}),n.onDisconnect_=tm(),wo(n.eventQueue_,Dn(),i)}(n)}function b0(n,t,e){const i=new Mn("/.info/"+t),r=ai(e);n.infoData_.updateSnapshot(i,r);const s=um(n.infoSyncTree_,i,r);wo(n.eventQueue_,i,s)}function J_(n){return n.nextWriteId_++}function x0(n,t,e,i,r){uf(n,"set",{path:t.toString(),value:e,priority:i});const s=cc(n),c=ai(e,i),d=hm(n.serverSyncTree_,t),p=mi(c,d,s),_=J_(n),b=u0(n.serverSyncTree_,t,p,_,!0);Q_(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(A,R)=>{const F="ok"===A;F||Or("set at "+t+" failed: "+A);const q=Xc(n.serverSyncTree_,_,!F);wo(n.eventQueue_,t,q),uc(0,r,A,R)});const E=I0(n,t);tu(n,E),wo(n.eventQueue_,E,[])}function H2(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&M_(n.onDisconnect_,t),uc(0,e,i,r)})}function C0(n,t,e,i){const r=ai(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&gd(n.onDisconnect_,t,r),uc(0,i,s,c)})}function ey(n,t,e){let i;i=".info"===Pt(t._path)?dm(n.infoSyncTree_,t,e):dm(n.serverSyncTree_,t,e),N2(n.eventQueue_,t._path,i)}function OE(n){n.persistentConnection_&&n.persistentConnection_.interrupt(y0)}function uf(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),nr(e,...t)}function uc(n,t,e,i){t&&$h(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function E0(n,t,e){return hm(n.serverSyncTree_,t,e)||Kt.EMPTY_NODE}function ty(n,t=n.transactionQueueTree_){if(t||ny(n,t),bd(t)){const e=NE(n,t);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function z2(n,t,e){const i=e.map(_=>_.currentWriteId),r=E0(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,V.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const E=Gr(t,b.path);s=s.updateChild(E,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{uf(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const E=[];for(let A=0;A<e.length;A++)e[A].status=2,b=b.concat(Xc(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&E.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();ny(n,gm(n.transactionQueueTree_,t)),ty(n,n.transactionQueueTree_),wo(n.eventQueue_,t,b);for(let A=0;A<E.length;A++)$h(E[A])}else{if("datastale"===_)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{Or("transaction at "+p.toString()+" failed: "+_);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=_}tu(n,t)}},c)}(n,ym(t),e)}else p0(t)&&_m(t,e=>{ty(n,e)})}function tu(n,t){const e=D0(n,t),i=ym(e);return function G2(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=Gr(e,p.path);let E,b=!1;if((0,V.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,E=p.abortReason,r=r.concat(Xc(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,E="maxretry",r=r.concat(Xc(n.serverSyncTree_,p.currentWriteId,!0));else{const A=E0(n,p.path,c);p.currentInputSnapshot=A;const R=t[d].update(A.val());if(void 0!==R){lc("transaction failed: Data returned ",R,p.path);let F=ai(R);"object"==typeof R&&null!=R&&(0,V.r3)(R,".priority")||(F=F.updatePriority(A.getPriority()));const ne=p.currentWriteId,ke=cc(n),Ge=mi(F,A,ke);p.currentOutputSnapshotRaw=F,p.currentOutputSnapshotResolved=Ge,p.currentWriteId=J_(n),c.splice(c.indexOf(ne),1),r=r.concat(u0(n.serverSyncTree_,p.path,Ge,p.currentWriteId,p.applyLocally)),r=r.concat(Xc(n.serverSyncTree_,ne,!0))}else b=!0,E="nodata",r=r.concat(Xc(n.serverSyncTree_,p.currentWriteId,!0))}wo(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}ny(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)$h(i[d]);ty(n,n.transactionQueueTree_)}(n,NE(n,e),i),i}function D0(n,t){let e,i=n.transactionQueueTree_;for(e=Pt(t);null!==e&&void 0===bd(i);)i=gm(i,e),e=Pt(t=Yn(t));return i}function NE(n,t){const e=[];return FE(n,t,e),e.sort((i,r)=>i.order-r.order),e}function FE(n,t,e){const i=bd(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);_m(t,r=>{FE(n,r,e)})}function ny(n,t){const e=bd(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,K_(t,e.length>0?e:void 0)}_m(t,i=>{ny(n,i)})}function I0(n,t){const e=ym(D0(n,t)),i=gm(n.transactionQueueTree_,t);return function A2(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{S0(n,r)}),S0(n,i),DE(i,r=>{S0(n,r)}),e}function S0(n,t){const e=bd(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,V.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,V.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Xc(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?K_(t,void 0):e.length=s+1,wo(n.eventQueue_,ym(t),r);for(let c=0;c<i.length;c++)$h(i[c])}}const T0=function(n,t){const e=LE(n),i=e.namespace;return"firebase.com"===e.domain&&na(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&na("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Or("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new w1(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Mn(e.pathString)}},LE=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(b,E)),b<E&&(r=function W2(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,E)));const A=function Z2(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Or(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const R=t.slice(0,_);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const F=t.indexOf(".");i=t.substring(0,F).toLowerCase(),e=t.substring(F+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class A0{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class VE{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class M0{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class k0{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new V.BH;return H2(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Co("OnDisconnect.remove",this._path);const t=new V.BH;return C0(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Co("OnDisconnect.set",this._path),fs("OnDisconnect.set",t,this._path,!1);const e=new V.BH;return C0(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Co("OnDisconnect.setWithPriority",this._path),fs("OnDisconnect.setWithPriority",t,this._path,!1),g0("OnDisconnect.setWithPriority",e,!1);const i=new V.BH;return function j2(n,t,e,i,r){const s=ai(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&gd(n.onDisconnect_,t,s),uc(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Co("OnDisconnect.update",this._path),SE("OnDisconnect.update",t,this._path,!1);const e=new V.BH;return function RE(n,t,e,i){if((0,V.xb)(e))return nr("onDisconnect().update() called with empty data.  Don't do anything."),void uc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&$i(e,(c,d)=>{const p=ai(d);gd(n.onDisconnect_,pi(t,c),p)}),uc(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ps{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return ln(this._path)?null:Iw(this._path)}get ref(){return new ms(this._repo,this._path)}get _queryIdentifier(){const t=md(this._queryParams),e=Up(t);return"{}"===e?"default":e}get _queryObject(){return md(this._queryParams)}isEqual(t){if(!((t=(0,V.m9)(t))instanceof ps))return!1;const e=this._repo===t._repo,i=N1(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function QT(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function iy(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===yo){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Xl)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==ia)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ei){if(null!=t&&!bm(t)||null!=e&&!bm(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(n.getIndex()instanceof H1||n.getIndex()===j1,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function df(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ms extends ps{constructor(t,e){super(t,e,new fd,!1)}get parent(){const t=P1(this._path);return null===t?null:new ms(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class iu{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Mn(t),i=Cd(this.ref,t);return new iu(this._node.getChild(e),i,ei)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new iu(r,Cd(this.ref,i),ei)))}hasChild(t){const e=new Mn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ru(n,t){return(n=(0,V.m9)(n))._checkNotDeleted("ref"),void 0!==t?Cd(n._root,t):n._root}function BE(n,t){(n=(0,V.m9)(n))._checkNotDeleted("refFromURL");const e=T0(t,n._repo.repoInfo_.nodeAdmin);_0("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&na("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),ru(n,e.path.toString())}function Cd(n,t){return null===Pt((n=(0,V.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cf("child","path",e,!1)):cf("child","path",t,!1),new ms(n._repo,pi(n._path,t));var e}function ol(n,t){n=(0,V.m9)(n),Co("set",n._path),fs("set",t,n._path,!1);const e=new V.BH;return x0(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function g3(n,t){SE("update",t,n._path,!1);const e=new V.BH;return function U2(n,t,e,i){uf(n,"update",{path:t.toString(),value:e});let r=!0;const s=cc(n),c={};if($i(e,(d,p)=>{r=!1,c[d]=mm(pi(t,d),ai(p),n.serverSyncTree_,s)}),r)nr("update() called with empty data.  Don't do anything."),uc(0,i,"ok",void 0);else{const d=J_(n),p=function D2(n,t,e,i){!function Zw(n,t,e,i){(0,V.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=Y1(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Kn.fromObject(e);return yd(n,new rc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);Q_(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const E="ok"===_;E||Or("update at "+t+" failed: "+_);const A=Xc(n.serverSyncTree_,d,!E),R=A.length>0?tu(n,t):t;wo(n.eventQueue_,R,A),uc(0,i,_,b)}),$i(e,_=>{const b=I0(n,pi(t,_));tu(n,b)}),wo(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function $E(n){n=(0,V.m9)(n);const t=new M0(()=>{}),e=new wd(t);return function kE(n,t,e){const i=function bE(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const E=Gr(_,e);i=i||Kc(b,E)});let r=n.syncPointTree_.get(e);r?i=i||Kc(r,Dn()):(r=new l0,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new rl(i,!0,!1):null;return function oE(n){return nf(n.viewCache_)}(c0(r,t,rm(n.pendingWriteTree_,t._path),s?c.getNode():Kt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=ai(r).withIndex(t._queryParams.getIndex());let c;if(z_(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=um(n.serverSyncTree_,t._path,s);else{const d=fm(n.serverSyncTree_,t);c=d0(n.serverSyncTree_,t._path,s,d)}return wo(n.eventQueue_,t._path,c),dm(n.serverSyncTree_,t,e,null,!0),s},r=>(uf(n,"get for query "+(0,V.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new iu(i,new ms(n._repo,n._path),n._queryParams.getIndex()))}class wd{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new A0("value",this,new iu(t.snapshotNode,new ms(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new VE(this,t,e):null}matches(t){return t instanceof wd&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ry{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new VE(this,t,e):null}createEvent(t,e){(0,V.hu)(null!=t.childName,"Child events should have a childName.");const i=Cd(new ms(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new A0(t.type,this,new iu(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ry&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ed(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(b,E)=>{ey(n._repo,n,d),p(b,E)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new M0(e,s||void 0),d="value"===t?new wd(c):new ry(t,c);return function $2(n,t,e){let i;i=".info"===Pt(t._path)?z_(n.infoSyncTree_,t,e):z_(n.serverSyncTree_,t,e),N2(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>ey(n._repo,n,d)}function Cm(n,t,e,i){return Ed(n,"value",t,e,i)}function R0(n,t,e,i){return Ed(n,"child_added",t,e,i)}function sy(n,t,e,i){return Ed(n,"child_changed",t,e,i)}function O0(n,t,e,i){return Ed(n,"child_moved",t,e,i)}function P0(n,t,e,i){return Ed(n,"child_removed",t,e,i)}function N0(n,t,e){let i=null;const r=e?new M0(e):null;"value"===t?i=new wd(r):t&&(i=new ry(t,r)),ey(n._repo,n,i)}class Eo{}class zE extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fs("endAt",this._value,t._path,!0);const e=Zc(t._queryParams,this._value,this._key);if(df(e),nu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(t._repo,t._path,e,t._orderByCalled)}}class Q2 extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fs("endBefore",this._value,t._path,!1);const e=function Xh(n,t,e){let i,r;return n.index_===yo?("string"==typeof t&&(t=qh(t)),r=Zc(n,t,e)):(i=null==e?Xl:qh(e),r=Zc(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(df(e),nu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ps(t._repo,t._path,e,t._orderByCalled)}}class F0 extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fs("startAt",this._value,t._path,!0);const e=Wc(t._queryParams,this._value,this._key);if(df(e),nu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ps(t._repo,t._path,e,t._orderByCalled)}}class GE extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){fs("startAfter",this._value,t._path,!1);const e=function Qh(n,t,e){let i;if(n.index_===yo)"string"==typeof t&&(t=a2(t)),i=Wc(n,t,e);else{let r;r=null==e?ia:a2(e),i=Wc(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(df(e),nu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ps(t._repo,t._path,e,t._orderByCalled)}}class eA extends Eo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(t._repo,t._path,function z1(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class v3 extends Eo{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ps(t._repo,t._path,function Kh(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class nA extends Eo{constructor(t){super(),this._path=t}_apply(t){iy(t,"orderByChild");const e=new Mn(this._path);if(ln(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new H1(e),r=nc(t._queryParams,i);return nu(r),new ps(t._repo,t._path,r,!0)}}class rA extends Eo{_apply(t){iy(t,"orderByKey");const e=nc(t._queryParams,yo);return nu(e),new ps(t._repo,t._path,e,!0)}}class oA extends Eo{_apply(t){iy(t,"orderByPriority");const e=nc(t._queryParams,ei);return nu(e),new ps(t._repo,t._path,e,!0)}}class lA extends Eo{_apply(t){iy(t,"orderByValue");const e=nc(t._queryParams,j1);return nu(e),new ps(t._repo,t._path,e,!0)}}class uA extends Eo{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(fs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new zE(this._value,this._key)._apply(new F0(this._value,this._key)._apply(t))}}function oa(n,...t){let e=(0,V.m9)(n);for(const i of t)e=i._apply(e);return e}(function cE(n){(0,V.hu)(!cm,"__referenceConstructor has already been defined"),cm=n})(ms),function C2(n){(0,V.hu)(!$_,"__referenceConstructor has already been defined"),$_=n}(ms);const oy={};function V0(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||na("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=T0(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=T0(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new td(td.OWNER):new hw(n.name,n.options,t);_0("Invalid Firebase Database URL",c),ln(c.path)||na("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function qE(n,t,e,i){let r=oy[t.name];r||(r={},oy[t.name]=r);let s=r[n.toURLString()];return s&&na("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new L2(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new b1(n.name,e));return new b3(E,n)}class b3{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function V2(n,t,e){if(n.stats_=y_(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ic(n.repoInfo_,(i,r,s,c)=>{AE(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ME(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new od(n.repoInfo_,t,(i,r,s,c)=>{AE(n,i,r,s,c)},i=>{ME(n,i)},i=>{!function B2(n,t){$i(t,(e,i)=>{b0(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function _w(n,t){const e=n.toString();return gw[e]||(gw[e]=t()),gw[e]}(n.repoInfo_,()=>new c2(n.stats_,n.server_)),n.infoData_=new Bw,n.infoSyncTree_=new gE({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=um(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),b0(n,"connected",!1),n.serverSyncTree_=new gE({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);wo(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ms(this._repo,Dn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function ZE(n,t){const e=oy[t];(!e||e[n.key]!==n)&&na(`Database ${t}(${n.repoInfo_}) has already been deleted.`),OE(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&na("Cannot call "+t+" on a deleted database.")}}function B0(){T1.IS_TRANSPORT_INITIALIZED&&Or("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function fA(){B0(),Ja.forceDisallow()}function pA(){B0(),zh.forceDisallow(),Ja.forceAllow()}function U0(n=(0,Si.getApp)(),t){const e=(0,Si._getProvider)(n,"database").getImmediate({identifier:t}),i=(0,V.P0)("database");return i&&YE(e,...i),e}function YE(n,t,e,i={}){(n=(0,V.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&na("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&na('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new td(td.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,V.Sg)(i.mockUserToken,n.app.options.projectId);s=new td(c)}!function WE(n,t,e,i){n.repoInfo_=new w1(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}function H0(n,t){aw(n,t)}const gA={".sv":"timestamp"};class _A{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}let hf;od.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},od.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function al(n){iw(Si.SDK_VERSION),(0,Si._registerComponent)(new ta.wA("database",(t,{instanceIdentifier:e})=>V0(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(f1,p1,n),(0,Si.registerVersion)(f1,p1,"esm2017")}();try{hf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hf=!1}let Dd,Wi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ar(n){return n===Tr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ly(){if(Dd)return Dd;if("object"!=typeof document||!document)return Dd=new Set($0),Dd;let n=document.createElement("input");return Dd=new Set($0.filter(t=>(n.setAttribute("type",t),n.type===t))),Dd}let ff,z0,dc,Im;function pf(n){return function vA(){if(null==ff&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ff=!0}))}finally{ff=ff||!1}return ff}()?n:!!n.capture}function cy(){if(null==dc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return dc=!1,dc;if("scrollBehavior"in document.documentElement.style)dc=!0;else{const n=Element.prototype.scrollTo;dc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return dc}function mf(){if("object"!=typeof document||!document)return 0;if(null==z0){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),z0=0,0===n.scrollLeft&&(n.scrollLeft=1,z0=0===n.scrollLeft?1:2),n.remove()}return z0}function Sm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Id(n){return n.composedPath?n.composedPath()[0]:n.target}function W0(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function xr(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var yf=B(4986);function Td(n,t=yf.z){return(0,wn.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe((0,jn.x)(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function cl(n){return vn((t,e)=>n<=e)}function py(n,t=Os.y){return n=n??s4,(0,wn.e)((e,i)=>{let r,s=!0;e.subscribe((0,jn.x)(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function s4(n,t){return n===t}var dD=B(5032);function Nn(n){return(0,wn.e)((t,e)=>{(0,zr.Xf)(n).subscribe((0,jn.x)(e,()=>e.complete(),dD.Z)),!e.closed&&t.subscribe(e)})}function In(n){return null!=n&&"false"!=`${n}`}function vf(n,t=0){return function hD(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function X0(n){return Array.isArray(n)?n:[n]}function Fi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fc(n){return n instanceof o.SBq?n.nativeElement:n}let QA=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J0=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=fc(e);return new Hn.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new dt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(QA))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pD=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=In(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=vf(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Td(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(J0),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[QA]}),n})();const tb=new Set;let Ad,my=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mD}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function gy(n){if(!tb.has(n))try{Ad||(Ad=document.createElement("style"),Ad.setAttribute("type","text/css"),document.head.appendChild(Ad)),Ad.sheet&&(Ad.sheet.insertRule(`@media ${n} {body{ }}`,0),tb.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mD(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _y=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new dt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return nb(X0(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Gl(nb(X0(e)).map(c=>this._registerQuery(c).observable));return s=qo(s.pipe(Rt(1)),s.pipe(cl(1),Td(0))),s.pipe((0,Ye.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Hn.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(hi(i),(0,Ye.U)(({matches:c})=>({query:e,matches:c})),Nn(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(my),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nb(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function rb(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const _D="cdk-describedby-message",yy="cdk-describedby-host";let sb=0,tM=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+sb++,this._document=e,this._id=(0,o.f3M)(o.AFp)+"-"+sb++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=yD(i,r);"string"!=typeof i?(nM(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=yD(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const c=this._messageRegistry.get(s);c&&0===c.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${yy}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(yy);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");nM(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(yD(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=rb(e,"aria-describedby").filter(r=>0!=r.indexOf(_D));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function JA(n,t,e){const i=rb(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(yy,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function o4(n,t,e){const r=rb(n,t).filter(s=>s!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(yy)}_isElementDescribedByMessage(e,i){const r=rb(e,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(Wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yD(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function nM(n,t){n.id||(n.id=`${_D}-${t}-${sb++}`)}let Am=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function vD(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function rM(n){try{return n.frameElement}catch{return null}}(function c4(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===by(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=by(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function xy(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function l4(n){return!function bD(n){return function lb(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Md(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ab(n){return function sM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vy(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vy(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function by(n){if(!vy(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class u4{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Rt(1)).subscribe(t)}}let Cy=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new u4(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Am),o.LFG(o.R0b),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xD=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=In(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=In(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Sm(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cy),o.Y36(ie))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function cb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function ub(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const aM=new o.OlP("cdk-input-modality-detector-options"),lM={ignoreKeys:[18,17,224,91,16]},lu=pf({passive:!0,capture:!0});let m4=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Pn(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Id(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cb(c)?"keyboard":"mouse"),this._mostRecentTarget=Id(c))},this._onTouchstart=c=>{ub(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Id(c))},this._options={...lM,...s},this.modalityDetected=this._modality.pipe(cl(1)),this.modalityChanged=this.modalityDetected.pipe(py()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,lu),r.addEventListener("mousedown",this._onMousedown,lu),r.addEventListener("touchstart",this._onTouchstart,lu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,lu),document.removeEventListener("mousedown",this._onMousedown,lu),document.removeEventListener("touchstart",this._onTouchstart,lu))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi),o.LFG(o.R0b),o.LFG(ie),o.LFG(aM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CD=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function hb(){return null}}),cM=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wD=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(CD,8),o.LFG(o.R0b),o.LFG(ie),o.LFG(cM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g4=new o.OlP("cdk-focus-monitor-default-options"),wy=pf({passive:!0,capture:!0});let cu=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new dt.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=Id(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=fc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const s=function bA(n){if(function G0(){if(null==Im){const n=typeof document<"u"?document.head:null;Im=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Im}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new dt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=fc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=fc(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Id(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,wy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,wy)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Wi),o.LFG(m4),o.LFG(ie,8),o.LFG(g4,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uM=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new o.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(cu))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const dM="cdk-high-contrast-black-on-white",hM="cdk-high-contrast-white-on-black",ED="cdk-high-contrast-active";let fM=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(_y).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ED,dM,hM),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ED,dM):2===i&&e.add(ED,hM)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fb=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fM))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[eb]}),n})();var pM=B(1144);const _4=["addListener","removeListener"],y4=["addEventListener","removeEventListener"],v4=["on","off"];function bf(n,t,e,i){if((0,tr.m)(e)&&(i=e,e=void 0),i)return bf(n,t,e).pipe(jl(i));const[r,s]=function l(n){return(0,tr.m)(n.addEventListener)&&(0,tr.m)(n.removeEventListener)}(n)?y4.map(c=>d=>n[c](t,d,e)):function b4(n){return(0,tr.m)(n.addListener)&&(0,tr.m)(n.removeListener)}(n)?_4.map(mM(n,t)):function a(n){return(0,tr.m)(n.on)&&(0,tr.m)(n.off)}(n)?v4.map(mM(n,t)):[];if(!r&&(0,pM.z)(n))return(0,I.z)(c=>bf(c,t,e))((0,zr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Hn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function mM(n,t){return e=>i=>n[e](t,i)}var u=B(4408);const h={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=h;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Oi.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=h;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=h;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var m=B(7565);new class v extends m.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class f extends u.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=h.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(h.cancelAnimationFrame(e),t._scheduled=void 0)}});let P,T=1;const U={};function K(n){return n in U&&(delete U[n],!0)}const oe={setImmediate(n){const t=T++;return U[t]=!0,P||(P=Promise.resolve()),P.then(()=>K(t)&&n()),t},clearImmediate(n){K(n)}},{setImmediate:ze,clearImmediate:Je}=oe,ht={setImmediate(...n){const{delegate:t}=ht;return(t?.setImmediate||ze)(...n)},clearImmediate(n){const{delegate:t}=ht;return(t?.clearImmediate||Je)(n)},delegate:void 0};new class Fe extends m.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Tt extends u.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ht.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(ht.clearImmediate(e),t._scheduled=void 0)}});var kd=B(3532);function Ey(n,t=yf.z){return function gi(n){return(0,wn.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,jn.x)(e,_=>{i=!0,r=_,s||(0,zr.Xf)(n(_)).subscribe(s=(0,jn.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>function mb(n=0,t,e=yf.P){let i=-1;return null!=t&&((0,kd.K)(t)?e=t:i=t),new Hn.y(r=>{let s=function pb(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t))}const gb=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function _b(){return(0,o.f3M)(ie)}}),yb=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Us=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function vb(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?yb.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),xb=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Hn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Ey(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(vn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=fc(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(Wi),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cb=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new dt.x,this._elementScrolled=new Hn.y(c=>this.ngZone.runOutsideAngular(()=>bf(this.elementRef.nativeElement,"scroll").pipe(Nn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=mf()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==mf()?e.left=e.right:1==mf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;cy()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==mf()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:c&&1==mf()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(xb),o.Y36(o.R0b),o.Y36(Us,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),gM=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new dt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ey(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi),o.LFG(o.R0b),o.LFG(ie,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),x4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bb,Mm,bb,Mm]}),n})();class _M{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xf extends _M{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class yM extends _M{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class NU extends _M{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class ID{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yM?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof NU?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class FU extends ID{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let km=(()=>{class n extends ID{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(ie))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var uu=B(6451);const C4=cy();class LU{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Fi(-this._previousScrollPosition.left),t.style.top=Fi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),C4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),C4&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class VU{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class w4{enable(){}disable(){}attach(){}}function vM(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function E4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class BU{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vM(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let UU=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new w4,this.close=c=>new VU(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new LU(this._viewportRuler,this._document),this.reposition=c=>new BU(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xb),o.LFG(gM),o.LFG(o.R0b),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SD{constructor(t){if(this.scrollStrategy=new w4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class HU{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let D4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jU=(()=>{class n extends D4{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$U=(()=>{class n extends D4{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Id(s)},this._clickListener=s=>{const c=Id(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const E=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(Wi),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TD=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||W0()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),W0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(Wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wb{constructor(t,e,i,r,s,c,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new dt.x,this._attachments=new dt.x,this._detachments=new dt.x,this._locationChanges=Oi.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._backdropTransitionendHandler=E=>{this._disposeBackdrop(E.target)},this._keydownEvents=new dt.x,this._outsidePointerEvents=new dt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Rt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Fi(this._config.width),t.height=Fi(this._config.height),t.minWidth=Fi(this._config.minWidth),t.minHeight=Fi(this._config.minHeight),t.maxWidth=Fi(this._config.maxWidth),t.maxHeight=Fi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=X0(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Nn((0,uu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const I4="cdk-overlay-connected-position-bounding-box",zU=/([A-Za-z%]+)$/;class S4{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new dt.x,this._resizeSubscription=Oi.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(I4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Rm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(I4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=A4(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let A=0-d,R=d+s.height-i.height,F=this._subtractOverflows(s.width,0-c,c+s.width-i.width),q=this._subtractOverflows(s.height,A,R),ne=F*q;return{visibleArea:ne,isCompletelyWithinViewport:s.width*s.height===ne,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:F==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=T4(this._overlayRef.getConfig().minHeight),d=T4(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=A4(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,E=0;return b=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,E=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:E},{x:t.x+b,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new HU(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,E,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),F=this._lastBoundingBoxSize.height;s=2*R,c=t.y-R,s>F&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-F/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,b=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),F=this._lastBoundingBoxSize.width;b=2*R,E=t.x-R,b>F&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-F/2)}return{top:c,left:E,bottom:d,right:A,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Fi(i.height),r.top=Fi(i.top),r.bottom=Fi(i.bottom),r.width=Fi(i.width),r.left=Fi(i.left),r.right=Fi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Fi(s)),c&&(r.maxWidth=Fi(c))}this._lastBoundingBoxSize=i,Rm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Rm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Rm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Rm(i,this._getExactOverlayY(e,t,b)),Rm(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Fi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Fi(c.maxWidth):s&&(i.maxWidth="")),Rm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Fi(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Fi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E4(t,i),isOriginOutsideView:vM(t,i),isOverlayClipped:E4(e,i),isOverlayOutsideView:vM(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&X0(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Rm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function T4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zU);return e&&"px"!==e?null:parseFloat(t)}return n||null}function A4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const M4="cdk-global-overlay-wrapper";class GU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(M4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,E=this._xOffset,A="rtl"===this._overlayRef.getConfig().direction;let R="",F="",q="";p?q="flex-start":"center"===b?(q="center",A?F=E:R=E):A?"left"===b||"end"===b?(q="flex-end",R=E):("right"===b||"start"===b)&&(q="flex-start",F=E):"left"===b||"start"===b?(q="flex-start",R=E):("right"===b||"end"===b)&&(q="flex-end",F=E),t.position=this._cssPosition,t.marginLeft=p?"0":R,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":F,e.justifyContent=q,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(M4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let WU=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new GU}flexibleConnectedTo(e){return new S4(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gM),o.LFG(ie),o.LFG(Wi),o.LFG(TD))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=0,la=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E,A,R){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=E,this._outsideClickDispatcher=A,this._animationsModuleType=R}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new SD(e);return c.direction=c.direction||this._directionality.value,new wb(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ZU++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new FU(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(UU),o.LFG(TD),o.LFG(o._Vd),o.LFG(WU),o.LFG(jU),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(ie),o.LFG(Us),o.LFG(Ne),o.LFG($U),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const KU={provide:new o.OlP("cdk-connected-overlay-scroll-strategy"),deps:[la],useFactory:function YU(n){return()=>n.scrollStrategies.reposition()}};let Iy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[la,KU],imports:[bb,Dy,x4,x4]}),n})();function QU(n,t){}class AD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let k4=(()=>{class n extends ID{constructor(e,i,r,s,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const E=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),E},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Sm(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Sm();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Sm())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cy),o.Y36(ie,8),o.Y36(AD),o.Y36(Am),o.Y36(o.R0b),o.Y36(wb),o.Y36(cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(km,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,QU,0,0,"ng-template",0)},dependencies:[km],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class bM{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new dt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!xr(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const R4=new o.OlP("DialogScrollStrategy"),XU=new o.OlP("DialogData"),JU=new o.OlP("DefaultDialogConfig"),tH={provide:R4,deps:[la],useFactory:function eH(n){return()=>n.scrollStrategies.block()}};let nH=0,O4=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dt.x,this._afterOpenedAtThisLevel=new dt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new AD,...i}).id=i.id||"cdk-dialog-"+nH++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new bM(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){xM(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){xM(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),xM(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new SD({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:AD,useValue:r},{provide:bM,useValue:i},{provide:wb,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=k4;const p=new xf(d,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new yM(e,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new xf(e,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:XU,useValue:e.data},{provide:bM,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(Us,null,o.XFs.Optional))&&d.push({provide:Us,useValue:{value:e.direction,change:Xe()}}),o.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(la),o.LFG(o.zs3),o.LFG(JU,8),o.LFG(n,12),o.LFG(TD),o.LFG(R4))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function xM(n,t){let e=n.length;for(;e--;)t(n[e])}let iH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[O4,tH],imports:[Iy,Dy,fb,Dy]}),n})();const sH=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function rH(){return!0}});let gn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!W0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fM),o.LFG(sH,8),o.LFG(ie))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bb,bb]}),n})();function CM(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=In(t)}}}function Sy(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Eb(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=In(t)}}}function oH(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const aH=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function lH(){return(0,o.f3M)(o.soG)}});class Wr{constructor(){this._localeChanges=new dt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Om=new o.OlP("mat-date-formats"),cH=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function wM(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let uH=(()=>{class n extends Wr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return wM(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return wM(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return wM(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(cH.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(aH,8),o.LFG(Wi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const dH={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let hH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Wr,useClass:uH}]}),n})(),fH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Om,useValue:dH}],imports:[hH]}),n})(),F4=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Db(n,t,e){n.nativeElement.classList.toggle(t,e)}let MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})();class pH{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const B4={enterDuration:225,exitDuration:150},EM=pf({passive:!0}),U4=["mousedown","touchstart"],H4=["mouseup","mouseleave","touchend","touchcancel"];class gH{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=fc(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...B4,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function _H(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const E=window.getComputedStyle(b),R=E.transitionDuration,F="none"===E.transitionProperty||"0s"===R||"0s, 0s"===R,q=new pH(this,b,i,F);b.style.transform="scale3d(1, 1, 1)",q.state=0,i.persistent||(this._mostRecentTransientRipple=q);let ne=null;return!F&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ke=()=>this._finishRippleTransition(q),Ge=()=>this._destroyRipple(q);b.addEventListener("transitionend",ke),b.addEventListener("transitioncancel",Ge),ne={onTransitionEnd:ke,onTransitionCancel:Ge}}),this._activeRipples.set(q,ne),(F||!_)&&this._finishRippleTransition(q),q}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...B4,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=fc(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(U4))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(H4),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=cb(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ub(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,EM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(U4.forEach(t=>{this._triggerElement.removeEventListener(t,this,EM)}),this._pointerUpEventsRegistered&&H4.forEach(t=>{this._triggerElement.removeEventListener(t,this,EM)}))}}const yH=new o.OlP("mat-ripple-global-options");let kD=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new gH(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(Wi),o.Y36(yH,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),DM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})(),j4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn]}),n})();class $4{}const Rd="*";function Od(n,t){return{type:7,name:n,definitions:t,options:{}}}function gs(n,t=null){return{type:4,styles:t,timings:n}}function z4(n,t=null){return{type:3,steps:n,options:t}}function G4(n,t=null){return{type:2,steps:n,options:t}}function $n(n){return{type:6,styles:n,offset:null}}function ca(n,t,e){return{type:0,name:n,styles:t,options:e}}function IM(n){return{type:5,steps:n}}function _s(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function W4(n=null){return{type:9,options:n}}function Z4(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function q4(n){Promise.resolve().then(n)}class Ib{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){q4(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Y4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?q4(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function xH(n,t){}const Ty={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},CH={dialogContainer:Od("dialogContainer",[ca("void, exit",$n({opacity:0,transform:"scale(0.7)"})),ca("enter",$n({transform:"none"})),_s("* => enter",z4([gs("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",$n({transform:"none",opacity:1})),Z4("@*",W4(),{optional:!0})]),Ty),_s("* => void, * => exit",z4([gs("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",$n({opacity:0})),Z4("@*",W4(),{optional:!0})]),Ty)])};class RD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Ty.params.enterAnimationDuration,this.exitAnimationDuration=Ty.params.exitAnimationDuration}}let wH=(()=>{class n extends k4{constructor(e,i,r,s,c,d,p,_){super(e,i,r,s,c,d,p,_),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cy),o.Y36(ie,8),o.Y36(RD),o.Y36(Am),o.Y36(o.R0b),o.Y36(wb),o.Y36(cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),EH=(()=>{class n extends wH{constructor(e,i,r,s,c,d,p,_,b){super(e,i,r,s,c,d,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Ty.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Ty.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cy),o.Y36(ie,8),o.Y36(RD),o.Y36(Am),o.Y36(o.R0b),o.Y36(wb),o.Y36(o.sBO),o.Y36(cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,xH,0,0,"ng-template",0)},dependencies:[km],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[CH.dialogContainer]}}),n})();class Ay{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new dt.x,this._beforeClosed=new dt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(vn(r=>"opened"===r.state),Rt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(vn(r=>"closed"===r.state),Rt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,uu.T)(this.backdropClick(),this.keydownEvents().pipe(vn(r=>27===r.keyCode&&!this.disableClose&&!xr(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),K4(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(vn(e=>"closing"===e.state),Rt(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function K4(n,t,e){return n._closeInteractionType=t,n.close(e)}const OD=new o.OlP("MatDialogData"),DH=new o.OlP("mat-dialog-default-options"),Q4=new o.OlP("mat-dialog-scroll-strategy"),SH={provide:Q4,deps:[la],useFactory:function IH(n){return()=>n.scrollStrategies.block()}};let TH=0,AH=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new dt.x,this._afterOpenedAtThisLevel=new dt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=d,this._dialog=i.get(O4)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new RD,...i}).id=i.id||`${this._idPrefix}${TH++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:RD,useValue:i},{provide:AD,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Pm=(()=>{class n extends AH{constructor(e,i,r,s,c,d,p,_){super(e,i,s,d,p,c,Ay,EH,OD,_)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(la),o.LFG(o.zs3),o.LFG(Ne,8),o.LFG(DH,8),o.LFG(Q4),o.LFG(n,12),o.LFG(TD),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),MH=0,TM=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=X4(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){K4(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ay,8),o.Y36(o.SBq),o.Y36(Pm))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._onButtonClick(s)}),2&e&&o.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[o.TTD]}),n})(),AM=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+MH++}ngOnInit(){this._dialogRef||(this._dialogRef=X4(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ay,8),o.Y36(o.SBq),o.Y36(Pm))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),MM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),kM=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function X4(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Pm,SH],imports:[iH,Iy,Dy,gn,gn]}),n})();const RH=["mat-button",""],OH=["*"],NH=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],FH=Sy(CM(Eb(class{constructor(n){this._elementRef=n}})));let ua=(()=>{class n extends FH{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of NH)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(cu),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(kD,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:RH,ngContentSelectors:OH,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[kD],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),RM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[DM,gn,gn]}),n})(),LH=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ay),o.Y36(OD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:23,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Please Verify Your Email"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"p")(4,"strong"),o._uU(5),o._UZ(6,"br"),o.qZA(),o._uU(7," Your Email id : "),o.TgZ(8,"strong"),o._uU(9),o.qZA(),o._uU(10," is not verified yet."),o._UZ(11,"br"),o.TgZ(12,"strong"),o._uU(13,"You need to verify your email. You will not able to use system untill you verify your email."),o.qZA(),o._UZ(14,"br"),o._uU(15," We will sent you an email with an "),o.TgZ(16,"strong"),o._uU(17,"verification link on your registered email."),o.qZA(),o._UZ(18,"br"),o._uU(19," Please press procced to verify your email. "),o.qZA()(),o.TgZ(20,"mat-dialog-actions",2)(21,"button",3),o._uU(22,"Procced"),o.qZA()()),2&e&&(o.xp6(5),o.hij("Hello ",i.data.name||"User",","),o.xp6(4),o.Oqu(i.data.email),o.xp6(12),o.Q6J("mat-dialog-close",!0))},dependencies:[TM,AM,MM,kM,ua],encapsulation:2}),n})(),VH=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ay),o.Y36(OD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:14,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close","","routerLink",""]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Verification Email sent"),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"p"),o._uU(4," We have sent an verificaion email on your registered email."),o._UZ(5,"br"),o.TgZ(6,"strong"),o._uU(7,"Please click on verificaion link to verify and Login again."),o.qZA(),o._UZ(8,"br")(9,"br"),o._uU(10," Note: You will not able to use system untill you verify your email. "),o.qZA()(),o.TgZ(11,"mat-dialog-actions",2)(12,"button",3),o._uU(13,"Close"),o.qZA()())},dependencies:[mo,TM,AM,MM,kM,ua],encapsulation:2}),n})(),BH=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ay),o.Y36(OD))},n.\u0275cmp=o.Xpm({type:n,selectors:[["dialog-content-example-dialog"]],decls:10,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close","","routerLink","/login"]],template:function(e,i){1&e&&(o.TgZ(0,"h2",0),o._uU(1,"Access Denied by Admin."),o.qZA(),o.TgZ(2,"mat-dialog-content",1)(3,"p"),o._uU(4," You have no access fot this tool."),o._UZ(5,"br"),o._uU(6," Please contact to Admin. "),o.qZA()(),o.TgZ(7,"mat-dialog-actions",2)(8,"button",3),o._uU(9,"Close"),o.qZA()())},dependencies:[mo,TM,AM,MM,kM,ua],encapsulation:2}),n})();var At=B(5813);function OM(){return(0,wn.e)((n,t)=>{let e,i=!1;n.subscribe((0,jn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}var Ct,Cr=B(2011),PM=(B(5881),B(3942)),UH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pd={},NM=NM||{},Qt=UH||self;function PD(){}function ND(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Sb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var FM="closure_uid_"+(1e9*Math.random()>>>0),jH=0;function $H(n,t,e){return n.call.apply(n.bind,arguments)}function zH(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ys(n,t,e){return(ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$H:zH).apply(null,arguments)}function FD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Zr(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Cf(){this.s=this.s,this.o=this.o}Cf.prototype.s=!1,Cf.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function HH(n){Object.prototype.hasOwnProperty.call(n,FM)&&n[FM]||(n[FM]=++jH)}(this)},Cf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const J4=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function LM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function eN(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(ND(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function vs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}vs.prototype.h=function(){this.defaultPrevented=!0};var WH=function(){if(!Qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Qt.addEventListener("test",PD,t),Qt.removeEventListener("test",PD,t)}catch{}return n}();function LD(n){return/^[\s\xa0]*$/.test(n)}var tN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function VM(n,t){return n<t?-1:n>t?1:0}function VD(){var n=Qt.navigator;return n&&(n=n.userAgent)?n:""}function du(n){return-1!=VD().indexOf(n)}function BM(n){return BM[" "](n),n}BM[" "]=PD;var BD,n,qH=du("Opera"),My=du("Trident")||du("MSIE"),nN=du("Edge"),UM=nN||My,iN=du("Gecko")&&!(-1!=VD().toLowerCase().indexOf("webkit")&&!du("Edge"))&&!(du("Trident")||du("MSIE"))&&!du("Edge"),YH=-1!=VD().toLowerCase().indexOf("webkit")&&!du("Edge");function rN(){var n=Qt.document;return n?n.documentMode:void 0}e:{var HM="",jM=(n=VD(),iN?/rv:([^\);]+)(\)|;)/.exec(n):nN?/Edge\/([\d\.]+)/.exec(n):My?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):YH?/WebKit\/(\S+)/.exec(n):qH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(jM&&(HM=jM?jM[1]:""),My){var $M=rN();if(null!=$M&&$M>parseFloat(HM)){BD=String($M);break e}}BD=HM}var KH={};var XH=Qt.document&&My&&(rN()||parseInt(BD,10))||void 0;function Tb(n,t){if(vs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(iN){e:{try{BM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JH[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tb.X.h.call(this)}}Zr(Tb,vs);var JH={2:"touch",3:"pen",4:"mouse"};Tb.prototype.h=function(){Tb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ab="closure_listenable_"+(1e6*Math.random()|0),ej=0;function tj(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++ej,this.ba=this.ea=!1}function UD(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function GM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function oN(n){const t={};for(const e in n)t[e]=n[e];return t}const aN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lN(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<aN.length;s++)e=aN[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function HD(n){this.src=n,this.g={},this.h=0}function WM(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=J4(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(UD(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function ZM(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}HD.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=ZM(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new tj(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var qM="closure_lm_"+(1e6*Math.random()|0),YM={};function cN(n,t,e,i,r){if(i&&i.once)return dN(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)cN(n,t[s],e,i,r);return null}return e=JM(e),n&&n[Ab]?n.N(t,e,Sb(i)?!!i.capture:!!i,r):uN(n,t,e,!1,i,r)}function uN(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Sb(r)?!!r.capture:!!r,d=QM(n);if(d||(n[qM]=d=new HD(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function nj(){const t=ij;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)WH||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(fN(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function dN(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)dN(n,t[s],e,i,r);return null}return e=JM(e),n&&n[Ab]?n.O(t,e,Sb(i)?!!i.capture:!!i,r):uN(n,t,e,!0,i,r)}function hN(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)hN(n,t[s],e,i,r);else i=Sb(i)?!!i.capture:!!i,e=JM(e),n&&n[Ab]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=ZM(s=n.g[t],e,i,r))&&(UD(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=QM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=ZM(t,e,i,r)),(e=-1<n?t[n]:null)&&KM(e))}function KM(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Ab])WM(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(fN(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=QM(t))?(WM(e,n),0==e.h&&(e.src=null,t[qM]=null)):UD(n)}}}function fN(n){return n in YM?YM[n]:YM[n]="on"+n}function ij(n,t){if(n.ba)n=!0;else{t=new Tb(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&KM(n),n=e.call(i,t)}return n}function QM(n){return(n=n[qM])instanceof HD?n:null}var XM="__closure_events_fn_"+(1e9*Math.random()>>>0);function JM(n){return"function"==typeof n?n:(n[XM]||(n[XM]=function(t){return n.handleEvent(t)}),n[XM])}function Pr(){Cf.call(this),this.i=new HD(this),this.P=this,this.I=null}function qr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new vs(t,n);else if(t instanceof vs)t.target=t.target||n;else{var r=t;lN(t=new vs(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=jD(c,i,!0,t)&&r}if(r=jD(c=t.g=n,i,!0,t)&&r,r=jD(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=jD(c=t.g=e[s],i,!1,t)&&r}function jD(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ba&&c.capture==e){var d=c.listener,p=c.ha||c.src;c.ea&&WM(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Zr(Pr,Cf),Pr.prototype[Ab]=!0,Pr.prototype.removeEventListener=function(n,t,e,i){hN(this,n,t,e,i)},Pr.prototype.M=function(){if(Pr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)UD(e[i]);delete n.g[t],n.h--}}this.I=null},Pr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Pr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var ek=Qt.JSON.stringify;function rj(){var n=gN;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var tk,pN=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new oj,n=>n.reset());class oj{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function aj(n){Qt.setTimeout(()=>{throw n},0)}function mN(n,t){tk||function lj(){var n=Qt.Promise.resolve(void 0);tk=function(){n.then(cj)}}(),nk||(tk(),nk=!0),gN.add(n,t)}var nk=!1,gN=new class sj{constructor(){this.h=this.g=null}add(t,e){const i=pN.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function cj(){for(var n;n=rj();){try{n.h.call(n.g)}catch(e){aj(e)}var t=pN;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}nk=!1}function $D(n,t){Pr.call(this),this.h=n||1,this.g=t||Qt,this.j=ys(this.lb,this),this.l=Date.now()}function ik(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function rk(n,t,e){if("function"==typeof n)e&&(n=ys(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ys(n.handleEvent,n)}return 2147483647<Number(t)?-1:Qt.setTimeout(n,t||0)}function _N(n){n.g=rk(()=>{n.g=null,n.i&&(n.i=!1,_N(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Zr($D,Pr),(Ct=$D.prototype).ca=!1,Ct.R=null,Ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qr(this,"tick"),this.ca&&(ik(this),this.start()))}},Ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){$D.X.M.call(this),ik(this),delete this.g};class uj extends Cf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_N(this)}M(){super.M(),this.g&&(Qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mb(n){Cf.call(this),this.h=n,this.g={}}Zr(Mb,Cf);var yN=[];function vN(n,t,e,i){Array.isArray(e)||(e&&(yN[0]=e.toString()),e=yN);for(var r=0;r<e.length;r++){var s=cN(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function bN(n){GM(n.g,function(t,e){this.g.hasOwnProperty(e)&&KM(t)},n),n.g={}}function zD(){this.g=!0}function ky(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function pj(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return ek(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Mb.prototype.M=function(){Mb.X.M.call(this),bN(this)},Mb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zD.prototype.Aa=function(){this.g=!1},zD.prototype.info=function(){};var Nm={},xN=null;function GD(){return xN=xN||new Pr}function CN(n){vs.call(this,Nm.Pa,n)}function kb(n){const t=GD();qr(t,new CN(t))}function wN(n,t){vs.call(this,Nm.STAT_EVENT,n),this.stat=t}function Hs(n){const t=GD();qr(t,new wN(t,n))}function EN(n,t){vs.call(this,Nm.Qa,n),this.size=t}function Rb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Qt.setTimeout(function(){n()},t)}Nm.Pa="serverreachability",Zr(CN,vs),Nm.STAT_EVENT="statevent",Zr(wN,vs),Nm.Qa="timingevent",Zr(EN,vs);var WD={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},DN={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sk(){}function SN(){}sk.prototype.h=null;var lk,Ob={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ok(){vs.call(this,"d")}function ak(){vs.call(this,"c")}function ZD(){}function Pb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Mb(this),this.O=mj,this.T=new $D(n=UM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new TN}function TN(){this.i=null,this.g="",this.h=!1}Zr(ok,vs),Zr(ak,vs),Zr(ZD,sk),ZD.prototype.g=function(){return new XMLHttpRequest},ZD.prototype.i=function(){return{}},lk=new ZD;var mj=45e3,ck={},qD={};function uk(n,t,e){n.K=1,n.v=XD(Nd(t)),n.s=e,n.P=!0,AN(n,null)}function AN(n,t){n.F=Date.now(),Nb(n),n.A=Nd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),BN(e.i,"t",i),n.C=0,e=n.l.H,n.h=new TN,n.g=cF(n.l,e?t:null,!n.s),0<n.N&&(n.L=new uj(ys(n.La,n,n.g),n.N)),vN(n.S,n.g,"readystatechange",n.ib),t=n.H?oN(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),kb(),function dj(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var E=b.split("_");c=2<=E.length&&"type"==E[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function MN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function kN(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=gj(n,e),r==qD){4==t&&(n.o=4,Hs(14),i=!1),ky(n.j,n.m,null,"[Incomplete Response]");break}if(r==ck){n.o=4,Hs(15),ky(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ky(n.j,n.m,r,null),dk(n,r)}MN(n)&&r!=qD&&r!=ck&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Hs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),vk(t),t.K=!0,Hs(11))):(ky(n.j,n.m,e,"[Invalid Chunked Response]"),Fm(n),Fb(n))}function gj(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?qD:(e=Number(t.substring(e,i)),isNaN(e)?ck:(i+=1)+e>t.length?qD:(t=t.substr(i,e),n.C=i+e,t))}function Nb(n){n.V=Date.now()+n.O,RN(n,n.O)}function RN(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rb(ys(n.gb,n),t)}function YD(n){n.B&&(Qt.clearTimeout(n.B),n.B=null)}function Fb(n){0==n.l.G||n.I||sF(n.l,n)}function Fm(n){YD(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,ik(n.T),bN(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function dk(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||hk(e.h,n)))if(!n.J&&hk(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;rI(e),nI(e)}yk(e),Hs(18)}}else e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=Rb(ys(e.cb,e),6e3));if(1>=jN(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else Vm(e,11)}else if((n.J||e.g==n)&&rI(e),!LD(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.T=_[0],_=_[1],2==e.G)if("c"==_[0]){e.I=_[1],e.ka=_[2];const b=_[3];null!=b&&(e.ma=b,e.j.info("VER="+e.ma));const E=_[4];null!=E&&(e.Ca=E,e.j.info("SVER="+e.Ca));const A=_[5];null!=A&&"number"==typeof A&&0<A&&(e.J=i=1.5*A,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const F=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var s=i.h;s.g||-1==F.indexOf("spdy")&&-1==F.indexOf("quic")&&-1==F.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fk(s,s.h),s.h=null))}if(i.D){const q=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;q&&(i.za=q,Ti(i.F,i.D,q))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=lF(i,i.H?i.ka:null,i.V),c.J){$N(i.h,c);var d=c,p=i.J;p&&d.setTimeout(p),d.B&&(YD(d),Nb(d)),i.g=c}else iF(i);0<e.i.length&&iI(e)}else"stop"!=_[0]&&"close"!=_[0]||Vm(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Vm(e,7):_k(e):"noop"!=_[0]&&e.l&&e.l.wa(_),e.A=0)}kb()}catch{}}function ON(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(ND(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function yj(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(ND(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function _j(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(ND(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(Ct=Pb.prototype).setTimeout=function(n){this.O=n},Ct.ib=function(n){n=n.target;const t=this.L;t&&3==Fd(n)?t.l():this.La(n)},Ct.La=function(n){try{if(n==this.g)e:{const b=Fd(this.g);var t=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||UM||this.g&&(this.h.h||this.g.fa()||QN(this.g)))){this.I||4!=b||7==t||kb(),YD(this);var e=this.g.aa();this.Y=e;t:if(MN(this)){var i=QN(this.g);n="";var r=i.length,s=4==Fd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fm(this),Fb(this);var c="";break t}this.h.i=new Qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function hj(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,b,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!LD(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,Hs(12),Fm(this),Fb(this);break e}ky(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dk(this,e)}this.P?(kN(this,b,c),UM&&this.i&&3==b&&(vN(this.S,this.T,"tick",this.hb),this.T.start())):(ky(this.j,this.m,c,null),dk(this,c)),4==b&&Fm(this),this.i&&!this.I&&(4==b?sF(this.l,this):(this.i=!1,Nb(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Hs(12)):(this.o=0,Hs(13)),Fm(this),Fb(this)}}}catch{}},Ct.hb=function(){if(this.g){var n=Fd(this.g),t=this.g.fa();this.C<t.length&&(YD(this),kN(this,n,t),this.i&&4!=n&&Nb(this))}},Ct.cancel=function(){this.I=!0,Fm(this)},Ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function fj(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(kb(),Hs(17)),Fm(this),this.o=2,Fb(this)):RN(this,this.V-n)};var PN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lm(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Lm){this.h=void 0!==t?t:n.h,KD(this,n.j),this.s=n.s,this.g=n.g,QD(this,n.m),this.l=n.l,t=n.i;var e=new Bb;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),NN(this,e),this.o=n.o}else n&&(e=String(n).match(PN))?(this.h=!!t,KD(this,e[1]||"",!0),this.s=Lb(e[2]||""),this.g=Lb(e[3]||"",!0),QD(this,e[4]),this.l=Lb(e[5]||"",!0),NN(this,e[6]||"",!0),this.o=Lb(e[7]||"")):(this.h=!!t,this.i=new Bb(null,this.h))}function Nd(n){return new Lm(n)}function KD(n,t,e){n.j=e?Lb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function QD(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function NN(n,t,e){t instanceof Bb?(n.i=t,function Dj(n,t){t&&!n.j&&(wf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(LN(this,i),BN(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Vb(t,wj)),n.i=new Bb(t,n.h))}function Ti(n,t,e){n.i.set(t,e)}function XD(n){return Ti(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,bj),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Lm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Vb(t,FN,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Vb(t,FN,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Vb(e,"/"==e.charAt(0)?Cj:xj,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Vb(e,Ej)),n.join("")};var FN=/[#\/\?@]/g,xj=/[#\?:]/g,Cj=/[#\?]/g,wj=/[#\?@]/g,Ej=/#/g;function Bb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function wf(n){n.g||(n.g=new Map,n.h=0,n.i&&function vj(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function LN(n,t){wf(n),t=Ry(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function VN(n,t){return wf(n),t=Ry(n,t),n.g.has(t)}function BN(n,t,e){LN(n,t),0<e.length&&(n.i=null,n.g.set(Ry(n,t),LM(e)),n.h+=e.length)}function Ry(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function UN(n){this.l=n||Sj,n=Qt.PerformanceNavigationTiming?0<(n=Qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Qt.g&&Qt.g.Ga&&Qt.g.Ga()&&Qt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ct=Bb.prototype).add=function(n,t){wf(this),this.i=null,n=Ry(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Ct.forEach=function(n,t){wf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Ct.oa=function(){wf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},Ct.W=function(n){wf(this);let t=[];if("string"==typeof n)VN(this,n)&&(t=t.concat(this.g.get(Ry(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Ct.set=function(n,t){return wf(this),this.i=null,VN(this,n=Ry(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Ct.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var Sj=10;function HN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function jN(n){return n.h?1:n.g?n.g.size:0}function hk(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function fk(n,t){n.g?n.g.add(t):n.h=t}function $N(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function zN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return LM(n.i)}function pk(){}function Tj(){this.g=new pk}function Aj(n,t,e){const i=e||"";try{ON(n,function(r,s){let c=r;Sb(r)&&(c=ek(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function JD(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ub(n){this.l=n.ac||null,this.j=n.jb||!1}function eI(n,t){Pr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=mk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}UN.prototype.cancel=function(){if(this.i=zN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},pk.prototype.stringify=function(n){return Qt.JSON.stringify(n,void 0)},pk.prototype.parse=function(n){return Qt.JSON.parse(n,void 0)},Zr(Ub,sk),Ub.prototype.g=function(){return new eI(this.l,this.j)},Ub.prototype.i=function(n){return function(){return n}}({}),Zr(eI,Pr);var mk=0;function GN(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Hb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jb(n)}function jb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ct=eI.prototype).open=function(n,t){if(this.readyState!=mk)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,jb(this)},Ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Qt).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hb(this)),this.readyState=mk},Ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jb(this)),this.g&&(this.readyState=3,jb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GN(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Hb(this):jb(this),3==this.readyState&&GN(this)}},Ct.Va=function(n){this.g&&(this.response=this.responseText=n,Hb(this))},Ct.Ua=function(n){this.g&&(this.response=n,Hb(this))},Ct.ga=function(){this.g&&Hb(this)},Ct.setRequestHeader=function(n,t){this.v.append(n,t)},Ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(eI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kj=Qt.JSON.parse;function Zi(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WN,this.K=this.L=!1}Zr(Zi,Pr);var WN="",Rj=/^https?$/i,Oj=["POST","PUT"];function ZN(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,qN(n),tI(n)}function qN(n){n.D||(n.D=!0,qr(n,"complete"),qr(n,"error"))}function YN(n){if(n.h&&typeof NM<"u"&&(!n.C[1]||4!=Fd(n)||2!=n.aa()))if(n.v&&4==Fd(n))rk(n.Ha,0,n);else if(qr(n,"readystatechange"),4==Fd(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(PN)[1]||null;if(!r&&Qt.self&&Qt.self.location){var s=Qt.self.location.protocol;r=s.substr(0,s.length-1)}i=!Rj.test(r?r.toLowerCase():"")}e=i}if(e)qr(n,"complete"),qr(n,"success");else{n.m=6;try{var c=2<Fd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",qN(n)}}finally{tI(n)}}}function tI(n,t){if(n.g){KN(n);const e=n.g,i=n.C[0]?PD:null;n.g=null,n.C=null,t||qr(n,"ready");try{e.onreadystatechange=i}catch{}}}function KN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Qt.clearTimeout(n.A),n.A=null)}function Fd(n){return n.g?n.g.readyState:0}function QN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case WN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function XN(n){let t="";return GM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function gk(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=XN(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ti(n,t,e))}function $b(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function JN(n){this.Ca=0,this.i=[],this.j=new zD,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$b("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$b("baseRetryDelayMs",5e3,n),this.bb=$b("retryDelaySeedMs",1e4,n),this.$a=$b("forwardChannelMaxRetries",2,n),this.ta=$b("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new UN(n&&n.concurrentRequestLimit),this.Fa=new Tj,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function _k(n){if(eF(n),3==n.G){var t=n.U++,e=Nd(n.F);Ti(e,"SID",n.I),Ti(e,"RID",t),Ti(e,"TYPE","terminate"),zb(n,e),(t=new Pb(n,n.j,t,void 0)).K=2,t.v=XD(Nd(e)),e=!1,Qt.navigator&&Qt.navigator.sendBeacon&&(e=Qt.navigator.sendBeacon(t.v.toString(),"")),!e&&Qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=cF(t.l,null),t.g.da(t.v)),t.F=Date.now(),Nb(t)}aF(n)}function nI(n){n.g&&(vk(n),n.g.cancel(),n.g=null)}function eF(n){nI(n),n.u&&(Qt.clearTimeout(n.u),n.u=null),rI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Qt.clearTimeout(n.m),n.m=null)}function iI(n){HN(n.h)||n.m||(n.m=!0,mN(n.Ja,n),n.C=0)}function tF(n,t){var e;e=t?t.m:n.U++;const i=Nd(n.F);Ti(i,"SID",n.I),Ti(i,"RID",e),Ti(i,"AID",n.T),zb(n,i),n.o&&n.s&&gk(i,n.o,n.s),e=new Pb(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=nF(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),fk(n.h,e),uk(e,i,t)}function zb(n,t){n.ia&&GM(n.ia,function(e,i){Ti(t,i,e)}),n.l&&ON({},function(e,i){Ti(t,i,e)})}function nF(n,t,e){e=Math.min(n.i.length,e);var i=n.l?ys(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{Aj(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function iF(n){n.g||n.u||(n.Z=1,mN(n.Ia,n),n.A=0)}function yk(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Rb(ys(n.Ia,n),oF(n,n.A)),n.A++,0))}function vk(n){null!=n.B&&(Qt.clearTimeout(n.B),n.B=null)}function rF(n){n.g=new Pb(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=Nd(n.sa);Ti(t,"RID","rpc"),Ti(t,"SID",n.I),Ti(t,"CI",n.L?"0":"1"),Ti(t,"AID",n.T),Ti(t,"TYPE","xmlhttp"),zb(n,t),n.o&&n.s&&gk(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=XD(Nd(t)),e.s=null,e.P=!0,AN(e,n)}function rI(n){null!=n.v&&(Qt.clearTimeout(n.v),n.v=null)}function sF(n,t){var e=null;if(n.g==t){rI(n),vk(n),n.g=null;var i=2}else{if(!hk(n.h,t))return;e=t.D,$N(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;qr(i=GD(),new EN(i,e)),iI(n)}else iF(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function Nj(n,t){return!(jN(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Rb(ys(n.Ja,n,t),oF(n,n.C)),n.C++,0)))}(n,t)||2==i&&yk(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:Vm(n,5);break;case 4:Vm(n,10);break;case 3:Vm(n,6);break;default:Vm(n,2)}}function oF(n,t){let e=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(e*=2),e*t}function Vm(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=ys(n.kb,n);e||(e=new Lm("//www.google.com/images/cleardot.gif"),Qt.location&&"http"==Qt.location.protocol||KD(e,"https"),XD(e)),function Mj(n,t){const e=new zD;if(Qt.Image){const i=new Image;i.onload=FD(JD,e,i,"TestLoadImage: loaded",!0,t),i.onerror=FD(JD,e,i,"TestLoadImage: error",!1,t),i.onabort=FD(JD,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=FD(JD,e,i,"TestLoadImage: timeout",!1,t),Qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Hs(2);n.G=0,n.l&&n.l.va(t),aF(n),eF(n)}function aF(n){if(n.G=0,n.la=[],n.l){const t=zN(n.h);(0!=t.length||0!=n.i.length)&&(eN(n.la,t),eN(n.la,n.i),n.h.i.length=0,LM(n.i),n.i.length=0),n.l.ua()}}function lF(n,t,e){var i=e instanceof Lm?Nd(e):new Lm(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),QD(i,i.m);else{var r=Qt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Lm(null,void 0);i&&KD(s,i),t&&(s.g=t),r&&QD(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&Ti(i,e,t),Ti(i,"VER",n.ma),zb(n,i),i}function cF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Zi(e&&n.Da&&!n.ra?new Ub({jb:!0}):n.ra)).Ka(n.H),t}function uF(){}function sI(){if(My&&!(10<=Number(XH)))throw Error("Environmental error: no available transport.")}function da(n,t){Pr.call(this),this.g=new JN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Yb)&&!LD(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!LD(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Oy(this)}function dF(n){ok.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function hF(){ak.call(this),this.status=1}function Oy(n){this.g=n}(Ct=Zi.prototype).Ka=function(n){this.L=n},Ct.da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lk.g(),this.C=function IN(n){return n.h||(n.h=n.i())}(this.u?this.u:lk),this.g.onreadystatechange=ys(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void ZN(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Qt.FormData&&n instanceof Qt.FormData,!(0<=J4(Oj,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{KN(this),0<this.B&&((this.K=function Pj(n){return My&&function QH(){return function ZH(n){var t=KH;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=tN(String(BD)).split("."),e=tN("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=VM(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||VM(0==r[2].length,0==s[2].length)||VM(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ys(this.qa,this)):this.A=rk(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){ZN(this,s)}},Ct.qa=function(){typeof NM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},Ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qr(this,"complete"),qr(this,"abort"),tI(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tI(this,!0)),Zi.X.M.call(this)},Ct.Ha=function(){this.s||(this.F||this.v||this.l?YN(this):this.fb())},Ct.fb=function(){YN(this)},Ct.aa=function(){try{return 2<Fd(this)?this.g.status:-1}catch{return-1}},Ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Sa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),kj(t)}},Ct.Ea=function(){return this.m},Ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=JN.prototype).ma=8,Ct.G=1,Ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Pb(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=oN(s),lN(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=nF(this,r,t),Ti(e=Nd(this.F),"RID",n),Ti(e,"CVER",22),this.D&&Ti(e,"X-HTTP-Session-Id",this.D),zb(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(XN(s)))+"&"+t:this.o&&gk(e,this.o,s)),fk(this.h,r),this.Ya&&Ti(e,"TYPE","init"),this.O?(Ti(e,"$req",t),Ti(e,"SID","null"),r.Z=!0,uk(r,e,null)):uk(r,e,t),this.G=2}}else 3==this.G&&(n?tF(this,n):0==this.i.length||HN(this.h)||tF(this))},Ct.Ia=function(){if(this.u=null,rF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Rb(ys(this.eb,this),n)}},Ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hs(10),nI(this),rF(this))},Ct.cb=function(){null!=this.v&&(this.v=null,nI(this),yk(this),Hs(19))},Ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Hs(2)):(this.j.info("Failed to ping google.com"),Hs(1))},(Ct=uF.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Ra=function(){},sI.prototype.g=function(n,t){return new da(n,t)},Zr(da,Pr),da.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;Hs(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=lF(n,null,n.V),iI(n)},da.prototype.close=function(){_k(this.g)},da.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=ek(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.ab++,n)),3==t.G&&iI(t)},da.prototype.M=function(){this.g.l=null,delete this.j,_k(this.g),delete this.g,da.X.M.call(this)},Zr(dF,ok),Zr(hF,ak),Zr(Oy,uF),Oy.prototype.xa=function(){qr(this.g,"a")},Oy.prototype.wa=function(n){qr(this.g,new dF(n))},Oy.prototype.va=function(n){qr(this.g,new hF)},Oy.prototype.ua=function(){qr(this.g,"b")},sI.prototype.createWebChannel=sI.prototype.g,da.prototype.send=da.prototype.u,da.prototype.open=da.prototype.m,da.prototype.close=da.prototype.close,WD.NO_ERROR=0,WD.TIMEOUT=8,WD.HTTP_ERROR=6,DN.COMPLETE="complete",SN.EventType=Ob,Ob.OPEN="a",Ob.CLOSE="b",Ob.ERROR="c",Ob.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.Oa,Zi.prototype.getLastErrorCode=Zi.prototype.Ea,Zi.prototype.getStatus=Zi.prototype.aa,Zi.prototype.getResponseJson=Zi.prototype.Sa,Zi.prototype.getResponseText=Zi.prototype.fa,Zi.prototype.send=Zi.prototype.da,Zi.prototype.setWithCredentials=Zi.prototype.Ka;var Fj=Pd.createWebChannelTransport=function(){return new sI},Lj=Pd.getStatEventTarget=function(){return GD()},bk=Pd.ErrorCode=WD,Vj=Pd.EventType=DN,Bj=Pd.Event=Nm,fF=Pd.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Uj=Pd.FetchXmlHttpFactory=Ub,oI=Pd.WebChannel=SN,Hj=Pd.XhrIo=Zi;const pF="@firebase/firestore";class Nr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Py="9.13.0";const Ef=new ea.Yd("@firebase/firestore");function xk(){return Ef.logLevel}function $e(n,...t){if(Ef.logLevel<=ea.in.DEBUG){const e=t.map(Ck);Ef.debug(`Firestore (${Py}): ${n}`,...e)}}function ir(n,...t){if(Ef.logLevel<=ea.in.ERROR){const e=t.map(Ck);Ef.error(`Firestore (${Py}): ${n}`,...e)}}function Bm(n,...t){if(Ef.logLevel<=ea.in.WARN){const e=t.map(Ck);Ef.warn(`Firestore (${Py}): ${n}`,...e)}}function Ck(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const t=`FIRESTORE (${Py}) INTERNAL ASSERTION FAILED: `+n;throw ir(t),new Error(t)}function $t(n,t){n||pt()}function rt(n,t){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends V.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class mF{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Nr.UNAUTHENTICATED))}shutdown(){}}class Gj{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Wj{constructor(t){this.t=t,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,we.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t("string"==typeof i.accessToken),new mF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $t(null===t||"string"==typeof t),new Nr(t)}}class Zj{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($t(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class qj{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new Zj(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yj{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?($t("string"==typeof e.token),this.A=e.token,new gF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Kj(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class _F{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Kj(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Xt(n,t){return n<t?-1:n>t?1:0}function Ny(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function yF(n){return n+"\0"}class Ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ai(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Xt(this.nanoseconds,t.nanoseconds):Xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new zt(t)}static min(){return new zt(new Ai(0,0))}static max(){return new zt(new Ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Gb{constructor(t,e,i){void 0===e?e=0:e>t.length&&pt(),void 0===i?i=t.length-e:i>t.length-e&&pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Gb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Sn extends Gb{construct(t,e,i){return new Sn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ve(ye.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Sn(e)}static emptyPath(){return new Sn([])}}const Qj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Gb{construct(t,e,i){return new qi(t,e,i)}static isValidIdentifier(t){return Qj.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ve(ye.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ve(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ve(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Ve(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qi(e)}static emptyPath(){return new qi([])}}class et{constructor(t){this.path=t}static fromPath(t){return new et(Sn.fromString(t))}static fromName(t){return new et(Sn.fromString(t).popFirst(5))}static empty(){return new et(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Sn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Sn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new Sn(t.slice()))}}class aI{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function wk(n){return n.fields.find(t=>2===t.kind)}function Um(n){return n.fields.filter(t=>2!==t.kind)}aI.UNKNOWN_ID=-1;class lI{constructor(t,e){this.fieldPath=t,this.kind=e}}class Wb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Wb(0,ha.min())}}function vF(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=zt.fromTimestamp(1e9===i?new Ai(e+1,0):new Ai(e,i));return new ha(r,et.empty(),t)}function bF(n){return new ha(n.readTime,n.key,-1)}class ha{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ha(zt.min(),et.empty(),-1)}static max(){return new ha(zt.max(),et.empty(),-1)}}function Ek(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=et.comparator(n.documentKey,t.documentKey),0!==e?e:Xt(n.largestBatchId,t.largestBatchId))}const xF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Df(n){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,we.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==xF)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Dk.apply(this,arguments)}class fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new fe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof fe?e:fe.resolve(e)}catch(e){return fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):fe.reject(e)}static resolve(t){return new fe((e,i)=>{e(t)})}static reject(t){return new fe((e,i)=>{i(t)})}static waitFor(t){return new fe((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=fe.resolve(!1);for(const i of t)e=e.next(r=>r?fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new fe((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(t,e){return new fe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class cI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new wr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new Zb(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=Ik(i.target.error);this.P.reject(new Zb(t,r))}}static open(t,e,i,r){try{return new cI(e,t.transaction(r,i))}catch(s){throw new Zb(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new t$(e)}}class pc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===pc.D((0,V.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),Hm(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,V.hl)())return!1;if(pc.N())return!0;const t=(0,V.z$)(),e=pc.D(t),i=0<e&&e<10,r=pc.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,we.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new Zb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ve(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ve(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new Zb(t,d))},s.onupgradeneeded=c=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,we.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=cI.open(s.db,t,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),fe.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class e${constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Hm(this.U.delete())}}class Zb extends Ve{constructor(t,e){super(ye.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function If(n){return"IndexedDbTransactionError"===n.name}class t${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Hm(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),Hm(this.store.add(t))}get(t){return Hm(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),Hm(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),Hm(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new fe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new fe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new fe((i,r)=>{e.onerror=s=>{const c=Ik(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new fe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new e$(d),_=e(d.primaryKey,d.value,p);if(_ instanceof fe){const b=_.catch(E=>(p.done(),fe.reject(E)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Hm(n){return new fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Ik(i.target.error);e(r)}})}let wF=!1;function Ik(n){const t=pc.D((0,V.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return wF||(wF=!0,setTimeout(()=>{throw i},0)),i}}return n}class n${constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,we.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){If(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Df(i)}yield e.nt(6e4)}))}}class i${constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,we.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return fe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return $e("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>($e("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=bF(s);Ek(c,i)>0&&(i=c)}),new ha(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class Do{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function EF(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function jm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function DF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}Do.at=-1;class Yi{constructor(t,e){this.comparator=t,this.root=e||Yr.EMPTY}insert(t,e){return new Yi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(t){return new Yi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uI(this.root,t,this.comparator,!1)}getReverseIterator(){return new uI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uI(this.root,t,this.comparator,!0)}}class uI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Yr.RED,this.left=r??Yr.EMPTY,this.right=s??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Yr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1,Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Yr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(t){this.comparator=t,this.data=new Yi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new IF(this.data.getIterator())}getIteratorFrom(t){return new IF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ti)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ti(this.comparator);return e.data=t,e}}class IF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Fy(n){return n.hasNext()?n.getNext():void 0}class fa{constructor(t){this.fields=t,t.sort(qi.comparator)}static empty(){return new fa([])}unionWith(t){let e=new ti(qi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ny(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Er{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Er(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Er(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const s$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sf(n){if($t(!!n),"string"==typeof n){let t=0;const e=s$.exec(n);if($t(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $m(n){return"string"==typeof n?Er.fromBase64String(n):Er.fromUint8Array(n)}function Sk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function SF(n){const t=n.mapValue.fields.__previous_value__;return Sk(t)?SF(t):t}function qb(n){const t=Sf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class o${constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Tf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tf&&t.projectId===this.projectId&&t.database===this.database}}function Yb(n){return null==n}function Kb(n){return 0===n&&1/n==-1/0}function TF(n){return"number"==typeof n&&Number.isInteger(n)&&!Kb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dI={nullValue:"NULL_VALUE"};function zm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sk(n)?4:RF(n)?9007199254740991:10:pt()}function hu(n,t){if(n===t)return!0;const e=zm(n);if(e!==zm(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qb(n).isEqual(qb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Sf(i.timestampValue),c=Sf(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,$m(n.bytesValue).isEqual($m(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ki(i.geoPointValue.latitude)===Ki(r.geoPointValue.latitude)&&Ki(i.geoPointValue.longitude)===Ki(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ki(i.integerValue)===Ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ki(i.doubleValue),c=Ki(r.doubleValue);return s===c?Kb(s)===Kb(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return Ny(n.arrayValue.values||[],t.arrayValue.values||[],hu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(EF(s)!==EF(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!hu(s[d],c[d])))return!1;return!0}(n,t);default:return pt()}var r}function Qb(n,t){return void 0!==(n.values||[]).find(e=>hu(e,t))}function Mf(n,t){if(n===t)return 0;const e=zm(n),i=zm(t);if(e!==i)return Xt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Ki(r.integerValue||r.doubleValue),d=Ki(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return AF(n.timestampValue,t.timestampValue);case 4:return AF(qb(n),qb(t));case 5:return Xt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=$m(r),d=$m(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Xt(c[p],d[p]);if(0!==_)return _}return Xt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Xt(Ki(r.latitude),Ki(s.latitude));return 0!==c?c:Xt(Ki(r.longitude),Ki(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Mf(c[p],d[p]);if(_)return _}return Xt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Af.mapValue&&s===Af.mapValue)return 0;if(r===Af.mapValue)return 1;if(s===Af.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const E=Xt(d[b],_[b]);if(0!==E)return E;const A=Mf(c[d[b]],p[_[b]]);if(0!==A)return A}return Xt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw pt()}}function AF(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Xt(n,t);const e=Sf(n),i=Sf(t),r=Xt(e.seconds,i.seconds);return 0!==r?r:Xt(e.nanos,i.nanos)}function Ly(n){return Tk(n)}function Tk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Sf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$m(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=Tk(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${Tk(i.fields[d])}`;return s+"}"}(n.mapValue):pt();var t}function Gm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ak(n){return!!n&&"integerValue"in n}function Xb(n){return!!n&&"arrayValue"in n}function MF(n){return!!n&&"nullValue"in n}function kF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hI(n){return!!n&&"mapValue"in n}function Jb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return jm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Jb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Jb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function RF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function a$(n){return"nullValue"in n?dI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gm(Tf.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function l$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gm(Tf.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Af:pt()}function OF(n,t){const e=Mf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function PF(n,t){const e=Mf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Kr{constructor(t){this.value=t}static empty(){return new Kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!hI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jb(e)}setAll(t){let e=qi.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=Jb(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());hI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return hu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];hI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){jm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Kr(Jb(this.value))}}function NF(n){const t=[];return jm(n.fields,(e,i)=>{const r=new qi([e]);if(hI(i)){const s=NF(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new fa(t)}class _i{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new _i(t,0,zt.min(),zt.min(),Kr.empty(),0)}static newFoundDocument(t,e,i){return new _i(t,1,e,zt.min(),i,0)}static newNoDocument(t,e){return new _i(t,2,e,zt.min(),Kr.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,zt.min(),Kr.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class c${constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function FF(n,t=null,e=[],i=[],r=null,s=null,c=null){return new c$(n,t,e,i,r,s,c)}function Wm(n){const t=rt(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Ly(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Yb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ly(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ly(i)).join(",")),t.ht=e}return t.ht}function ex(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!y$(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!hu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!HF(n.startAt,t.startAt)&&HF(n.endAt,t.endAt)}function fI(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pI(n,t){return n.filters.filter(e=>e instanceof Qr&&e.field.isEqual(t))}function LF(n,t,e){let i=dI,r=!0;for(const s of pI(n,t)){let c=dI,d=!0;switch(s.op){case"<":case"<=":c=a$(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=dI}OF({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];OF({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function VF(n,t,e){let i=Af,r=!0;for(const s of pI(n,t)){let c=Af,d=!0;switch(s.op){case">=":case">":c=l$(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Af}PF({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];PF({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class Qr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new d$(t,e,i):"array-contains"===e?new p$(t,i):"in"===e?new m$(t,i):"not-in"===e?new g$(t,i):"array-contains-any"===e?new _$(t,i):new Qr(t,e,i)}static lt(t,e,i){return"in"===e?new h$(t,i):new f$(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Mf(e,this.value)):null!==e&&zm(this.value)===zm(e)&&this.ft(Mf(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class d$ extends Qr{constructor(t,e,i){super(t,e,i),this.key=et.fromName(i.referenceValue)}matches(t){const e=et.comparator(t.key,this.key);return this.ft(e)}}class h$ extends Qr{constructor(t,e){super(t,"in",e),this.keys=BF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class f$ extends Qr{constructor(t,e){super(t,"not-in",e),this.keys=BF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function BF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>et.fromName(i.referenceValue))}class p$ extends Qr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Xb(e)&&Qb(e.arrayValue,this.value)}}class m$ extends Qr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Qb(this.value.arrayValue,e)}}class g$ extends Qr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Qb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Qb(this.value.arrayValue,e)}}class _$ extends Qr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Xb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Qb(this.value.arrayValue,i))}}class kf{constructor(t,e){this.position=t,this.inclusive=e}}class Vy{constructor(t,e="asc"){this.field=t,this.dir=e}}function y$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function UF(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?et.comparator(et.fromName(c.referenceValue),e.key):Mf(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function HF(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!hu(n.position[e],t.position[e]))return!1;return!0}class Ld{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function jF(n,t,e,i,r,s,c,d){return new Ld(n,t,e,i,r,s,c,d)}function By(n){return new Ld(n)}function $F(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Mk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function kk(n){for(const t of n.filters)if(t.dt())return t.field;return null}function Rk(n){return null!==n.collectionGroup}function Uy(n){const t=rt(n);if(null===t._t){t._t=[];const e=kk(t),i=Mk(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new Vy(e)),t._t.push(new Vy(qi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Vy(qi.keyField(),s))}}}return t._t}function js(n){const t=rt(n);if(!t.wt)if("F"===t.limitType)t.wt=FF(t.path,t.collectionGroup,Uy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Uy(t))e.push(new Vy(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kf(t.startAt.position,t.startAt.inclusive):null;t.wt=FF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function mI(n,t,e){return new Ld(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function tx(n,t){return ex(js(n),js(t))&&n.limitType===t.limitType}function zF(n){return`${Wm(js(n))}|lt:${n.limitType}`}function Ok(n){return`Query(target=${function u$(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Ly(i.value)}`;var i}).join(", ")}]`),Yb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Ly(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Ly(e)).join(",")),`Target(${t})`}(js(n))}; limitType=${n.limitType})`}function Pk(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):et.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=UF(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,Uy(e),i)||e.endAt&&!function(r,s,c){const d=UF(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,Uy(e),i)));var e,i}function GF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function WF(n){return(t,e)=>{let i=!1;for(const r of Uy(n)){const s=v$(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function v$(n,t,e){const i=n.field.isKeyField()?et.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Mf(d,p):pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}function ZF(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kb(t)?"-0":t}}function qF(n){return{integerValue:""+n}}function YF(n,t){return TF(t)?qF(t):ZF(n,t)}class gI{constructor(){this._=void 0}}function b$(n,t,e){return n instanceof Hy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Zm?QF(n,t):n instanceof qm?XF(n,t):function(i,r){const s=KF(i,r),c=JF(s)+JF(i.yt);return Ak(s)&&Ak(i.yt)?qF(c):ZF(i.It,c)}(n,t)}function x$(n,t,e){return n instanceof Zm?QF(n,t):n instanceof qm?XF(n,t):e}function KF(n,t){return n instanceof jy?Ak(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Hy extends gI{}class Zm extends gI{constructor(t){super(),this.elements=t}}function QF(n,t){const e=e6(t);for(const i of n.elements)e.some(r=>hu(r,i))||e.push(i);return{arrayValue:{values:e}}}class qm extends gI{constructor(t){super(),this.elements=t}}function XF(n,t){let e=e6(t);for(const i of n.elements)e=e.filter(r=>!hu(r,i));return{arrayValue:{values:e}}}class jy extends gI{constructor(t,e){super(),this.It=t,this.yt=e}}function JF(n){return Ki(n.integerValue||n.doubleValue)}function e6(n){return Xb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nx{constructor(t,e){this.field=t,this.transform=e}}class w${constructor(t,e){this.version=t,this.transformResults=e}}class Mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Mi}static exists(t){return new Mi(void 0,t)}static updateTime(t){return new Mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _I(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class yI{}function t6(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new zy(n.key,Mi.none()):new $y(n.key,n.data,Mi.none());{const e=n.data,i=Kr.empty();let r=new ti(qi.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Vd(n.key,i,new fa(r.toArray()),Mi.none())}}function E$(n,t,e){n instanceof $y?function(i,r,s){const c=i.value.clone(),d=r6(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Vd?function(i,r,s){if(!_I(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=r6(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(i6(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ix(n,t,e,i){return n instanceof $y?function(r,s,c,d){if(!_I(r.precondition,s))return c;const p=r.value.clone(),_=s6(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Vd?function(r,s,c,d){if(!_I(r.precondition,s))return c;const p=s6(r.fieldTransforms,d,s),_=s.data;return _.setAll(i6(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,_I(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function D$(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=KF(i.transform,r||null);null!=s&&(null===e&&(e=Kr.empty()),e.set(i.field,s))}return e||null}function n6(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Ny(e,i,(r,s)=>function C$(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Zm&&i instanceof Zm||e instanceof qm&&i instanceof qm?Ny(e.elements,i.elements,hu):e instanceof jy&&i instanceof jy?hu(e.yt,i.yt):e instanceof Hy&&i instanceof Hy);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class $y extends yI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vd extends yI{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i6(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function r6(n,t,e){const i=new Map;$t(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,x$(c,d,e[r]))}return i}function s6(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,b$(s,c,t))}return i}class zy extends yI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nk extends yI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I${constructor(t){this.count=t}}var fr,Tn;function o6(n){switch(n){default:return pt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function a6(n){if(void 0===n)return ir("GRPC error has no .code"),ye.UNKNOWN;switch(n){case fr.OK:return ye.OK;case fr.CANCELLED:return ye.CANCELLED;case fr.UNKNOWN:return ye.UNKNOWN;case fr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case fr.INTERNAL:return ye.INTERNAL;case fr.UNAVAILABLE:return ye.UNAVAILABLE;case fr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case fr.NOT_FOUND:return ye.NOT_FOUND;case fr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case fr.ABORTED:return ye.ABORTED;case fr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case fr.DATA_LOSS:return ye.DATA_LOSS;default:return pt()}}(Tn=fr||(fr={}))[Tn.OK=0]="OK",Tn[Tn.CANCELLED=1]="CANCELLED",Tn[Tn.UNKNOWN=2]="UNKNOWN",Tn[Tn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tn[Tn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tn[Tn.NOT_FOUND=5]="NOT_FOUND",Tn[Tn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tn[Tn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tn[Tn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tn[Tn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tn[Tn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tn[Tn.ABORTED=10]="ABORTED",Tn[Tn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tn[Tn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tn[Tn.INTERNAL=13]="INTERNAL",Tn[Tn.UNAVAILABLE=14]="UNAVAILABLE",Tn[Tn.DATA_LOSS=15]="DATA_LOSS";class Rf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){jm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return DF(this.inner)}size(){return this.innerSize}}const S$=new Yi(et.comparator);function Io(){return S$}const l6=new Yi(et.comparator);function rx(...n){let t=l6;for(const e of n)t=t.insert(e.key,e);return t}function c6(n){let t=l6;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function fu(){return sx()}function u6(){return sx()}function sx(){return new Rf(n=>n.toString(),(n,t)=>n.isEqual(t))}const T$=new Yi(et.comparator),A$=new ti(et.comparator);function on(...n){let t=A$;for(const e of n)t=t.add(e);return t}const M$=new ti(Xt);function vI(){return M$}class ox{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ax.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new ox(zt.min(),r,vI(),Io(),on())}}class ax{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ax(i,e,on(),on(),on())}}class bI{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class d6{constructor(t,e){this.targetId=t,this.At=e}}class h6{constructor(t,e,i=Er.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class f6{constructor(){this.Rt=0,this.bt=m6(),this.Pt=Er.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=on(),e=on(),i=on();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new ax(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=m6()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class k${constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Io(),this.qt=p6(),this.Kt=new ti(Xt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(fI(s))if(0===i){const c=new et(s.path);this.jt(e,c,_i.newNoDocument(c,zt.min()))}else $t(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&fI(d.target)){const p=new et(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,_i.newNoDocument(p,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=on();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new ox(t,e,this.Kt,this.Ut,i);return this.Ut=Io(),this.qt=p6(),this.Kt=new ti(Xt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new f6,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new ti(Xt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new f6),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function p6(){return new Yi(et.comparator)}function m6(){return new Yi(et.comparator)}const R$={asc:"ASCENDING",desc:"DESCENDING"},O$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class P${constructor(t,e){this.databaseId=t,this.gt=e}}function lx(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function g6(n,t){return n.gt?t.toBase64():t.toUint8Array()}function N$(n,t){return lx(n,t.toTimestamp())}function Fr(n){return $t(!!n),zt.fromTimestamp(function(t){const e=Sf(t);return new Ai(e.seconds,e.nanos)}(n))}function Fk(n,t){return(e=n,new Sn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function _6(n){const t=Sn.fromString(n);return $t(D6(t)),t}function cx(n,t){return Fk(n.databaseId,t.path)}function pu(n,t){const e=_6(t);if(e.get(1)!==n.databaseId.projectId)throw new Ve(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ve(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new et(v6(e))}function Lk(n,t){return Fk(n.databaseId,t)}function y6(n){const t=_6(n);return 4===t.length?Sn.emptyPath():v6(t)}function ux(n){return new Sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v6(n){return $t(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function b6(n,t,e){return{name:cx(n,t),fields:e.value.mapValue.fields}}function x6(n,t,e){const i=pu(n,t.name),r=Fr(t.updateTime),s=new Kr({mapValue:{fields:t.fields}}),c=_i.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function dx(n,t){let e;if(t instanceof $y)e={update:b6(n,t.key,t.value)};else if(t instanceof zy)e={delete:cx(n,t.key)};else if(t instanceof Vd)e={update:b6(n,t.key,t.data),updateMask:z$(t.fieldMask)};else{if(!(t instanceof Nk))return pt();e={verify:cx(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Hy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof qm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof jy)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw pt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:N$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),e;var r}function Vk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Mi.updateTime(Fr(r.updateTime)):void 0!==r.exists?Mi.exists(r.exists):Mi.none():Mi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?($t("REQUEST_TIME"===c.setToServerValue),d=new Hy):"appendMissingElements"in c?d=new Zm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new qm(c.removeAllFromArray.values||[]):"increment"in c?d=new jy(s,c.increment):pt();const p=qi.fromServerFormat(c.fieldPath);return new nx(p,d)}(n,r)):[];var r;if(t.update){const r=pu(n,t.update.name),s=new Kr({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new fa((t.updateMask.fieldPaths||[]).map(_=>qi.fromServerFormat(_)));return new Vd(r,s,c,e,i)}return new $y(r,s,e,i)}if(t.delete){const r=pu(n,t.delete);return new zy(r,e)}if(t.verify){const r=pu(n,t.verify);return new Nk(r,e)}return pt()}function C6(n,t){return{documents:[Lk(n,t.path)]}}function Bk(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Lk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Lk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(E){if("=="===E.op){if(kF(E.value))return{unaryFilter:{field:Gy(E.field),op:"IS_NAN"}};if(MF(E.value))return{unaryFilter:{field:Gy(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(kF(E.value))return{unaryFilter:{field:Gy(E.field),op:"IS_NOT_NAN"}};if(MF(E.value))return{unaryFilter:{field:Gy(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gy(E.field),op:H$(E.op),value:E.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:Gy((b=_).field),direction:U$(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.gt||Yb(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function w6(n){let t=y6(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){$t(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=E6(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new Vy(Wy((E=b).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(b){let E;return E="object"==typeof b?b.value:b,Yb(E)?null:E}(e.limit));let p=null;var b;e.startAt&&(p=new kf((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new kf(b.values||[],!b.before)}(e.endAt)),jF(t,r,c,s,d,"F",p,_)}function E6(n){return n?void 0!==n.unaryFilter?[$$(n)]:void 0!==n.fieldFilter?[j$(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>E6(t)).reduce((t,e)=>t.concat(e)):pt():[]}function U$(n){return R$[n]}function H$(n){return O$[n]}function Gy(n){return{fieldPath:n.canonicalString()}}function Wy(n){return qi.fromServerFormat(n.fieldPath)}function j$(n){return Qr.create(Wy(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function $$(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Wy(n.unaryFilter.field);return Qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Wy(n.unaryFilter.field);return Qr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wy(n.unaryFilter.field);return Qr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wy(n.unaryFilter.field);return Qr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function z$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function D6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function $s(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=I6(t)),t=G$(n.get(e),t);return I6(t)}function G$(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function I6(n){return n+"\x01\x01"}function mu(n){const t=n.length;if($t(t>=2),2===t)return $t("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Sn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&pt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:pt()}s=c+2}return new Sn(i)}const S6=["userId","batchId"];function xI(n,t){return[n,$s(t)]}function T6(n,t,e){return[n,$s(t),e]}const W$={},Z$=["prefixPath","collectionGroup","readTime","documentId"],q$=["prefixPath","collectionGroup","documentId"],Y$=["collectionGroup","readTime","prefixPath","documentId"],K$=["canonicalId","targetId"],Q$=["targetId","path"],X$=["path","targetId"],J$=["collectionId","parent"],ez=["indexId","uid"],tz=["uid","sequenceNumber"],nz=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],iz=["indexId","uid","orderedDocumentKey"],rz=["userId","collectionPath","documentId"],sz=["userId","collectionPath","largestBatchId"],oz=["userId","collectionGroup","largestBatchId"],A6=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],az=[...A6,"documentOverlays"],M6=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],k6=M6,lz=[...k6,"indexConfiguration","indexState","indexEntries"];class Uk extends CF{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Lr(n,t){const e=rt(n);return pc.M(e.ie,t)}class Hk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&E$(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ix(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ix(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=u6();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=t6(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(zt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),on())}isEqual(t){return this.batchId===t.batchId&&Ny(this.mutations,t.mutations,(e,i)=>n6(e,i))&&Ny(this.baseMutations,t.baseMutations,(e,i)=>n6(e,i))}}class jk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){$t(t.mutations.length===i.length);let r=T$;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new jk(t,e,i,r)}}class $k{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Of{constructor(t,e,i,r,s=zt.min(),c=zt.min(),d=Er.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new Of(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Of(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class R6{constructor(t){this.re=t}}function O6(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:CI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:cx(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:lx(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ym(t.version)};else{if(!t.isUnknownDocument())return pt();i.unknownDocument={path:e.path.toArray(),version:Ym(t.version)}}var r,s;return i}function CI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ym(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Km(n){const t=new Ai(n.seconds,n.nanoseconds);return zt.fromTimestamp(t)}function Qm(n,t){const e=(t.baseMutations||[]).map(s=>Vk(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>Vk(n.re,s)),r=Ai.fromMillis(t.localWriteTimeMs);return new Hk(t.batchId,r,e,i)}function hx(n){const t=Km(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Km(n.lastLimboFreeSnapshotVersion):zt.min();let i;var r;return void 0!==n.query.documents?($t(1===(r=n.query).documents.length),i=js(By(y6(r.documents[0])))):i=js(w6(n.query)),new Of(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Er.fromBase64String(n.resumeToken))}function P6(n,t){const e=Ym(t.snapshotVersion),i=Ym(t.lastLimboFreeSnapshotVersion);let r;r=fI(t.target)?C6(n.re,t.target):Bk(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Wm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function zk(n){const t=w6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mI(t,t.limit,"L"):t}function Gk(n,t){return new $k(t.largestBatchId,Vk(n.re,t.overlayMutation))}function N6(n,t){const e=t.path.lastSegment();return[n,$s(t.path.popLast()),e]}function F6(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Ym(i.readTime),documentKey:$s(i.documentKey.path),largestBatchId:i.largestBatchId}}class uz{getBundleMetadata(t,e){return L6(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Km(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return L6(t).put({bundleId:(i=e).id,createTime:Ym(Fr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return V6(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:zk(r.bundledQuery),readTime:Km(r.readTime)};var r})}saveNamedQuery(t,e){return V6(t).put({name:(i=e).name,readTime:Ym(Fr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function L6(n){return Lr(n,"bundles")}function V6(n){return Lr(n,"namedQueries")}class wI{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new wI(t,e.uid||"")}getOverlay(t,e){return fx(t).get(N6(this.userId,e)).next(i=>i?Gk(this.It,i):null)}getOverlays(t,e){const i=fu();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new $k(e,c);r.push(this.ue(t,d))}),fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add($s(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(fx(t).Y("collectionPathOverlayIndex",d))}),fe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=fu(),s=$s(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return fx(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=Gk(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=fu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return fx(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const E=Gk(this.It,_);s.size()<r||E.largestBatchId===c?(s.set(E.getKey(),E),c=E.largestBatchId):b.done()}).next(()=>s)}ue(t,e){return fx(t).put(function(i,r,s){const[c,d,p]=N6(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:dx(i.re,s.mutation)}}(this.It,this.userId,e))}}function fx(n){return Lr(n,"documentOverlays")}class Xm{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Ki(t.integerValue));else if("doubleValue"in t){const i=Ki(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Kb(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me($m(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?RF(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):pt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),et.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function dz(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function B6(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=dz(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Xm.Te=new Xm;class hz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=B6(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=B6(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Oe(0),this.Oe(255)):255===e?(this.Oe(255),this.Oe(0)):this.Oe(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fz{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class pz{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Me()}}class px{constructor(){this.Be=new hz,this.Le=new fz(this.Be),this.Ue=new pz(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Jm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Jm(this.indexId,this.documentKey,this.arrayValue,i)}}function eg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=U6(n.arrayValue,t.arrayValue),0!==e?e:(e=U6(n.directionalValue,t.directionalValue),0!==e?e:et.comparator(n.documentKey,t.documentKey)))}function U6(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class mz{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=wk(t);if(void 0!==e&&!this.ze(e))return!1;const i=Um(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class gz{constructor(){this.Ye=new Wk}addToCollectionParentIndex(t,e){return this.Ye.add(e),fe.resolve()}getCollectionParents(t,e){return fe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return fe.resolve()}deleteFieldIndex(t,e){return fe.resolve()}getDocumentsMatchingTarget(t,e){return fe.resolve(null)}getIndexType(t,e){return fe.resolve(0)}getFieldIndexes(t,e){return fe.resolve([])}getNextCollectionGroupToUpdate(t){return fe.resolve(null)}getMinOffset(t,e){return fe.resolve(ha.min())}getMinOffsetFromCollectionGroup(t,e){return fe.resolve(ha.min())}updateCollectionGroup(t,e,i){return fe.resolve()}updateIndexEntries(t,e){return fe.resolve()}}class Wk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ti(Sn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ti(Sn.comparator)).toArray()}}const EI=new Uint8Array(0);class _z{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new Wk,this.Ze=new Rf(i=>Wm(i),(i,r)=>ex(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:$s(r)};return H6(t).put(s)}return fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[yF(e),""],!1,!0);return H6(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(mu(c.parent))}return i})}addFieldIndex(t,e){const i=DI(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=gx(t);return s.next(d=>{c.put(F6(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=DI(t),r=gx(t),s=mx(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=mx(t);let r=!0;const s=new Map;return fe.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=on();const d=[];return fe.forEach(s,(p,_)=>{var b;$e("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Ze=>`${Ze.fieldPath}:${Ze.kind}`).join(",")}`} to execute ${Wm(e)}`);const E=function(Ze,Ke){const wt=wk(Ke);if(void 0===wt)return null;for(const St of pI(Ze,wt.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(_,p),A=function(Ze,Ke){const wt=new Map;for(const St of Um(Ke))for(const hn of pI(Ze,St.fieldPath))switch(hn.op){case"==":case"in":wt.set(St.fieldPath.canonicalString(),hn.value);break;case"not-in":case"!=":return wt.set(St.fieldPath.canonicalString(),hn.value),Array.from(wt.values())}return null}(_,p),R=function(Ze,Ke){const wt=[];let St=!0;for(const hn of Um(Ke)){const sr=0===hn.kind?LF(Ze,hn.fieldPath,Ze.startAt):VF(Ze,hn.fieldPath,Ze.startAt);wt.push(sr.value),St&&(St=sr.inclusive)}return new kf(wt,St)}(_,p),F=function(Ze,Ke){const wt=[];let St=!0;for(const hn of Um(Ke)){const sr=0===hn.kind?VF(Ze,hn.fieldPath,Ze.endAt):LF(Ze,hn.fieldPath,Ze.endAt);wt.push(sr.value),St&&(St=sr.inclusive)}return new kf(wt,St)}(_,p),q=this.nn(p,_,R),ne=this.nn(p,_,F),ke=this.sn(p,_,A),Ge=this.rn(p.indexId,E,q,R.inclusive,ne,F.inclusive,ke);return fe.forEach(Ge,Ze=>i.J(Ze,e.limit).next(Ke=>{Ke.forEach(wt=>{const St=et.fromSegments(wt.documentKey);c.has(St)||(c=c.add(St),d.push(St))})}))}).next(()=>d)}return fe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let E=0;E<p;++E){const A=e?this.on(e[E/_]):EI,R=this.un(t,A,i[E%_],r),F=this.cn(t,A,s[E%_],c),q=d.map(ne=>this.un(t,A,ne,!0));b.push(...this.createRange(R,F,q))}return b}un(t,e,i,r){const s=new Jm(t,et.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Jm(t,et.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new mz(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return fe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new ti(qi.comparator),p=!1;for(const _ of c.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:d=d.add(b.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new px;for(const r of Um(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);Xm.Te.ce(s,c)}return i.$e()}on(t){const e=new px;return Xm.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new px;return Xm.Te.ce(Gm(this.databaseId,e),i.qe(function(r){const s=Um(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new px);let s=0;for(const c of Um(t)){const d=i[s++];for(const p of r)if(this.ln(e,c.fieldPath)&&Xb(d))r=this.fn(r,c,d);else{const _=p.qe(c.kind);Xm.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new px;p.seed(d.$e()),Xm.Te.ce(c,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof Qr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=DI(t),r=gx(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return fe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const E=b?new Wb(b.sequenceNumber,new ha(Km(b.readTime),new et(mu(b.documentKey)),b.largestBatchId)):Wb.empty(),A=_.fields.map(([R,F])=>new lI(qi.fromServerFormat(R),F));return new aI(_.indexId,_.collectionGroup,A,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Xt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=DI(t),s=gx(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>fe.forEach(d,p=>s.put(F6(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return fe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?fe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),fe.forEach(d,p=>this.wn(t,r,p).next(_=>{const b=this.mn(s,p);return _.isEqual(b)?fe.resolve():this.gn(t,s,p,_,b)}))))})}yn(t,e,i,r){return mx(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return mx(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=mx(t);let s=new ti(eg);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new Jm(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new ti(eg);const r=this.an(e,t);if(null==r)return i;const s=wk(e);if(null!=s){const c=t.data.field(s.fieldPath);if(Xb(c))for(const d of c.arrayValue.values||[])i=i.add(new Jm(e.indexId,t.key,this.on(d),r))}else i=i.add(new Jm(e.indexId,t.key,EI,r));return i}gn(t,e,i,r,s){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,b,E){const A=d.getIterator(),R=p.getIterator();let F=Fy(A),q=Fy(R);for(;F||q;){let ne=!1,ke=!1;if(F&&q){const Ge=_(F,q);Ge<0?ke=!0:Ge>0&&(ne=!0)}else null!=F?ke=!0:ne=!0;ne?(b(q),q=Fy(R)):ke?(E(F),F=Fy(A)):(F=Fy(A),q=Fy(R))}}(r,s,eg,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),fe.waitFor(c)}_n(t){let e=1;return gx(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>eg(c,d)).filter((c,d,p)=>!d||0!==eg(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=eg(c,t),p=eg(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,EI,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,EI,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(j6)}getMinOffset(t,e){return fe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||pt())).next(j6)}}function H6(n){return Lr(n,"collectionParents")}function mx(n){return Lr(n,"indexEntries")}function DI(n){return Lr(n,"indexConfiguration")}function gx(n){return Lr(n,"indexState")}function j6(n){$t(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ek(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ha(t.readTime,t.documentKey,e)}const $6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new So(t,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function z6(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(b,E,A)=>(d++,A.delete()));s.push(p.next(()=>{$t(1===d)}));const _=[];for(const b of e.mutations){const E=T6(t,b.key.path,e.batchId);s.push(r.delete(E)),_.push(b.key)}return fe.waitFor(s).next(()=>_)}function II(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt();t=n.noDocument}return JSON.stringify(t).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class SI{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){$t(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new SI(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pf(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=Zy(t),c=Pf(t);return c.add({}).next(d=>{$t("number"==typeof d);const p=new Hk(d,e,i,r),_=function(A,R,F){const q=F.baseMutations.map(ke=>dx(A.re,ke)),ne=F.mutations.map(ke=>dx(A.re,ke));return{userId:R,batchId:F.batchId,localWriteTimeMs:F.localWriteTime.toMillis(),baseMutations:q,mutations:ne}}(this.It,this.userId,p),b=[];let E=new ti((A,R)=>Xt(A.canonicalString(),R.canonicalString()));for(const A of r){const R=T6(this.userId,A.key.path,d);E=E.add(A.key.path.popLast()),b.push(c.put(_)),b.push(s.put(R,W$))}return E.forEach(A=>{b.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),fe.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return Pf(t).get(e).next(i=>i?($t(i.userId===this.userId),Qm(this.It,i)):null)}Tn(t,e){return this.In[e]?fe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Pf(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&($t(d.batchId>=i),s=Qm(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Pf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pf(t).W("userMutationsIndex",e).next(i=>i.map(r=>Qm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=xI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return Zy(t).Z({range:r},(c,d,p)=>{const[_,b,E]=c,A=mu(b);if(_===this.userId&&e.path.isEqual(A))return Pf(t).get(E).next(R=>{if(!R)throw pt();$t(R.userId===this.userId),s.push(Qm(this.It,R))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ti(Xt);const r=[];return e.forEach(s=>{const c=xI(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=Zy(t).Z({range:d},(_,b,E)=>{const[A,R,F]=_,q=mu(R);A===this.userId&&s.path.isEqual(q)?i=i.add(F):E.done()});r.push(p)}),fe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=xI(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new ti(Xt);return Zy(t).Z({range:c},(p,_,b)=>{const[E,A,R]=p,F=mu(A);E===this.userId&&i.isPrefixOf(F)?F.length===r&&(d=d.add(R)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Pf(t).get(s).next(c=>{if(null===c)throw pt();$t(c.userId===this.userId),i.push(Qm(this.It,c))}))}),fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return z6(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Zy(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=mu(s[1]);r.push(p)}else d.done()}).next(()=>{$t(0===r.length)})})}containsKey(t,e){return G6(t,this.userId,e)}Rn(t){return W6(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function G6(n,t,e){const i=xI(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return Zy(n).Z({range:s,X:!0},(d,p,_)=>{const[b,E,A]=d;b===t&&E===r&&(c=!0),_.done()}).next(()=>c)}function Pf(n){return Lr(n,"mutations")}function Zy(n){return Lr(n,"documentMutations")}function W6(n){return Lr(n,"mutationQueues")}class tg{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new tg(0)}static vn(){return new tg(-1)}}class yz{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new tg(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>zt.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>qy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>($t(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return qy(t).Z((c,d)=>{const p=hx(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>fe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return qy(t).Z((i,r)=>{const s=hx(r);e(s)})}Vn(t){return Z6(t).get("targetGlobalKey").next(e=>($t(null!==e),e))}Sn(t,e){return Z6(t).put("targetGlobalKey",e)}Dn(t,e){return qy(t).put(P6(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Wm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return qy(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=hx(d);ex(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Nf(t);return e.forEach(c=>{const d=$s(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=Nf(t);return fe.forEach(e,s=>{const c=$s(s.path);return fe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Nf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nf(t);let s=on();return r.Z({range:i,X:!0},(c,d,p)=>{const _=mu(c[1]),b=new et(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=$s(e.path),r=IDBKeyRange.bound([i],[yF(i)],!1,!0);let s=0;return Nf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}se(t,e){return qy(t).get(e).next(i=>i?hx(i):null)}}function qy(n){return Lr(n,"targets")}function Z6(n){return Lr(n,"targetGlobal")}function Nf(n){return Lr(n,"targetDocuments")}function q6([n,t],[e,i]){const r=Xt(n,e);return 0===r?Xt(t,i):r}class vz{constructor(t){this.xn=t,this.buffer=new ti(q6),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();q6(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,we.Z)(function*(){e.Mn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){If(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Df(i)}yield e.Fn(3e5)}))}}class xz{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return fe.resolve(Do.at);const i=new vz(e);return this.$n.forEachTarget(t,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve($6)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$6):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(s=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(_=Date.now(),xk()<=ea.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:E})))}}class Cz{constructor(t,e){this.db=t,this.garbageCollector=new xz(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return TI(t,i)}removeReference(t,e,i){return TI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return TI(t,e)}Gn(t,e){return function(i,r){let s=!1;return W6(i).tt(c=>G6(i,c,r).next(d=>(d&&(s=!0),fe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,zt.min()),Nf(t).delete([0,$s(c.path)])))});r.push(p)}}).next(()=>fe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return TI(t,e)}Kn(t,e){const i=Nf(t);let r,s=Do.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==Do.at&&e(new et(mu(r)),s),s=_,r=p):s=Do.at}).next(()=>{s!==Do.at&&e(new et(mu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function TI(n,t){return Nf(n).put((i=n.currentSequenceNumber,{targetId:0,path:$s(t.path),sequenceNumber:i}));var i}class Y6{constructor(){this.changes=new Rf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_i.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wz{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ng(t).put(i)}removeEntry(t,e,i){return ng(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],CI(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=_i.newInvalidDocument(e);return ng(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_x(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:_i.newInvalidDocument(e)};return ng(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(_x(e))},(r,s)=>{i={document:this.jn(e,s),size:II(s)}}).next(()=>i)}getEntries(t,e){let i=Io();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=Io(),r=new Yi(et.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,II(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return fe.resolve();let r=new ti(J6);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(_x(r.first()),_x(r.last())),c=r.getIterator();let d=c.getNext();return ng(t).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const E=et.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&J6(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(_x(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),CI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ng(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Io();for(const p of c){const _=this.jn(et.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=Io();const c=X6(e,i),d=X6(e,ha.max());return ng(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const E=this.jn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(E.key,E),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new Ez(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Q6(t).get("remoteDocumentGlobalKey").next(e=>($t(!!e),e))}Qn(t,e){return Q6(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function cz(n,t){let e;if(t.document)e=x6(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=et.fromSegments(t.noDocument.path),r=Km(t.noDocument.readTime);e=_i.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt();{const i=et.fromSegments(t.unknownDocument.path),r=Km(t.unknownDocument.version);e=_i.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ai(i[0],i[1]);return zt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(zt.min()))return i}return _i.newInvalidDocument(t)}}function K6(n){return new wz(n)}class Ez extends Y6{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Rf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ti((s,c)=>Xt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=O6(this.Yn.It,c);r=r.add(s.path.popLast()),i+=II(p)-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=O6(this.Yn.It,c.convertToNoDocument(zt.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),fe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function Q6(n){return Lr(n,"remoteDocumentGlobal")}function ng(n){return Lr(n,"remoteDocumentsV14")}function _x(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function X6(n,t){const e=t.documentKey.path.toArray();return[n,CI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function J6(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Xt(e[s],i[s]),r)return r;return r=Xt(e.length,i.length),r||(r=Xt(e[e.length-2],i[i.length-2]),r||Xt(e[e.length-1],i[i.length-1]))}class Dz{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class eL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&ix(i.mutation,r,fa.empty(),Ai.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,on()).next(()=>i))}getLocalViewOfDocuments(t,e,i=on()){const r=fu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=rx();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=fu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,on()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Io();const c=sx(),d=sx();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Vd)?s=s.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),ix(b.mutation,_,b.mutation.getFieldMask(),Ai.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var E;return d.set(_,new Dz(b,null!==(E=c.get(_))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=sx();let r=new Yi((c,d)=>c-d),s=on();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||fa.empty();b=d.applyToLocalView(_,b),i.set(p,b);const E=(r.get(d.batchId)||on()).add(p);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,E=u6();b.forEach(A=>{if(!s.has(A)){const R=t6(e.get(A),i.get(A));null!==R&&E.set(A,R),s=s.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,E))}return fe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return et.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Rk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):fe.resolve(fu());let d=-1,p=s;return c.next(_=>fe.forEach(_,(b,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),s.get(b)?fe.resolve():this.getBaseDocument(t,b,E).next(A=>{p=p.insert(b,A)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,on())).next(b=>({batchId:d,changes:c6(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new et(e)).next(i=>{let r=rx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=rx();return this.indexManager.getCollectionParents(t,r).next(c=>fe.forEach(c,d=>{const p=(_=e,b=d.child(r),new Ld(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,E)=>{s=s.insert(b,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,_i.newInvalidDocument(_)))});let c=rx();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&ix(_.mutation,p,fa.empty(),Ai.now()),Pk(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):fe.resolve(_i.newInvalidDocument(e))}}class Iz{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return fe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Fr(i.createTime)}),fe.resolve()}getNamedQuery(t,e){return fe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:zk(i.bundledQuery),readTime:Fr(i.readTime)}),fe.resolve();var i}}class Sz{constructor(){this.overlays=new Yi(et.comparator),this.es=new Map}getOverlay(t,e){return fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=fu();return fe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),fe.resolve()}getOverlaysForCollection(t,e,i){const r=fu(),s=e.length+1,c=new et(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Yi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=fu(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=fu(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return fe.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new $k(e,i));let s=this.es.get(e);void 0===s&&(s=on(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class Zk{constructor(){this.ns=new ti(Vr.ss),this.rs=new ti(Vr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Vr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Vr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new et(new Sn([])),i=new Vr(e,t),r=new Vr(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new et(new Sn([])),i=new Vr(e,t),r=new Vr(e,t+1);let s=on();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Vr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Vr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return et.comparator(t.key,e.key)||Xt(t._s,e._s)}static os(t,e){return Xt(t._s,e._s)||et.comparator(t.key,e.key)}}class Tz{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ti(Vr.ss)}checkEmpty(t){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new Hk(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Vr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return fe.resolve(c)}lookupMutationBatch(t,e){return fe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return fe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vr(e,0),r=new Vr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),fe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ti(Xt);return e.forEach(r=>{const s=new Vr(r,0),c=new Vr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),fe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;et.isDocumentKey(s)||(s=s.child(""));const c=new Vr(new et(s),0);let d=new ti(Xt);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),fe.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){$t(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return fe.forEach(e.mutations,r=>{const s=new Vr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Vr(e,0),r=this.gs.firstAfterOrEqual(i);return fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return fe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Az{constructor(t){this.Es=t,this.docs=new Yi(et.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return fe.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(e))}getEntries(t,e){let i=Io();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():_i.newInvalidDocument(r))}),fe.resolve(i)}getAllFromCollection(t,e,i){let r=Io();const s=new et(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||Ek(bF(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return fe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){pt()}As(t,e){return fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Mz(this)}getSize(t){return fe.resolve(this.size)}}class Mz extends Y6{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),fe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class kz{constructor(t){this.persistence=t,this.Rs=new Rf(e=>Wm(e),ex),this.lastRemoteSnapshotVersion=zt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Zk,this.targetCount=0,this.vs=tg.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),fe.resolve()}getLastRemoteSnapshotVersion(t){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return fe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),fe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new tg(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,fe.resolve()}updateTargetData(t,e){return this.Dn(e),fe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,fe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),fe.waitFor(s).next(()=>r)}getTargetCount(t){return fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return fe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),fe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),fe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return fe.resolve(i)}containsKey(t,e){return fe.resolve(this.Ps.containsKey(e))}}class tL{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Do(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new kz(this),this.indexManager=new gz,this.remoteDocumentCache=new Az(i=>this.referenceDelegate.xs(i)),this.It=new R6(e),this.Ns=new Iz(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Sz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new Tz(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new Rz(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Os(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ms(t,e){return fe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class Rz extends CF{constructor(t){super(),this.currentSequenceNumber=t}}class AI{constructor(t){this.persistence=t,this.Fs=new Zk,this.$s=null}static Bs(t){return new AI(t)}get Ls(){if(this.$s)return this.$s;throw pt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),fe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),fe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Ls,i=>{const r=et.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,zt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return fe.or([()=>fe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class Oz{constructor(t){this.It=t}$(t,e,i,r){const s=new cI("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S6,{unique:!0}),d.createObjectStore("documentMutations"),nL(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=fe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),nL(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:zt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",S6,{unique:!0});const b=p.store("mutations"),E=_.map(A=>b.put(A));return fe.waitFor(E)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:rz});p.createIndex("collectionPathOverlayIndex",sz,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",oz,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:Z$});p.createIndex("documentKeyIndex",q$),p.createIndex("collectionGroupIndex",Y$)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:ez}).createIndex("sequenceNumberIndex",tz,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:nz}).createIndex("documentKeyIndex",iz,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=II(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>fe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>fe.forEach(d,p=>{$t(p.userId===s.userId);const _=Qm(this.It,p);return z6(t,s.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new Sn(c),_=[0,$s(p)];s.push(e.get(_).next(b=>b?fe.resolve():e.put({targetId:0,path:$s(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>fe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:J$});const i=e.store("collectionParents"),r=new Wk,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:$s(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Sn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=mu(d);return s(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=hx(r),c=P6(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new et(Sn.fromString(_.document.name).popFirst(5)):_.noDocument?et.fromSegments(_.noDocument.path):_.unknownDocument?et.fromSegments(_.unknownDocument.path):pt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>fe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=K6(this.It),s=new tL(AI.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:on();Qm(this.It,p).keys().forEach(E=>b=b.add(E)),d.set(p.userId,b)}),fe.forEach(d,(p,_)=>{const b=new Nr(_),E=wI.oe(this.It,b),A=s.getIndexManager(b),R=SI.oe(b,this.It,A,s.referenceDelegate);return new eL(r,R,E,A).recalculateAndSaveOverlaysForDocumentKeys(new Uk(e,Do.at),p).next()})})}}function nL(n){n.createObjectStore("targetDocuments",{keyPath:Q$}).createIndex("documentTargetsIndex",X$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",K$,{unique:!0}),n.createObjectStore("targetGlobal")}const qk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yk{constructor(t,e,i,r,s,c,d,p,_,b,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=E,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=A=>Promise.resolve(),!Yk.C())throw new Ve(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cz(this,r),this.ii=e+"main",this.It=new R6(p),this.ri=new pc(this.ii,this.Xs,new Oz(this.It)),this.Cs=new yz(this.referenceDelegate,this.It),this.remoteDocumentCache=K6(this.It),this.Ns=new uz,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ve(ye.FAILED_PRECONDITION,qk);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new Do(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,we.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>MI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(If(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return yx(t).get("owner").next(e=>fe.resolve(this.mi(e)))}gi(t){return MI(t).delete(this.clientId)}yi(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Lr(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return fe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?fe.resolve(!0):yx(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Ve(ye.FAILED_PRECONDITION,qk);return!1}}return!(!this.networkEnabled||!this.inForeground)||MI(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Uk(e,Do.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>MI(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return SI.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new _z(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return wI.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?lz:14===c?k6:13===c?M6:12===c?az:11===c?A6:void pt();var c;let d;return this.ri.runTransaction(t,r,s,p=>(d=new Uk(p,this.Ss?this.Ss.next():Do.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw ir(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ve(ye.FAILED_PRECONDITION,xF);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return yx(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ve(ye.FAILED_PRECONDITION,qk)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yx(t).put("owner",e)}static C(){return pc.C()}_i(t){const e=yx(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):fe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ir(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,V.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){ir("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function yx(n){return Lr(n,"owner")}function MI(n){return Lr(n,"clientMetadata")}function Kk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Qk{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=on(),r=on();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Qk(t,e.fromCache,i,r)}}class iL{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Oi(t,e,r,i)).next(s=>s||this.Mi(t,e))}ki(t,e){if($F(e))return fe.resolve(null);let i=js(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=mI(e,null,"F"),i=js(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=on(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,c,p.readTime)?this.ki(t,mI(e,null,"F")):this.Bi(t,_,e,p)}))})))}Oi(t,e,i,r){return $F(e)||r.isEqual(zt.min())?this.Mi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Mi(t,e):(xk()<=ea.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ok(e)),this.Bi(t,c,e,vF(r,-1)))})}Fi(t,e){let i=new ti(WF(t));return e.forEach((r,s)=>{Pk(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Mi(t,e){return xk()<=ea.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Ok(e)),this.Ni.getDocumentsMatchingQuery(t,e,ha.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class Pz{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Yi(Xt),this.qi=new Rf(s=>Wm(s),ex),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function rL(n,t,e,i){return new Pz(n,t,e,i)}function sL(n,t){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,we.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=on();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),Xk.apply(this,arguments)}function Nz(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,E=b.keys();let A=fe.resolve();return E.forEach(R=>{A=A.next(()=>_.getEntry(d,R)).next(F=>{const q=p.docVersions.get(R);$t(null!==q),F.version.compareTo(q)<0&&(b.applyToRemoteDocument(F,p),F.isValidDocument()&&(F.setReadTime(p.commitVersion),_.addEntry(F)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=on();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function oL(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function Fz(n,t){const e=rt(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((b,E)=>{const A=r.get(E);if(!A)return;d.push(e.Cs.removeMatchingKeys(s,b.removedDocuments,E).next(()=>e.Cs.addMatchingKeys(s,b.addedDocuments,E)));let R=A.withSequenceNumber(s.currentSequenceNumber);var F,q,ne;t.targetMismatches.has(E)?R=R.withResumeToken(Er.EMPTY_BYTE_STRING,zt.min()).withLastLimboFreeSnapshotVersion(zt.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(E,R),q=R,ne=b,(0===(F=A).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,R))});let p=Io(),_=on();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(aL(s,c,t.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(zt.min())){const b=e.Cs.getLastRemoteSnapshotVersion(s).next(E=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return fe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ui=r,s))}function aL(n,t,e){let i=on(),r=on();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Io();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(zt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function Lz(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Yy(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,fe.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new Of(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function Ky(n,t,e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,we.Z)(function*(n,t,e){const i=rt(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!If(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),Jk.apply(this,arguments)}function kI(n,t,e){const i=rt(n);let r=zt.min(),s=on();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=rt(d),E=b.qi.get(_);return void 0!==E?fe.resolve(b.Ui.get(E)):b.Cs.getTargetData(p,_)}(i,c,js(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:zt.min(),e?s:on())).next(d=>(uL(i,GF(t),d),{documents:d,Hi:s})))}function lL(n,t){const e=rt(n),i=rt(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function cL(n,t){const e=rt(n),i=e.Ki.get(t)||zt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,vF(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uL(e,t,r),r))}function uL(n,t,e){let i=n.Ki.get(t)||zt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function eR(){return eR=(0,we.Z)(function*(n,t,e,i){const r=rt(n);let s=on(),c=Io();for(const _ of e){const b=t.Ji(_.metadata.name);_.document&&(s=s.add(b));const E=t.Yi(_);E.setReadTime(t.Xi(_.metadata.readTime)),c=c.insert(b,E)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield Yy(r,(_=i,js(By(Sn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>aL(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),eR.apply(this,arguments)}function Bz(n,t){return tR.apply(this,arguments)}function tR(){return tR=(0,we.Z)(function*(n,t,e=on()){const i=yield Yy(n,js(zk(t.bundledQuery))),r=rt(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Fr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(Er.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),tR.apply(this,arguments)}function dL(n,t){return`firestore_clients_${n}_${t}`}function hL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function nR(n,t){return`firestore_targets_${n}_${t}`}class RI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ve(r.error.code,r.error.message))),c?new RI(t,e,r.state,s):(ir("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class vx{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ve(i.error.code,i.error.message))),s?new vx(t,i.state,r):(ir("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class OI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=vI();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=TF(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new OI(t,s):(ir("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class iR{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new iR(e.clientId,e.onlineState):(ir("SharedClientState",`Failed to parse online state: ${t}`),null)}}class rR{constructor(){this.activeTargetIds=vI()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sR{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Yi(Xt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=dL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new rR),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(dL(t.persistenceKey,r));if(s){const c=OI.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(nR(this.persistenceKey,t));if(i){const r=vx.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(nR(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=Do.at;if(null!=s)try{const d=JSON.parse(s);$t("number"==typeof d),c=d}catch(d){ir("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==Do.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Or(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Mr(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new RI(this.currentUser,t,e,i),s=hL(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=hL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=nR(this.persistenceKey,t),s=new vx(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return OI.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return RI.Zi(new Nr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return vx.Zi(r,e)}yr(t){return iR.Zi(t)}Or(t){return JSON.parse(t)}Cr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=vI();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class fL{constructor(){this.Lr=new rR,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new rR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Uz{qr(t){}shutdown(){}}class pL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Hz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jz{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class $z extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,i,r,s){const c=this.ho(t,e);$e("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(t,c,d,i).then(p=>($e("RestConnection","Received: ",p),p),p=>{throw Bm("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}_o(t,e,i,r,s,c){return this.ao(t,e,i,r,s)}lo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Py,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ho(t,e){return`${this.oo}/v1/${e}:${Hz[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,i,r){return new Promise((s,c)=>{const d=new Hj;d.setWithCredentials(!0),d.listenOnce(Vj.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bk.NO_ERROR:const _=d.getResponseJson();$e("Connection","XHR received:",JSON.stringify(_)),s(_);break;case bk.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),c(new Ve(ye.DEADLINE_EXCEEDED,"Request time out"));break;case bk.HTTP_ERROR:const b=d.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const A=function(R){const F=R.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(F)>=0?F:ye.UNKNOWN}(E.status);c(new Ve(A,E.message))}else c(new Ve(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ve(ye.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}wo(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Fj(),c=Lj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Uj({})),this.lo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=r.join("");$e("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,E=!1;const A=new jz({Hr:F=>{E?$e("Connection","Not sending because WebChannel is closed:",F):(b||($e("Connection","Opening WebChannel transport."),_.open(),b=!0),$e("Connection","WebChannel sending:",F),_.send(F))},Jr:()=>_.close()}),R=(F,q,ne)=>{F.listen(q,ke=>{try{ne(ke)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return R(_,oI.EventType.OPEN,()=>{E||$e("Connection","WebChannel transport opened.")}),R(_,oI.EventType.CLOSE,()=>{E||(E=!0,$e("Connection","WebChannel transport closed"),A.io())}),R(_,oI.EventType.ERROR,F=>{E||(E=!0,Bm("Connection","WebChannel transport errored:",F),A.io(new Ve(ye.UNAVAILABLE,"The operation could not be completed")))}),R(_,oI.EventType.MESSAGE,F=>{var q;if(!E){const ne=F.data[0];$t(!!ne);const ke=ne,Ge=ke.error||(null===(q=ke[0])||void 0===q?void 0:q.error);if(Ge){$e("Connection","WebChannel received error:",Ge);const Ze=Ge.status;let Ke=function(St){const hn=fr[St];if(void 0!==hn)return a6(hn)}(Ze),wt=Ge.message;void 0===Ke&&(Ke=ye.INTERNAL,wt="Unknown error status: "+Ze+" with message "+Ge.message),E=!0,A.io(new Ve(Ke,wt)),_.close()}else $e("Connection","WebChannel received:",ne),A.ro(ne)}}),R(c,Bj.STAT_EVENT,F=>{F.stat===fF.PROXY?$e("Connection","Detected buffering proxy"):F.stat===fF.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.so()},0),A}}function mL(){return typeof window<"u"?window:null}function PI(){return typeof document<"u"?document:null}function bx(n){return new P$(n,!0)}class oR{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class gL{constructor(t,e,i,r,s,c,d,p){this.Hs=t,this.vo=i,this.Vo=r,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new oR(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var t=this;return(0,we.Z)(function*(){t.No()&&(yield t.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,we.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ye.RESOURCE_EXHAUSTED?(ir(e.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):e&&e.code===ye.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Ve(ye.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var t=this;this.state=5,this.xo.Ro((0,we.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zz extends gL{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function L$(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:pt(),r=t.targetChange.targetIds||[],s=function(p,_){return p.gt?($t(void 0===_||"string"==typeof _),Er.fromBase64String(_||"")):($t(void 0===_||_ instanceof Uint8Array),Er.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?ye.UNKNOWN:a6(p.code);return new Ve(_,p.message||"")}(c);e=new h6(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=pu(n,i.document.name),s=Fr(i.document.updateTime),c=new Kr({mapValue:{fields:i.document.fields}}),d=_i.newFoundDocument(r,s,c);e=new bI(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=pu(n,i.document),s=i.readTime?Fr(i.readTime):zt.min(),c=_i.newNoDocument(r,s);e=new bI([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=pu(n,i.document);e=new bI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return pt();{const i=t.filter,s=new I$(i.count||0);e=new d6(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return zt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?zt.min():s.readTime?Fr(s.readTime):zt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=ux(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=fI(d)?{documents:C6(r,d)}:{query:Bk(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=g6(r,s.resumeToken):s.snapshotVersion.compareTo(zt.min())>0&&(c.readTime=lx(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function B$(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=ux(this.It),e.removeTarget=t,this.Bo(e)}}class Gz extends gL{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if($t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function V$(n,t){return n&&n.length>0?($t(void 0!==t),n.map(e=>function(i,r){let s=Fr(i.updateTime?i.updateTime:r);return s.isEqual(zt.min())&&(s=Fr(r)),new w$(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Fr(t.commitTime);return this.listener.Zo(i,e)}return $t(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=ux(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>dx(this.It,i))};this.Bo(e)}}class Wz extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Ve(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.ao(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ve(ye.UNKNOWN,r.toString())})}_o(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection._o(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(ye.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class qz{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ir(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Yz{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,we.Z)(function*(){var p;Bd(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,we.Z)(function*(_){const b=rt(_);b._u.add(4),yield Qy(b),b.gu.set("Unknown"),b._u.delete(4),yield xx(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new qz(i,r)}}function xx(n){return lR.apply(this,arguments)}function lR(){return lR=(0,we.Z)(function*(n){if(Bd(n))for(const t of n.wu)yield t(!0)}),lR.apply(this,arguments)}function Qy(n){return cR.apply(this,arguments)}function cR(){return cR=(0,we.Z)(function*(n){for(const t of n.wu)yield t(!1)}),cR.apply(this,arguments)}function NI(n,t){const e=rt(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),hR(e)?dR(e):Jy(e).ko()&&uR(e,t))}function Cx(n,t){const e=rt(n),i=Jy(e);e.du.delete(t),i.ko()&&_L(e,t),0===e.du.size&&(i.ko()?i.Fo():Bd(e)&&e.gu.set("Unknown"))}function uR(n,t){n.yu.Mt(t.targetId),Jy(n).zo(t)}function _L(n,t){n.yu.Mt(t),Jy(n).Ho(t)}function dR(n){n.yu=new k$({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Jy(n).start(),n.gu.uu()}function hR(n){return Bd(n)&&!Jy(n).No()&&n.du.size>0}function Bd(n){return 0===rt(n)._u.size}function yL(n){n.yu=void 0}function Kz(n){return fR.apply(this,arguments)}function fR(){return fR=(0,we.Z)(function*(n){n.du.forEach((t,e)=>{uR(n,t)})}),fR.apply(this,arguments)}function Qz(n,t){return pR.apply(this,arguments)}function pR(){return pR=(0,we.Z)(function*(n,t){yL(n),hR(n)?(n.gu.hu(t),dR(n)):n.gu.set("Unknown")}),pR.apply(this,arguments)}function Xz(n,t,e){return mR.apply(this,arguments)}function mR(){return mR=(0,we.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof h6&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield FI(n,i)}else if(t instanceof bI?n.yu.Gt(t):t instanceof d6?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(zt.min()))try{const i=yield oL(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),_L(r,d);const _=new Of(p.target,d,1,p.sequenceNumber);uR(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield FI(n,i)}var i}),mR.apply(this,arguments)}function FI(n,t,e){return gR.apply(this,arguments)}function gR(){return gR=(0,we.Z)(function*(n,t,e){if(!If(t))throw t;n._u.add(1),yield Qy(n),n.gu.set("Offline"),e||(e=()=>oL(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield xx(n)}))}),gR.apply(this,arguments)}function vL(n,t){return t().catch(e=>FI(n,e,t))}function Xy(n){return _R.apply(this,arguments)}function _R(){return _R=(0,we.Z)(function*(n){const t=rt(n),e=Ff(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;Jz(t);)try{const r=yield Lz(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,eG(t,r)}catch(r){yield FI(t,r)}bL(t)&&xL(t)}),_R.apply(this,arguments)}function Jz(n){return Bd(n)&&n.fu.length<10}function eG(n,t){n.fu.push(t);const e=Ff(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function bL(n){return Bd(n)&&!Ff(n).No()&&n.fu.length>0}function xL(n){Ff(n).start()}function tG(n){return yR.apply(this,arguments)}function yR(){return yR=(0,we.Z)(function*(n){Ff(n).eu()}),yR.apply(this,arguments)}function nG(n){return vR.apply(this,arguments)}function vR(){return vR=(0,we.Z)(function*(n){const t=Ff(n);for(const e of n.fu)t.Xo(e.mutations)}),vR.apply(this,arguments)}function iG(n,t,e){return bR.apply(this,arguments)}function bR(){return bR=(0,we.Z)(function*(n,t,e){const i=n.fu.shift(),r=jk.from(i,t,e);yield vL(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Xy(n)}),bR.apply(this,arguments)}function rG(n,t){return xR.apply(this,arguments)}function xR(){return xR=(0,we.Z)(function*(n,t){var e;t&&Ff(n).Yo&&(yield(e=(0,we.Z)(function*(i,r){if(o6(s=r.code)&&s!==ye.ABORTED){const c=i.fu.shift();Ff(i).Mo(),yield vL(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Xy(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),bL(n)&&xL(n)}),xR.apply(this,arguments)}function CL(n,t){return CR.apply(this,arguments)}function CR(){return CR=(0,we.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=Bd(e);e._u.add(3),yield Qy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield xx(e)}),CR.apply(this,arguments)}function wR(n,t){return ER.apply(this,arguments)}function ER(){return ER=(0,we.Z)(function*(n,t){const e=rt(n);t?(e._u.delete(2),yield xx(e)):t||(e._u.add(2),yield Qy(e),e.gu.set("Unknown"))}),ER.apply(this,arguments)}function Jy(n){return n.pu||(n.pu=function(t,e,i){const r=rt(t);return r.su(),new zz(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Kz.bind(null,n),Zr:Qz.bind(null,n),Wo:Xz.bind(null,n)}),n.wu.push(function(){var t=(0,we.Z)(function*(e){e?(n.pu.Mo(),hR(n)?dR(n):n.gu.set("Unknown")):(yield n.pu.stop(),yL(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Ff(n){return n.Iu||(n.Iu=function(t,e,i){const r=rt(t);return r.su(),new Gz(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:tG.bind(null,n),Zr:rG.bind(null,n),tu:nG.bind(null,n),Zo:iG.bind(null,n)}),n.wu.push(function(){var t=(0,we.Z)(function*(e){e?(n.Iu.Mo(),yield Xy(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class DR{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new DR(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ve(ye.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(n,t){if(ir("AsyncQueue",`${t}: ${n}`),If(n))return new Ve(ye.UNAVAILABLE,`${t}: ${n}`);throw n}class tv{constructor(t){this.comparator=t?(e,i)=>t(e,i)||et.comparator(e.key,i.key):(e,i)=>et.comparator(e.key,i.key),this.keyedMap=rx(),this.sortedSet=new Yi(this.comparator)}static emptySet(t){return new tv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof tv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new tv;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class wL{constructor(){this.Tu=new Yi(et.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):pt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class nv{constructor(t,e,i,r,s,c,d,p,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,e,i,r,s){const c=[];return e.forEach(d=>{c.push({type:0,doc:d})}),new nv(t,e,tv.emptySet(e),c,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class sG{constructor(){this.Au=void 0,this.listeners=[]}}class oG{constructor(){this.queries=new Rf(t=>zF(t),tx),this.onlineState="Unknown",this.Ru=new Set}}function IR(n,t){return SR.apply(this,arguments)}function SR(){return SR=(0,we.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new sG),r)try{s.Au=yield e.onListen(i)}catch(c){const d=ev(c,`Initialization of query '${Ok(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&MR(e)}),SR.apply(this,arguments)}function TR(n,t){return AR.apply(this,arguments)}function AR(){return AR=(0,we.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),AR.apply(this,arguments)}function aG(n,t){const e=rt(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&MR(e)}function lG(n,t,e){const i=rt(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function MR(n){n.Ru.forEach(t=>{t.next()})}class kR{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new nv(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||(!this.options.Nu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=nv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class cG{constructor(t,e){this.ku=t,this.byteLength=e}Ou(){return"metadata"in this.ku}}class EL{constructor(t){this.It=t}Ji(t){return pu(this.It,t)}Yi(t){return t.metadata.exists?x6(this.It,t.document,!1):_i.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Fr(t)}}class uG{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DL(t)}Fu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ku.namedQuery)this.queries.push(t.ku.namedQuery);else if(t.ku.documentMetadata){this.documents.push({metadata:t.ku.documentMetadata}),t.ku.documentMetadata.exists||++e;const i=Sn.fromString(t.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ku.document&&(this.documents[this.documents.length-1].document=t.ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}$u(t){const e=new Map,i=new EL(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||on()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function Vz(n,t,e,i){return eR.apply(this,arguments)}(t.localStore,new EL(t.It),t.documents,t.Mu.id),i=t.$u(t.documents);for(const r of t.queries)yield Bz(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Bu:t.collectionGroups,Lu:e}})()}}function DL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IL{constructor(t){this.key=t}}class SL{constructor(t){this.key=t}}class TL{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=on(),this.mutatedKeys=on(),this.Gu=WF(t),this.Qu=new tv(this.Gu)}get ju(){return this.Uu}Wu(t,e){const i=e?e.zu:new wL,r=e?e.Qu:this.Qu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,E)=>{const A=r.get(b),R=Pk(this.query,E)?E:null,F=!!A&&this.mutatedKeys.has(A.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let ne=!1;A&&R?A.data.isEqual(R.data)?F!==q&&(i.track({type:3,doc:R}),ne=!0):this.Hu(A,R)||(i.track({type:2,doc:R}),ne=!0,(p&&this.Gu(R,p)>0||_&&this.Gu(R,_)<0)&&(d=!0)):!A&&R?(i.track({type:0,doc:R}),ne=!0):A&&!R&&(i.track({type:1,doc:A}),ne=!0,(p||_)&&(d=!0)),ne&&(R?(c=c.add(R),s=q?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Qu:c,zu:i,$i:d,mutatedKeys:s}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const s=t.zu.Eu();s.sort((_,b)=>function(E,A){const R=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return R(E)-R(A)}(_.type,b.type)||this.Gu(_.doc,b.doc)),this.Ju(i);const c=e?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==s.length||p?{snapshot:new nv(this.query,t.Qu,r,s,t.mutatedKeys,0===d,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new wL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach(e=>this.Uu=this.Uu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Uu=this.Uu.delete(e)),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=on(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const e=[];return t.forEach(i=>{this.Ku.has(i)||e.push(new SL(i))}),this.Ku.forEach(i=>{t.has(i)||e.push(new IL(i))}),e}tc(t){this.Uu=t.Hi,this.Ku=on();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return nv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class dG{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class hG{constructor(t){this.key=t,this.nc=!1}}class fG{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Rf(d=>zF(d),tx),this.rc=new Map,this.oc=new Set,this.uc=new Yi(et.comparator),this.cc=new Map,this.ac=new Zk,this.hc={},this.lc=new Map,this.fc=tg.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function pG(n,t){return RR.apply(this,arguments)}function RR(){return RR=(0,we.Z)(function*(n,t){const e=t5(n);let i,r;const s=e.ic.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const c=yield Yy(e.localStore,js(t));e.isPrimaryClient&&NI(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield OR(e,t,i,"current"===d,c.resumeToken)}return r}),RR.apply(this,arguments)}function OR(n,t,e,i,r){return PR.apply(this,arguments)}function PR(){return PR=(0,we.Z)(function*(n,t,e,i,r){n._c=(E,A,R)=>{return(F=(0,we.Z)(function*(q,ne,ke,Ge){let Ze=ne.view.Wu(ke);Ze.$i&&(Ze=yield kI(q.localStore,ne.query,!1).then(({documents:St})=>ne.view.Wu(St,Ze)));const Ke=Ge&&Ge.targetChanges.get(ne.targetId),wt=ne.view.applyChanges(Ze,q.isPrimaryClient,Ke);return zR(q,ne.targetId,wt.Xu),wt.snapshot}),function(q,ne,ke,Ge){return F.apply(this,arguments)})(n,E,A,R);var F};const s=yield kI(n.localStore,t,!0),c=new TL(t,s.Hi),d=c.Wu(s.documents),p=ax.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),_=c.applyChanges(d,n.isPrimaryClient,p);zR(n,e,_.Xu);const b=new dG(t,e,c);return n.ic.set(t,b),n.rc.has(e)?n.rc.get(e).push(t):n.rc.set(e,[t]),_.snapshot}),PR.apply(this,arguments)}function mG(n,t){return NR.apply(this,arguments)}function NR(){return NR=(0,we.Z)(function*(n,t){const e=rt(n),i=e.ic.get(t),r=e.rc.get(i.targetId);if(r.length>1)return e.rc.set(i.targetId,r.filter(s=>!tx(s,t))),void e.ic.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ky(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Cx(e.remoteStore,i.targetId),iv(e,i.targetId)}).catch(Df))):(iv(e,i.targetId),yield Ky(e.localStore,i.targetId,!0))}),NR.apply(this,arguments)}function FR(){return FR=(0,we.Z)(function*(n,t,e){const i=n5(n);try{const r=yield function(s,c){const d=rt(s),p=Ai.now(),_=c.reduce((A,R)=>A.add(R.key),on());let b,E;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=Io(),F=on();return d.Gi.getEntries(A,_).next(q=>{R=q,R.forEach((ne,ke)=>{ke.isValidDocument()||(F=F.add(ne))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,R)).next(q=>{b=q;const ne=[];for(const ke of c){const Ge=D$(ke,b.get(ke.key).overlayedDocument);null!=Ge&&ne.push(new Vd(ke.key,Ge,NF(Ge.value.mapValue),Mi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,ne,c)}).next(q=>{E=q;const ne=q.applyToLocalDocumentSet(b,F);return d.documentOverlayCache.saveOverlays(A,q.batchId,ne)})}).then(()=>({batchId:E.batchId,changes:c6(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.hc[s.currentUser.toKey()];p||(p=new Yi(Xt)),p=p.insert(c,d),s.hc[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Ud(i,r.changes),yield Xy(i.remoteStore)}catch(r){const s=ev(r,"Failed to persist write");e.reject(s)}}),FR.apply(this,arguments)}function AL(n,t){return LR.apply(this,arguments)}function LR(){return LR=(0,we.Z)(function*(n,t){const e=rt(n);try{const i=yield Fz(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.cc.get(s);c&&($t(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?$t(c.nc):r.removedDocuments.size>0&&($t(c.nc),c.nc=!1))}),yield Ud(e,i,t)}catch(i){yield Df(i)}}),LR.apply(this,arguments)}function ML(n,t,e){const i=rt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ic.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=rt(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const E of b.listeners)E.bu(c)&&(p=!0)}),p&&MR(d)}(i.eventManager,t),r.length&&i.sc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _G(n,t,e){return VR.apply(this,arguments)}function VR(){return VR=(0,we.Z)(function*(n,t,e){const i=rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.cc.get(t),s=r&&r.key;if(s){let c=new Yi(et.comparator);c=c.insert(s,_i.newNoDocument(s,zt.min()));const d=on().add(s),p=new ox(zt.min(),new Map,new ti(Xt),c,d);yield AL(i,p),i.uc=i.uc.remove(s),i.cc.delete(t),GR(i)}else yield Ky(i.localStore,t,!1).then(()=>iv(i,t,e)).catch(Df)}),VR.apply(this,arguments)}function yG(n,t){return BR.apply(this,arguments)}function BR(){return BR=(0,we.Z)(function*(n,t){const e=rt(n),i=t.batch.batchId;try{const r=yield Nz(e.localStore,t);$R(e,i,null),jR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Ud(e,r)}catch(r){yield Df(r)}}),BR.apply(this,arguments)}function vG(n,t,e){return UR.apply(this,arguments)}function UR(){return UR=(0,we.Z)(function*(n,t,e){const i=rt(n);try{const r=yield function(s,c){const d=rt(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>($t(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);$R(i,t,e),jR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Ud(i,r)}catch(r){yield Df(r)}}),UR.apply(this,arguments)}function HR(){return HR=(0,we.Z)(function*(n,t){const e=rt(n);Bd(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=rt(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.lc.get(i)||[];r.push(t),e.lc.set(i,r)}catch(i){const r=ev(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),HR.apply(this,arguments)}function jR(n,t){(n.lc.get(t)||[]).forEach(e=>{e.resolve()}),n.lc.delete(t)}function $R(n,t,e){const i=rt(n);let r=i.hc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.hc[i.currentUser.toKey()]=r}}function iv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.rc.get(t))n.ic.delete(i),e&&n.sc.wc(i,e);n.rc.delete(t),n.isPrimaryClient&&n.ac.ls(t).forEach(i=>{n.ac.containsKey(i)||kL(n,i)})}function kL(n,t){n.oc.delete(t.path.canonicalString());const e=n.uc.get(t);null!==e&&(Cx(n.remoteStore,e),n.uc=n.uc.remove(t),n.cc.delete(e),GR(n))}function zR(n,t,e){for(const i of e)i instanceof IL?(n.ac.addReference(i.key,t),xG(n,i)):i instanceof SL?($e("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,t),n.ac.containsKey(i.key)||kL(n,i.key)):pt()}function xG(n,t){const e=t.key,i=e.path.canonicalString();n.uc.get(e)||n.oc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.oc.add(i),GR(n))}function GR(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const t=n.oc.values().next().value;n.oc.delete(t);const e=new et(Sn.fromString(t)),i=n.fc.next();n.cc.set(i,new hG(e)),n.uc=n.uc.insert(e,i),NI(n.remoteStore,new Of(js(By(e.path)),i,2,Do.at))}}function Ud(n,t,e){return WR.apply(this,arguments)}function WR(){return WR=(0,we.Z)(function*(n,t,e){const i=rt(n),r=[],s=[],c=[];var d;i.ic.isEmpty()||(i.ic.forEach((d,p)=>{c.push(i._c(p,t,e).then(_=>{if((_||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_?.fromCache?"not-current":"current"),_){r.push(_);const b=Qk.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(d=(0,we.Z)(function*(p,_){const b=rt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>fe.forEach(_,A=>fe.forEach(A.Si,R=>b.persistence.referenceDelegate.addReference(E,A.targetId,R)).next(()=>fe.forEach(A.Di,R=>b.persistence.referenceDelegate.removeReference(E,A.targetId,R)))))}catch(E){if(!If(E))throw E;$e("LocalStore","Failed to update sequence numbers: "+E)}for(const E of _){const A=E.targetId;if(!E.fromCache){const R=b.Ui.get(A),q=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.Ui=b.Ui.insert(A,q)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),WR.apply(this,arguments)}function CG(n,t){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,we.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield sL(e.localStore,t);e.currentUser=t,(r=e).lc.forEach(c=>{c.forEach(d=>{d.reject(new Ve(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Ud(e,i.ji)}var r}),ZR.apply(this,arguments)}function wG(n,t){const e=rt(n),i=e.cc.get(t);if(i&&i.nc)return on().add(i.key);{let r=on();const s=e.rc.get(t);if(!s)return r;for(const c of s){const d=e.ic.get(c);r=r.unionWith(d.view.ju)}return r}}function EG(n,t){return qR.apply(this,arguments)}function qR(){return qR=(0,we.Z)(function*(n,t){const e=rt(n),i=yield kI(e.localStore,t.query,!0),r=t.view.tc(i);return e.isPrimaryClient&&zR(e,t.targetId,r.Xu),r}),qR.apply(this,arguments)}function DG(n,t){return YR.apply(this,arguments)}function YR(){return YR=(0,we.Z)(function*(n,t){const e=rt(n);return cL(e.localStore,t).then(i=>Ud(e,i))}),YR.apply(this,arguments)}function IG(n,t,e,i){return KR.apply(this,arguments)}function KR(){return KR=(0,we.Z)(function*(n,t,e,i){const r=rt(n),s=yield function(c,d){const p=rt(c),_=rt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(E=>E?p.localDocuments.getDocuments(b,E):fe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield Xy(r.remoteStore):"acknowledged"===e||"rejected"===e?($R(r,t,i||null),jR(r,t),d=t,rt(rt(r.localStore).mutationQueue).An(d)):pt(),yield Ud(r,s)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),KR.apply(this,arguments)}function QR(){return QR=(0,we.Z)(function*(n,t){const e=rt(n);if(t5(e),n5(e),!0===t&&!0!==e.dc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield RL(e,i.toArray());e.dc=!0,yield wR(e.remoteStore,!0);for(const s of r)NI(e.remoteStore,s)}else if(!1===t&&!1!==e.dc){const i=[];let r=Promise.resolve();e.rc.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(iv(e,c),Ky(e.localStore,c,!0))),Cx(e.remoteStore,c)}),yield r,yield RL(e,i),function(s){const c=rt(s);c.cc.forEach((d,p)=>{Cx(c.remoteStore,p)}),c.ac.fs(),c.cc=new Map,c.uc=new Yi(et.comparator)}(e),e.dc=!1,yield wR(e.remoteStore,!1)}}),QR.apply(this,arguments)}function RL(n,t,e){return XR.apply(this,arguments)}function XR(){return XR=(0,we.Z)(function*(n,t,e){const i=rt(n),r=[],s=[];for(const c of t){let d;const p=i.rc.get(c);if(p&&0!==p.length){d=yield Yy(i.localStore,js(p[0]));for(const _ of p){const b=i.ic.get(_),E=yield EG(i,b);E.snapshot&&s.push(E.snapshot)}}else{const _=yield lL(i.localStore,c);d=yield Yy(i.localStore,_),yield OR(i,OL(_),c,!1,d.resumeToken)}r.push(d)}return i.sc.Wo(s),r}),XR.apply(this,arguments)}function OL(n){return jF(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TG(n){const t=rt(n);return rt(rt(t.localStore).persistence).vi()}function AG(n,t,e,i){return JR.apply(this,arguments)}function JR(){return JR=(0,we.Z)(function*(n,t,e,i){const r=rt(n);if(r.dc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const s=r.rc.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield cL(r.localStore,GF(s[0])),d=ox.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Er.EMPTY_BYTE_STRING);yield Ud(r,c,d);break}case"rejected":yield Ky(r.localStore,t,!0),iv(r,t,i);break;default:pt()}}),JR.apply(this,arguments)}function MG(n,t,e){return e5.apply(this,arguments)}function e5(){return e5=(0,we.Z)(function*(n,t,e){const i=t5(n);if(i.dc){for(const r of t){if(i.rc.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const s=yield lL(i.localStore,r),c=yield Yy(i.localStore,s);yield OR(i,OL(s),c.targetId,!1,c.resumeToken),NI(i.remoteStore,c)}for(const r of e)i.rc.has(r)&&(yield Ky(i.localStore,r,!1).then(()=>{Cx(i.remoteStore,r),iv(i,r)}).catch(Df))}}),e5.apply(this,arguments)}function t5(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=AL.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_G.bind(null,t),t.sc.Wo=aG.bind(null,t.eventManager),t.sc.wc=lG.bind(null,t.eventManager),t}function n5(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vG.bind(null,t),t}class PL{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.It=bx(t.databaseInfo.databaseId),e.sharedClientState=e.gc(t),e.persistence=e.yc(t),yield e.persistence.start(),e.localStore=e.Ic(t),e.gcScheduler=e.Tc(t,e.localStore),e.indexBackfillerScheduler=e.Ec(t,e.localStore)})()}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return rL(this.persistence,new iL,t.initialUser,this.It)}yc(t){return new tL(AI.Bs,this.It)}gc(t){return new fL}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class NL extends PL{constructor(t,e,i){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.Ac.initialize(i,t),yield n5(i.Ac.syncEngine),yield Xy(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(t){return rL(this.persistence,new iL,t.initialUser,this.It)}Tc(t,e){return new bz(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ec(t,e){const i=new i$(e,this.persistence);return new n$(t.asyncQueue,i)}yc(t){const e=Kk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new Yk(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,mL(),PI(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(t){return new fL}}class RG extends NL{constructor(t,e){super(t,e,!1),this.Ac=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const r=i.Ac.syncEngine;i.sharedClientState instanceof sR&&(i.sharedClientState.syncEngine={Fr:IG.bind(null,r),$r:AG.bind(null,r),Br:MG.bind(null,r),vi:TG.bind(null,r),Mr:DG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,we.Z)(function*(c){yield function SG(n,t){return QR.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}gc(t){const e=mL();if(!sR.C(e))throw new Ve(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Kk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new sR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class r5{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>ML(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=CG.bind(null,i.syncEngine),yield wR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new oG}createDatastore(t){const e=bx(t.databaseInfo.databaseId),i=new $z(t.databaseInfo);return new Wz(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>ML(this.syncEngine,d,0),c=pL.C()?new pL:new Uz,new Yz(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const b=new fG(i,r,s,c,d,p);return _&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=rt(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield Qy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function s5(n,t,e){if(!e)throw new Ve(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function FL(n,t,e,i){if(!0===t&&!0===i)throw new Ve(ye.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function LL(n){if(!et.isDocumentKey(n))throw new Ve(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VL(n){if(et.isDocumentKey(n))throw new Ve(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":pt()}function _n(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ve(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=LI(n);throw new Ve(ye.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function BL(n,t){if(t<=0)throw new Ve(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}const UL=new Map;class HL{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ve(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ve(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,FL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wx{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ve(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HL(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new zj;switch(e.type){case"gapi":return new qj(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ve(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=UL.get(t);e&&($e("ComponentProvider","Removing Datastore"),UL.delete(t),e.terminate())}(this),Promise.resolve()}}function jL(n,t,e,i={}){var r;const s=(n=_n(n,wx))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Bm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Nr.MOCK_USER;else{c=(0,V.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ve(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Nr(p)}n._authCredentials=new Gj(new mF(c,d))}}class wi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wi(this.firestore,t,this._key)}}class bs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new bs(this.firestore,t,this._query)}}class gu extends bs{constructor(t,e,i){super(t,e,By(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wi(this.firestore,null,new et(t))}withConverter(t){return new gu(this.firestore,t,this._path)}}function $L(n,t,...e){if(n=(0,V.m9)(n),s5("collection","path",t),n instanceof wx){const i=Sn.fromString(t,...e);return VL(i),new gu(n,null,i)}{if(!(n instanceof wi||n instanceof gu))throw new Ve(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return VL(i),new gu(n.firestore,null,i)}}function VI(n,t,...e){if(n=(0,V.m9)(n),1===arguments.length&&(t=_F.R()),s5("doc","path",t),n instanceof wx){const i=Sn.fromString(t,...e);return LL(i),new wi(n,null,new et(i))}{if(!(n instanceof wi||n instanceof gu))throw new Ve(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Sn.fromString(t,...e));return LL(i),new wi(n.firestore,n instanceof gu?n.converter:null,new et(i))}}function zL(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),(n instanceof wi||n instanceof gu)&&(t instanceof wi||t instanceof gu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function o5(n,t){return n=(0,V.m9)(n),t=(0,V.m9)(t),n instanceof bs&&t instanceof bs&&n.firestore===t.firestore&&tx(n._query,t._query)&&n.converter===t.converter}function GL(n,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class BI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t)}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class PG{constructor(t,e){this.Pc=t,this.It=e,this.metadata=new wr,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}mc(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.Vc()})()}Vc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Sc();if(null===e)return null;const i=t.vc.decode(e),r=Number(i);isNaN(r)&&t.Dc(`length string (${i}) is not valid number`);const s=yield t.Cc(r);return new cG(JSON.parse(s),e.length+r)})()}xc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Sc(){var t=this;return(0,we.Z)(function*(){for(;t.xc()<0&&!(yield t.Nc()););if(0===t.buffer.length)return null;const e=t.xc();e<0&&t.Dc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Cc(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.Nc())&&e.Dc("Reached the end of bundle when more is expected.");const i=e.vc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Dc(t){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${t}`)}Nc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Pc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class LG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ve(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(s,c){const d=rt(s),p=ux(d.It)+"/documents",_={documents:c.map(R=>cx(d.It,R))},b=yield d._o("BatchGetDocuments",p,_,c.length),E=new Map;b.forEach(R=>{const F=function F$(n,t){return"found"in t?function(e,i){$t(!!i.found);const r=pu(e,i.found.name),s=Fr(i.found.updateTime),c=new Kr({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){$t(!!i.missing),$t(!!i.readTime);const r=pu(e,i.missing),s=Fr(i.readTime);return _i.newNoDocument(r,s)}(n,t):pt()}(d.It,R);E.set(F.key.toString(),F)});const A=[];return c.forEach(R=>{const F=E.get(R.toString());$t(!!F),A.push(F)}),A}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new zy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=et.fromPath(r);t.mutations.push(new Nk(s,t.precondition(s)))}),yield(i=(0,we.Z)(function*(r,s){const c=rt(r),d=ux(c.It)+"/documents",p={writes:s.map(_=>dx(c.It,_))};yield c.ao("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pt();e=zt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ve(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(zt.min())?Mi.exists(!1):Mi.updateTime(e):Mi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(zt.min()))throw new Ve(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(e)}return Mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class VG{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.kc=i.maxAttempts,this.xo=new oR(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var t=this;this.xo.Ro((0,we.Z)(function*(){const e=new LG(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Fc(s)}))}).catch(r=>{t.Fc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!Yb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Fc(t){this.kc>0&&this.$c(t)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(t)}$c(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!o6(e)}return!1}}class BG{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Nr.UNAUTHENTICATED,this.clientId=_F.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,we.Z)(function*(d){$e("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=ev(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function WL(n,t){return a5.apply(this,arguments)}function a5(){return a5=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(s){i.isEqual(s)||(yield sL(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),a5.apply(this,arguments)}function ZL(n,t){return l5.apply(this,arguments)}function l5(){return l5=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield c5(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>CL(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>CL(t.remoteStore,s)),n.onlineComponents=t}),l5.apply(this,arguments)}function c5(n){return u5.apply(this,arguments)}function u5(){return u5=(0,we.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield WL(n,new PL)),n.offlineComponents}),u5.apply(this,arguments)}function UI(n){return d5.apply(this,arguments)}function d5(){return d5=(0,we.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield ZL(n,new r5)),n.onlineComponents}),d5.apply(this,arguments)}function qL(n){return c5(n).then(t=>t.persistence)}function HI(n){return c5(n).then(t=>t.localStore)}function h5(n){return UI(n).then(t=>t.remoteStore)}function f5(n){return UI(n).then(t=>t.syncEngine)}function rv(n){return p5.apply(this,arguments)}function p5(){return p5=(0,we.Z)(function*(n){const t=yield UI(n),e=t.eventManager;return e.onListen=pG.bind(null,t.syncEngine),e.onUnlisten=mG.bind(null,t.syncEngine),e}),p5.apply(this,arguments)}function KL(n,t,e={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const _=new BI({next:E=>{s.enqueueAndForget(()=>TR(r,b));const A=E.docs.has(c);!A&&E.fromCache?p.reject(new Ve(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&"server"===d.source?p.reject(new Ve(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new kR(By(c.path),_,{includeMetadataChanges:!0,Nu:!0});return IR(r,b)}(yield rv(n),n.asyncQueue,t,e,i)})),i.promise}function QL(n,t,e={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,c,d,p){const _=new BI({next:E=>{s.enqueueAndForget(()=>TR(r,b)),E.fromCache&&"server"===d.source?p.reject(new Ve(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new kR(c,_,{includeMetadataChanges:!0,Nu:!0});return IR(r,b)}(yield rv(n),n.asyncQueue,t,e,i)})),i.promise}class ZG{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new oR(this,"async_queue_retry"),this.Wc=()=>{const e=PI();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.Po()};const t=PI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=PI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise(()=>{});const e=new wr;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Lc.push(t),this.Jc()))}Jc(){var t=this;return(0,we.Z)(function*(){if(0!==t.Lc.length){try{yield t.Lc[0](),t.Lc.shift(),t.xo.reset()}catch(e){if(!If(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Lc.length>0&&t.xo.Ro(()=>t.Jc())}})()}Hc(t){const e=this.Bc.then(()=>(this.Gc=!0,t().catch(i=>{throw this.Kc=i,this.Gc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=e,e}enqueueAfterDelay(t,e,i){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=DR.createAndSchedule(this,t,e,i,s=>this.Yc(s));return this.qc.push(r),r}zc(){this.Kc&&pt()}verifyOperationInProgress(){}Xc(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Bc,yield e}while(e!==t.Bc)})()}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then(()=>{this.qc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()})}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}function m5(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class qG{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ei extends wx{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ZG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||XL(this),this._firestoreClient.terminate()}}function KG(n,t){const e="object"==typeof n?n:(0,Si.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Si._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,V.P0)("firestore");s&&jL(r,...s)}return r}function rr(n){return n._firestoreClient||XL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XL(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new o$(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new BG(n._authCredentials,n._appCheckCredentials,n._queue,i)}function JL(n,t,e){const i=new wr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield WL(n,e),yield ZL(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ye.FAILED_PRECONDITION||c.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;Bm("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function e9(n){if(n._initialized||n._terminated)throw new Ve(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _u{constructor(t){this._byteString=t}static fromBase64String(t){try{return new _u(Er.fromBase64String(t))}catch(e){throw new Ve(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new _u(Er.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Hd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ve(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ig{constructor(t){this._methodName=t}}class jI{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ve(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ve(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Xt(this._lat,t._lat)||Xt(this._long,t._long)}}const sW=/^__.*__$/;class oW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Vd(t,this.data,this.fieldMask,e,this.fieldTransforms):new $y(t,this.data,e,this.fieldTransforms)}}class t9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Vd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function n9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class $I{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new $I(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.ua(t),r}ca(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:i,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return WI(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(n9(this.sa)&&sW.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class aW{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||bx(t)}da(t,e,i,r=!1){return new $I({sa:t,methodName:e,fa:i,path:qi.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function rg(n){const t=n._freezeSettings(),e=bx(n._databaseId);return new aW(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zI(n,t,e,i,r,s={}){const c=n.da(s.merge||s.mergeFields?2:0,t,e,r);v5("Data must be an object, but it was:",c,i);const d=s9(i,c);let p,_;if(s.merge)p=new fa(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const E of s.mergeFields){const A=b5(t,E,e);if(!c.contains(A))throw new Ve(ye.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);a9(b,A)||b.push(A)}p=new fa(b),_=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,_=c.fieldTransforms;return new oW(new Kr(d),p,_)}class Ex extends ig{_toFieldTransform(t){if(2!==t.sa)throw t.ha(1===t.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ex}}function i9(n,t,e){return new $I({sa:3,fa:t.settings.fa,methodName:n._methodName,oa:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class g5 extends ig{_toFieldTransform(t){return new nx(t.path,new Hy)}isEqual(t){return t instanceof g5}}class lW extends ig{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=i9(this,t,!0),i=this._a.map(s=>sg(s,e)),r=new Zm(i);return new nx(t.path,r)}isEqual(t){return this===t}}class cW extends ig{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=i9(this,t,!0),i=this._a.map(s=>sg(s,e)),r=new qm(i);return new nx(t.path,r)}isEqual(t){return this===t}}class uW extends ig{constructor(t,e){super(t),this.wa=e}_toFieldTransform(t){const e=new jy(t.It,YF(t.It,this.wa));return new nx(t.path,e)}isEqual(t){return this===t}}function _5(n,t,e,i){const r=n.da(1,t,e);v5("Data must be an object, but it was:",r,i);const s=[],c=Kr.empty();jm(i,(p,_)=>{const b=GI(t,p,e);_=(0,V.m9)(_);const E=r.ca(b);if(_ instanceof Ex)s.push(b);else{const A=sg(_,E);null!=A&&(s.push(b),c.set(b,A))}});const d=new fa(s);return new t9(c,d,r.fieldTransforms)}function y5(n,t,e,i,r,s){const c=n.da(1,t,e),d=[b5(t,i,e)],p=[r];if(s.length%2!=0)throw new Ve(ye.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(b5(t,s[A])),p.push(s[A+1]);const _=[],b=Kr.empty();for(let A=d.length-1;A>=0;--A)if(!a9(_,d[A])){const R=d[A];let F=p[A];F=(0,V.m9)(F);const q=c.ca(R);if(F instanceof Ex)_.push(R);else{const ne=sg(F,q);null!=ne&&(_.push(R),b.set(R,ne))}}const E=new fa(_);return new t9(b,E,c.fieldTransforms)}function r9(n,t,e,i=!1){return sg(e,n.da(i?4:3,t))}function sg(n,t){if(o9(n=(0,V.m9)(n)))return v5("Unsupported field value:",t,n),s9(n,t);if(n instanceof ig)return function(e,i){if(!n9(i.sa))throw i.ha(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.oa&&4!==t.sa)throw t.ha("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=sg(c,i.aa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,V.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return YF(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ai.fromDate(e);return{timestampValue:lx(i.It,r)}}if(e instanceof Ai){const r=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lx(i.It,r)}}if(e instanceof jI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _u)return{bytesValue:g6(i.It,e._byteString)};if(e instanceof wi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Fk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ha(`Unsupported field value: ${LI(e)}`)}(n,t)}function s9(n,t){const e={};return DF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jm(n,(i,r)=>{const s=sg(r,t.ra(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function o9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ai||n instanceof jI||n instanceof _u||n instanceof wi||n instanceof ig)}function v5(n,t,e){if(!o9(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=LI(e);throw t.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function b5(n,t,e){if((t=(0,V.m9)(t))instanceof Hd)return t._internalPath;if("string"==typeof t)return GI(n,t);throw WI("Field path arguments must be of type string or ",n,!1,void 0,e)}const dW=new RegExp("[~\\*/\\[\\]]");function GI(n,t,e){if(t.search(dW)>=0)throw WI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Hd(...t.split("."))._internalPath}catch{throw WI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function WI(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ve(ye.INVALID_ARGUMENT,d+n+p)}function a9(n,t){return n.some(e=>e.isEqual(t))}class Dx{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new hW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ZI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class hW extends Dx{data(){return super.data()}}function ZI(n,t){return"string"==typeof t?GI(n,t):t instanceof Hd?t._internalPath:t._delegate._internalPath}function l9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ve(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ix{}function Lf(n,...t){for(const e of t)n=e._apply(n);return n}class fW extends Ix{constructor(t,e,i){super(),this.ma=t,this.ga=e,this.ya=i,this.type="where"}_apply(t){const e=rg(t.firestore),i=function(r,s,c,d,p,_,b){let E;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){p9(b,_);const R=[];for(const F of b)R.push(f9(d,r,F));E={arrayValue:{values:R}}}else E=f9(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||p9(b,_),E=r9(c,"where",b,"in"===_||"not-in"===_);const A=Qr.create(p,_,E);return function(R,F){if(F.dt()){const ne=kk(R);if(null!==ne&&!ne.isEqual(F.field))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ne.toString()}' and '${F.field.toString()}'`);const ke=Mk(R);null!==ke&&m9(0,F.field,ke)}const q=function(ne,ke){for(const Ge of ne.filters)if(ke.indexOf(Ge.op)>=0)return Ge.op;return null}(R,function(ne){switch(ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(null!==q)throw new Ve(ye.INVALID_ARGUMENT,q===F.op?`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`:`Invalid query. You cannot use '${F.op.toString()}' filters with '${q.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new bs(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Ld(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class mW extends Ix{constructor(t,e){super(),this.ma=t,this.pa=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Vy(r,s);return function(d,p){if(null===Mk(d)){const _=kk(d);null!==_&&m9(0,_,p.field)}}(i,c),c}(t._query,this.ma,this.pa);return new bs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Ld(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class c9 extends Ix{constructor(t,e,i){super(),this.type=t,this.Ia=e,this.Ta=i}_apply(t){return new bs(t.firestore,t.converter,mI(t._query,this.Ia,this.Ta))}}class u9 extends Ix{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=h9(t,this.type,this.Ea,this.Aa);return new bs(t.firestore,t.converter,(r=e,new Ld((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class d9 extends Ix{constructor(t,e,i){super(),this.type=t,this.Ea=e,this.Aa=i}_apply(t){const e=h9(t,this.type,this.Ea,this.Aa);return new bs(t.firestore,t.converter,(r=e,new Ld((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function h9(n,t,e,i){if(e[0]=(0,V.m9)(e[0]),e[0]instanceof Dx)return function(r,s,c,d,p){if(!d)throw new Ve(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Uy(r))if(b.field.isKeyField())_.push(Gm(s,d.key));else{const E=d.data.field(b.field);if(Sk(E))throw new Ve(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const A=b.field.canonicalString();throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}_.push(E)}return new kf(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=rg(n.firestore);return function(s,c,d,p,_,b){const E=s.explicitOrderBy;if(_.length>E.length)throw new Ve(ye.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let R=0;R<_.length;R++){const F=_[R];if(E[R].field.isKeyField()){if("string"!=typeof F)throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof F}`);if(!Rk(s)&&-1!==F.indexOf("/"))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${F}' contains a slash.`);const q=s.path.child(Sn.fromString(F));if(!et.isDocumentKey(q))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const ne=new et(q);A.push(Gm(c,ne))}else{const q=r9(d,p,F);A.push(q)}}return new kf(A,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function f9(n,t,e){if("string"==typeof(e=(0,V.m9)(e))){if(""===e)throw new Ve(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rk(t)&&-1!==e.indexOf("/"))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Sn.fromString(e));if(!et.isDocumentKey(i))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gm(n,new et(i))}if(e instanceof wi)return Gm(n,e._key);throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LI(e)}.`)}function p9(n,t){if(!Array.isArray(n)||0===n.length)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ve(ye.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function m9(n,t,e){if(!e.isEqual(t))throw new Ve(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class x5{convertValue(t,e="none"){switch(zm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ki(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($m(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pt()}}convertObject(t,e){const i={};return jm(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new jI(Ki(t.latitude),Ki(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=SF(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qb(t));default:return null}}convertTimestamp(t){const e=Sf(t);return new Ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Sn.fromString(t);$t(D6(i));const r=new Tf(i.get(1),i.get(3)),s=new et(i.popFirst(5));return r.isEqual(e)||ir(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function qI(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class wW extends x5{constructor(t){super(),this.firestore=t}convertBytes(t){return new _u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}class og{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jd extends Dx{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ZI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Sx extends jd{data(t={}){return super.data(t)}}class Vf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new og(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Sx(this._firestore,this._userDataWriter,i.key,i,new og(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ve(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Sx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new og(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new Sx(i._firestore,i._userDataWriter,c.doc.key,c.doc,new og(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:EW(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function EW(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function g9(n,t){return n instanceof jd&&t instanceof jd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Vf&&t instanceof Vf&&n._firestore===t._firestore&&o5(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Bf extends x5{constructor(t){super(),this.firestore=t}convertBytes(t){return new _u(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}function _9(n,t,e){n=_n(n,wi);const i=_n(n.firestore,Ei),r=qI(n.converter,t,e);return sv(i,[zI(rg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Mi.none())])}function y9(n,t,e,...i){n=_n(n,wi);const r=_n(n.firestore,Ei),s=rg(r);let c;return c="string"==typeof(t=(0,V.m9)(t))||t instanceof Hd?y5(s,"updateDoc",n._key,t,e,i):_5(s,"updateDoc",n._key,t),sv(r,[c.toMutation(n._key,Mi.exists(!0))])}function v9(n,...t){var e,i,r;n=(0,V.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||m5(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(m5(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let p,_,b;if(n instanceof wi)_=_n(n.firestore,Ei),b=By(n._key.path),p={next:E=>{t[c]&&t[c](C5(_,n,E))},error:t[c+1],complete:t[c+2]};else{const E=_n(n,bs);_=_n(E.firestore,Ei),b=E._query;const A=new Bf(_);p={next:R=>{t[c]&&t[c](new Vf(_,A,E,R))},error:t[c+1],complete:t[c+2]},l9(n._query)}return function(E,A,R,F){const q=new BI(F),ne=new kR(A,q,R);return E.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return IR(yield rv(E),ne)})),()=>{q.bc(),E.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return TR(yield rv(E),ne)}))}}(rr(_),b,d,p)}function sv(n,t){return function(e,i){const r=new wr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function gG(n,t,e){return FR.apply(this,arguments)}(yield f5(e),i,r)})),r.promise}(rr(n),t)}function C5(n,t,e){const i=e.docs.get(t._key),r=new Bf(n);return new jd(n,r,t._key,i,new og(e.hasPendingWrites,e.fromCache),t.converter)}const PW={maxAttempts:5};class b9{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=rg(t)}set(t,e,i){this._verifyNotCommitted();const r=Uf(t,this._firestore),s=qI(r.converter,e,i),c=zI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Mi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Uf(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof Hd?y5(this._dataReader,"WriteBatch.update",s._key,e,i,r):_5(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Uf(t,this._firestore);return this._mutations=this._mutations.concat(new zy(e._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,t){if((n=(0,V.m9)(n)).firestore!==t)throw new Ve(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class NW extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=rg(t)}get(t){const e=Uf(t,this._firestore),i=new wW(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return pt();const s=r[0];if(s.isFoundDocument())return new Dx(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Dx(this._firestore,i,e._key,null,e.converter);throw pt()})}set(t,e,i){const r=Uf(t,this._firestore),s=qI(r.converter,e,i),c=zI(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=Uf(t,this._firestore);let c;return c="string"==typeof(e=(0,V.m9)(e))||e instanceof Hd?y5(this._dataReader,"Transaction.update",s._key,e,i,r):_5(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Uf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Uf(t,this._firestore),i=new Bf(this._firestore);return super.get(t).then(r=>new jd(this._firestore,i,e._key,r._document,new og(!1,!1),e.converter))}}function w5(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ve("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function C9(){if(typeof Uint8Array>"u")throw new Ve("unimplemented","Uint8Arrays are not available in this environment.")}function w9(){if(!function r$(){return typeof atob<"u"}())throw new Ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Py=Si.SDK_VERSION,(0,Si._registerComponent)(new ta.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new Ei(new Wj(e.getProvider("auth-internal")),new Yj(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ve(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(pF,"3.7.2",n),(0,Si.registerVersion)(pF,"3.7.2","esm2017")}();class Tx{constructor(t){this._delegate=t}static fromBase64String(t){return w9(),new Tx(_u.fromBase64String(t))}static fromUint8Array(t){return C9(),new Tx(_u.fromUint8Array(t))}toBase64(){return w9(),this._delegate.toBase64()}toUint8Array(){return C9(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E5(n){return function zW(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class GW{enableIndexedDbPersistence(t,e){return function QG(n,t){e9(n=_n(n,Ei));const e=rr(n),i=n._freezeSettings(),r=new r5;return JL(e,r,new NL(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function XG(n){e9(n=_n(n,Ei));const t=rr(n),e=n._freezeSettings(),i=new r5;return JL(t,i,new RG(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function JG(n){if(n._initialized&&!n._terminated)throw new Ve(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!pc.C())return Promise.resolve();const r=i+"main";yield pc.delete(r)}),function(i){return e.apply(this,arguments)})(Kk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class E9{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Tf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Bm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){jL(this._delegate,t,e,i)}enableNetwork(){return function tW(n){return function UG(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield qL(n),e=yield h5(n);return t.setNetworkEnabled(!0),function(i){const r=rt(i);return r._u.delete(0),xx(r)}(e)}))}(rr(n=_n(n,Ei)))}(this._delegate)}disableNetwork(){return function nW(n){return function HG(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield qL(n),e=yield h5(n);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const s=rt(r);s._u.add(0),yield Qy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(rr(n=_n(n,Ei)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,FL("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function eW(n){return function(t){const e=new wr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function bG(n,t){return HR.apply(this,arguments)}(yield f5(t),e)})),e.promise}(rr(n=_n(n,Ei)))}(this._delegate)}onSnapshotsInSync(t){return function OW(n,t){return function zG(n,t){const e=new BI(t);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield rv(n),r=e,rt(i).Ru.add(r),void r.next();var i,r})),()=>{e.bc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield rv(n),r=e,void rt(i).Ru.delete(r);var i,r}))}}(rr(n=_n(n,Ei)),m5(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ov(this,$L(this._delegate,t))}catch(e){throw zs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ul(this,VI(this._delegate,t))}catch(e){throw zs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Gs(this,function OG(n,t){if(n=_n(n,wx),s5("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ve(ye.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bs(n,null,(e=t,new Ld(Sn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw zs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function FW(n,t,e){n=_n(n,Ei);const i=Object.assign(Object.assign({},PW),e);return function(r){if(r.maxAttempts<1)throw new Ve(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,c){const d=new wr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const p=yield function YL(n){return UI(n).then(t=>t.datastore)}(r);new VG(r.asyncQueue,p,c,s,d).run()})),d.promise}(rr(n),r=>t(new NW(n,r)),i)}(this._delegate,e=>t(new D9(this,e)))}batch(){return rr(this._delegate),new I9(new b9(this._delegate,t=>sv(this._delegate,t)))}loadBundle(t){return function iW(n,t){const e=rr(n=_n(n,Ei)),i=new qG;return function GG(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return GL(p,_);if(p instanceof ArrayBuffer)return GL(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new PG(p,c);var p}(e,bx(t));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function kG(n,t,e){const i=rt(n);var r;(r=(0,we.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(A,R){const F=rt(A),q=Fr(R.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",ne=>F.Ns.getBundleMetadata(ne,R.id)).then(ne=>!!ne&&ne.createTime.compareTo(q)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(A=p).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);d._updateProgress(DL(p));const _=new uG(p,s.localStore,c.It);let b=yield c.mc();for(;b;){const A=yield _.Fu(b);A&&d._updateProgress(A),b=yield c.mc()}const E=yield _.complete();return yield Ud(s,E.Lu,void 0),yield function(A,R){const F=rt(A);return F.persistence.runTransaction("Save bundle","readwrite",q=>F.Ns.saveBundleMetadata(q,R))}(s.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Bu)}catch(p){return Bm("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var A}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield f5(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function rW(n,t){return function WG(n,t){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const r=rt(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield HI(n),t)}))}(rr(n=_n(n,Ei)),t).then(e=>e?new bs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Gs(this,e):null)}}class YI extends x5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tx(new _u(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ul.forKey(e,this.firestore,null)}}class D9{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new YI(t)}get(t){const e=lg(t);return this._delegate.get(e).then(i=>new Ax(this._firestore,new jd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=lg(t);return i?(w5("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=lg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=lg(t);return this._delegate.delete(e),this}}class I9{constructor(t){this._delegate=t}set(t,e,i){const r=lg(t);return i?(w5("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=lg(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=lg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class ag{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Sx(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Mx(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=ag.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new ag(t,new YI(t),e),r.set(e,s)),s}}ag.INSTANCES=new WeakMap;class ul{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new YI(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ul(e,new wi(e._delegate,i,new et(t)))}static forKey(t,e,i){return new ul(e,new wi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new ov(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ov(this.firestore,$L(this._delegate,t))}catch(e){throw zs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,V.m9)(t))instanceof wi&&zL(this._delegate,t)}set(t,e){e=w5("DocumentReference.set",e);try{return e?_9(this._delegate,t,e):_9(this._delegate,t)}catch(i){throw zs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?y9(this._delegate,t):y9(this._delegate,t,e,...i)}catch(r){throw zs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function kW(n){return sv(_n(n.firestore,Ei),[new zy(n._key,Mi.none())])}(this._delegate)}onSnapshot(...t){const e=S9(t),i=T9(t,r=>new Ax(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return v9(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function IW(n){n=_n(n,wi);const t=_n(n.firestore,Ei),e=rr(t),i=new Bf(t);return function jG(n,t){const e=new wr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield function(p,_){const b=rt(p);return b.persistence.runTransaction("read document","readonly",E=>b.localDocuments.getDocument(E,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ve(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=ev(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield HI(n),t,e);var i})),e.promise}(e,n._key).then(r=>new jd(t,i,n._key,r,new og(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function SW(n){n=_n(n,wi);const t=_n(n.firestore,Ei);return KL(rr(t),n._key,{source:"server"}).then(e=>C5(t,n,e))}(this._delegate):function DW(n){n=_n(n,wi);const t=_n(n.firestore,Ei);return KL(rr(t),n._key).then(e=>C5(t,n,e))}(this._delegate),e.then(i=>new Ax(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ul(this.firestore,this._delegate.withConverter(t?ag.getInstance(this.firestore,t):null))}}function zs(n,t,e){return n.message=n.message.replace(t,e),n}function S9(n){for(const t of n)if("object"==typeof t&&!E5(t))return t;return{}}function T9(n,t){var e,i;let r;return r=E5(n[0])?n[0]:E5(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Ax{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ul(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return g9(this._delegate,t._delegate)}}class Mx extends Ax{data(t){const e=this._delegate.data(t);return function $j(n,t){n||pt()}(void 0!==e),e}}class Gs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new YI(t)}where(t,e,i){try{return new Gs(this.firestore,Lf(this._delegate,function pW(n,t,e){const i=t,r=ZI("where",n);return new fW(r,i,e)}(t,e,i)))}catch(r){throw zs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Gs(this.firestore,Lf(this._delegate,function gW(n,t="asc"){const e=t,i=ZI("orderBy",n);return new mW(i,e)}(t,e)))}catch(i){throw zs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Gs(this.firestore,Lf(this._delegate,function _W(n){return BL("limit",n),new c9("limit",n,"F")}(t)))}catch(e){throw zs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Gs(this.firestore,Lf(this._delegate,function yW(n){return BL("limitToLast",n),new c9("limitToLast",n,"L")}(t)))}catch(e){throw zs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Gs(this.firestore,Lf(this._delegate,function vW(...n){return new u9("startAt",n,!0)}(...t)))}catch(e){throw zs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Gs(this.firestore,Lf(this._delegate,function bW(...n){return new u9("startAfter",n,!1)}(...t)))}catch(e){throw zs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Gs(this.firestore,Lf(this._delegate,function xW(...n){return new d9("endBefore",n,!1)}(...t)))}catch(e){throw zs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Gs(this.firestore,Lf(this._delegate,function CW(...n){return new d9("endAt",n,!0)}(...t)))}catch(e){throw zs(e,"endAt()","Query.endAt()")}}isEqual(t){return o5(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function AW(n){n=_n(n,bs);const t=_n(n.firestore,Ei),e=rr(t),i=new Bf(t);return function $G(n,t){const e=new wr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,c){try{const d=yield kI(r,s,!0),p=new TL(s,d.Hi),_=p.Wu(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=ev(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield HI(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Vf(t,i,n,r))}(this._delegate):"server"===t?.source?function MW(n){n=_n(n,bs);const t=_n(n.firestore,Ei),e=rr(t),i=new Bf(t);return QL(e,n._query,{source:"server"}).then(r=>new Vf(t,i,n,r))}(this._delegate):function TW(n){n=_n(n,bs);const t=_n(n.firestore,Ei),e=rr(t),i=new Bf(t);return l9(n._query),QL(e,n._query).then(r=>new Vf(t,i,n,r))}(this._delegate),e.then(i=>new D5(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=S9(t),i=T9(t,r=>new D5(this.firestore,new Vf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return v9(this._delegate,e,i)}withConverter(t){return new Gs(this.firestore,this._delegate.withConverter(t?ag.getInstance(this.firestore,t):null))}}class ZW{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Mx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class D5{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Mx(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new ZW(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Mx(this._firestore,i))})}isEqual(t){return g9(this._delegate,t._delegate)}}class ov extends Gs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ul(this.firestore,t):null}doc(t){try{return new ul(this.firestore,void 0===t?VI(this._delegate):VI(this._delegate,t))}catch(e){throw zs(e,"doc()","CollectionReference.doc()")}}add(t){return function RW(n,t){const e=_n(n.firestore,Ei),i=VI(n),r=qI(n.converter,t);return sv(e,[zI(rg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Mi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ul(this.firestore,e))}isEqual(t){return zL(this._delegate,t._delegate)}withConverter(t){return new ov(this.firestore,this._delegate.withConverter(t?ag.getInstance(this.firestore,t):null))}}function lg(n){return _n(n,wi)}class I5{constructor(...t){this._delegate=new Hd(...t)}static documentId(){return new I5(qi.keyField().canonicalString())}isEqual(t){return(t=(0,V.m9)(t))instanceof Hd&&this._delegate._internalPath.isEqual(t._internalPath)}}class cg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function VW(){return new g5("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new cg(t)}static delete(){const t=function LW(){return new Ex("deleteField")}();return t._methodName="FieldValue.delete",new cg(t)}static arrayUnion(...t){const e=function BW(...n){return new lW("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new cg(e)}static arrayRemove(...t){const e=function UW(...n){return new cW("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new cg(e)}static increment(t){const e=function HW(n){return new uW("increment",n)}(t);return e._methodName="FieldValue.increment",new cg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const qW={Firestore:E9,GeoPoint:jI,Timestamp:Ai,Blob:Tx,Transaction:D9,WriteBatch:I9,DocumentReference:ul,DocumentSnapshot:Ax,Query:Gs,QueryDocumentSnapshot:Mx,QuerySnapshot:D5,CollectionReference:ov,FieldPath:I5,FieldValue:cg,setLogLevel:function WW(n){!function jj(n){Ef.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function KW(n){(function YW(n,t){n.INTERNAL.registerComponent(new ta.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},qW)))})(n,(t,e)=>new E9(t,e,new GW)),n.registerVersion("@firebase/firestore-compat","0.2.2")}(PM.Z);var KI=B(5363),QW=B(6063);class XW extends dt.x{constructor(t=1/0,e=1/0,i=QW.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var S5=B(3099);function A9(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,S5.B)({connector:()=>new XW(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function M9(n,t){return(0,tr.m)(t)?Jn(()=>n,t):Jn(()=>n)}var T5=B(9468),yu=B(5867);class Hf{constructor(t){return t}}class kx{constructor(){return(0,yu.C6)()}}const A5=new o.OlP("angularfire2._apps"),eZ={provide:Hf,useFactory:function JW(n){return n&&1===n.length?n[0]:new Hf((0,yu.Mq)())},deps:[[new o.FiY,A5]]},tZ={provide:kx,deps:[[new o.FiY,A5]]};function nZ(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new Hf(i)}}let iZ=(()=>{class n{constructor(e){(0,yu.KN)("angularfire",At.q4.full,"core"),(0,yu.KN)("angularfire",At.q4.full,"app"),(0,yu.KN)("angular",o.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[eZ,tZ]}),n})();function rZ(n,...t){return{ngModule:iZ,providers:[{provide:A5,useFactory:nZ(n),multi:!0,deps:[o.R0b,o.zs3,At.HU,...t]}]}}const sZ=(0,At.u3)(yu.ZF,!0),k9=new Map,oZ={activated:!1,tokenObservers:[]},aZ={initialized:!1,enabled:!1};function Br(n){return k9.get(n)||oZ}function dl(n,t){k9.set(n,t)}function QI(){return aZ}class hZ{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new V.BH,yield function fZ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ws=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function O9(n){if(!Br(n).activated)throw Ws.create("use-before-activation",{appName:n.name})}function R5(n,t){return O5.apply(this,arguments)}function O5(){return O5=(0,we.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const R=yield c.getHeartbeatsHeader();R&&(s["X-Firebase-Client"]=R)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(R){throw Ws.create("fetch-network-error",{originalErrorMessage:null===(i=R)||void 0===i?void 0:i.message})}if(200!==p.status)throw Ws.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(R){throw Ws.create("fetch-parse-error",{originalErrorMessage:null===(r=R)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const E=1e3*Number(b[1]),A=Date.now();return{token:_.token,expireTimeMillis:A+E,issuedAtTimeMillis:A}}),O5.apply(this,arguments)}function _Z(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Rx="firebase-app-check-store";let eS=null;function N9(){return eS||(eS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Ws.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Rx,{keyPath:"compositeKey"})}}catch(i){t(Ws.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),eS)}function P5(){return P5=(0,we.Z)(function*(n,t){const i=(yield N9()).transaction(Rx,"readwrite"),s=i.objectStore(Rx).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Ws.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})}),P5.apply(this,arguments)}const Ox=new ea.Yd("@firebase/app-check");function L5(n,t){return(0,V.hl)()?function xZ(n,t){return function F9(n,t){return P5.apply(this,arguments)}(function V9(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ox.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function B9(){return QI().enabled}function U9(){return B5.apply(this,arguments)}function B5(){return B5=(0,we.Z)(function*(){const n=QI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),B5.apply(this,arguments)}const SZ={error:"UNKNOWN_ERROR"};function TZ(n){return V.US.encodeString(JSON.stringify(n),!1)}function tS(n){return U5.apply(this,arguments)}function U5(){return U5=(0,we.Z)(function*(n,t=!1){const e=n.app;O9(e);const i=Br(e);let s,r=i.token;if(r&&!av(r)&&(dl(e,Object.assign(Object.assign({},i),{token:void 0})),r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(av(p)?r=p:yield L5(e,void 0))}if(!t&&r&&av(r))return{token:r.token};let d,c=!1;if(B9()){i.exchangeTokenPromise||(i.exchangeTokenPromise=R5(_Z(e,yield U9()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const p=yield i.exchangeTokenPromise;return yield L5(e,p),dl(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ox.warn(p.message):Ox.error(p),s=p}return r?s?d=av(r)?{token:r.token,internalError:s}:$9(s):(d={token:r.token},dl(e,Object.assign(Object.assign({},i),{token:r})),yield L5(e,r)):d=$9(s),c&&j9(e,d),d}),U5.apply(this,arguments)}function j5(n,t){const e=Br(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),dl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function H9(n){const{app:t}=n,e=Br(t);let i=e.tokenRefresher;i||(i=function AZ(n){const{app:t}=n;return new hZ((0,we.Z)(function*(){let i;if(i=Br(t).token?yield tS(n,!0):yield tS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Br(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),dl(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function j9(n,t){const e=Br(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function av(n){return n.expireTimeMillis-Date.now()>0}function $9(n){return{token:TZ(SZ),error:n}}class MZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Br(this.app);for(const e of t)j5(this.app,e.next);return Promise.resolve()}}const Q9="app-check-internal";!function zZ(){(0,Si._registerComponent)(new ta.wA("app-check",n=>function kZ(n,t){return new MZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Q9).initialize()})),(0,Si._registerComponent)(new ta.wA(Q9,n=>function RZ(n){return{getToken:t=>tS(n,t),addTokenListener:t=>function H5(n,t,e,i){const{app:r}=n,s=Br(r),c={next:e,error:i,type:t};if(dl(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&av(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),H9(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>H9(n))}(n,"INTERNAL",t),removeTokenListener:t=>j5(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Si.registerVersion)("@firebase/app-check","0.5.16")}();class $d{constructor(){return(0,At.vb)("app-check")}}typeof window<"u"&&window;var iS=B(127);const Z5=new o.OlP("angularfire2.auth.use-emulator"),q5=new o.OlP("angularfire2.auth.settings"),Y5=new o.OlP("angularfire2.auth.tenant-id"),K5=new o.OlP("angularfire2.auth.langugage-code"),Q5=new o.OlP("angularfire2.auth.use-device-language"),X5=new o.OlP("angularfire.auth.persistence"),J5=(n,t,e,i,r,s,c,d)=>(0,Cr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let lv=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E,A,R){const F=new dt.x,q=Xe(void 0).pipe((0,KI.Q)(c.outsideAngular),Jn(()=>s.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,5881)))),(0,Ye.U)(()=>(0,Cr.on)(e,s,i)),(0,Ye.U)(ne=>J5(ne,s,d,_,b,E,p,A)),A9({bufferSize:1,refCount:!1}));if(Vo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{q.pipe(X()).subscribe();const ke=q.pipe(Jn(Ke=>Ke.getRedirectResult().then(wt=>wt,()=>null)),At.iC,A9({bufferSize:1,refCount:!1})),Ge=q.pipe(Jn(Ke=>new Hn.y(wt=>({unsubscribe:s.runOutsideAngular(()=>Ke.onAuthStateChanged(St=>wt.next(St),St=>wt.error(St),()=>wt.complete()))})))),Ze=q.pipe(Jn(Ke=>new Hn.y(wt=>({unsubscribe:s.runOutsideAngular(()=>Ke.onIdTokenChanged(St=>wt.next(St),St=>wt.error(St),()=>wt.complete()))}))));this.authState=ke.pipe(M9(Ge),(0,T5.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular)),this.user=ke.pipe(M9(Ze),(0,T5.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular)),this.idToken=this.user.pipe(Jn(Ke=>Ke?(0,dn.D)(Ke.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(Jn(Ke=>Ke?(0,dn.D)(Ke.getIdTokenResult()):Xe(null))),this.credential=(0,uu.T)(ke,F,this.authState.pipe(vn(Ke=>!Ke))).pipe((0,Ye.U)(Ke=>Ke?.user?Ke:null),(0,T5.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular))}return(0,Cr.pX)(this,q,s,{spy:{apply:(ne,ke,Ge)=>{(ne.startsWith("signIn")||ne.startsWith("createUser"))&&Ge.then(Ze=>F.next(Ze))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(At.HU),o.LFG(Z5,8),o.LFG(q5,8),o.LFG(Y5,8),o.LFG(K5,8),o.LFG(Q5,8),o.LFG(X5,8),o.LFG($d,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KZ=(()=>{class n{constructor(){iS.Z.registerVersion("angularfire",At.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[lv]}),n})();function J9(n,t){return function QZ(n,t=yf.z){return new Hn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function eO(n,t){return J9(n,t).pipe((0,Ye.U)(e=>({payload:e,type:"query"})))}function rS(n,t){return eO(n,t).pipe(hi(void 0),OM(),(0,Ye.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function e8(n,t,e){return rS(n,e).pipe(kt((i,r)=>function JZ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function eq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return tO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return tO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return tO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),py(),(0,Ye.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function tO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function t8(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class n8{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=rS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Ye.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(hi(void 0),OM(),vn(([i,r])=>r.length>0||!i),(0,Ye.U)(([i,r])=>r),At.iC)}auditTrail(t){return this.stateChanges(t).pipe(kt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=t8(t);return e8(this.query,e,this.afs.schedulers.outsideAngular).pipe(At.iC)}valueChanges(t={}){return eO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),At.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(At.iC)}add(t){return this.ref.add(t)}doc(t){return new i8(this.ref.doc(t),this.afs)}}class i8{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=o8(i,e);return new n8(r,s,this.afs)}snapshotChanges(){return function XZ(n,t){return J9(n,t).pipe(hi(void 0),OM(),(0,Ye.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(At.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Ye.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(At.iC)}}class tq{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?rS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),vn(e=>e.length>0),At.iC):rS(this.query,this.afs.schedulers.outsideAngular).pipe(At.iC)}auditTrail(t){return this.stateChanges(t).pipe(kt((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=t8(t);return e8(this.query,e,this.afs.schedulers.outsideAngular).pipe(At.iC)}valueChanges(t={}){return eO(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ye.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),At.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(At.iC)}}const r8=new o.OlP("angularfire2.enableFirestorePersistence"),s8=new o.OlP("angularfire2.firestore.persistenceSettings"),nq=new o.OlP("angularfire2.firestore.settings"),iq=new o.OlP("angularfire2.firestore.use-emulator");function o8(n,t=(e=>e)){return{query:t(n),ref:n}}let ug=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E,A,R,F,q,ne,ke,Ge){this.schedulers=p;const Ze=(0,Cr.on)(e,d,i),Ke=b;E&&J5(Ze,d,A,F,q,ne,R,ke),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${Ze.name}.firestore`,"AngularFirestore",Ze.name,()=>{const wt=d.runOutsideAngular(()=>Ze.firestore());if(s&&wt.settings(s),Ke&&wt.useEmulator(...Ke),r&&!Vo(c)){const St=()=>{try{return(0,dn.D)(wt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(hn){return typeof console<"u"&&console.warn(hn),Xe(!1)}};return[wt,d.runOutsideAngular(St)]}return[wt,Xe(!1)]},[s,Ke,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=o8(r,i),d=this.schedulers.ngZone.run(()=>s);return new n8(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new tq(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new i8(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(r8,8),o.LFG(nq,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(At.HU),o.LFG(s8,8),o.LFG(iq,8),o.LFG(lv,8),o.LFG(Z5,8),o.LFG(q5,8),o.LFG(Y5,8),o.LFG(K5,8),o.LFG(Q5,8),o.LFG(X5,8),o.LFG($d,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rq=(()=>{class n{constructor(){iS.Z.registerVersion("angularfire",At.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:r8,useValue:!0},{provide:s8,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ug]}),n})();function sq(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function oq(n,t){}const a8=new o.OlP("MatSnackBarData");class sS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const aq=Math.pow(2,31)-1;class nO{constructor(t,e){this._overlayRef=e,this._afterDismissed=new dt.x,this._afterOpened=new dt.x,this._onAction=new dt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,aq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let lq=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(nO),o.Y36(a8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,sq,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[yn,ua],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const cq={snackBarState:Od("state",[ca("void, hidden",$n({transform:"scale(0.8)",opacity:0})),ca("visible",$n({transform:"scale(1)",opacity:1})),_s("* => visible",gs("150ms cubic-bezier(0, 0, 0.2, 1)")),_s("* => void, * => hidden",gs("75ms cubic-bezier(0.4, 0.0, 1, 1)",$n({opacity:0})))])};let uq=(()=>{class n extends ID{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new dt.x,this._onExit=new dt.x,this._onEnter=new dt.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Rt(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Wi),o.Y36(sS))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(km,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),dq=(()=>{class n extends uq{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,oq,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},dependencies:[km],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[cq.snackBarState]}}),n})(),l8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Iy,Dy,Js,RM,gn,gn]}),n})();const c8=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function hq(){return new sS}});let fq=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:sS,useValue:i}]}),c=new xf(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new sS,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new nO(c,s);if(e instanceof o.Rgc){const p=new yM(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new xf(e,void 0,p),b=c.attachComponentPortal(_);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Nn(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new SD;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:nO,useValue:i},{provide:a8,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(la),o.LFG(wD),o.LFG(o.zs3),o.LFG(_y),o.LFG(n,12),o.LFG(c8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),oS=(()=>{class n extends fq{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=lq,this.snackBarContainerComponent=dq,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(la),o.LFG(wD),o.LFG(o.zs3),o.LFG(_y),o.LFG(n,12),o.LFG(c8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:l8}),n})();var Zs=(()=>(function(n){n[n.Up=1]="Up",n[n.Down=3]="Down",n[n.Right=6]="Right",n[n.Left=8]="Left",n[n.UpMirrored=2]="UpMirrored",n[n.DownMirrored=4]="DownMirrored",n[n.LeftMirrored=5]="LeftMirrored",n[n.RightMirrored=7]="RightMirrored",n[n.Default=0]="Default",n[n.NotJpeg=-1]="NotJpeg",n[n.NotDefined=-2]="NotDefined"}(Zs||(Zs={})),Zs))();class Di{}Di.getOrientation=n=>new Promise((t,e)=>{try{const i=new FileReader;i.onload=()=>{const r=new DataView(i.result);if(!r.byteLength||65496!==r.getUint16(0,!1))return t(Zs.NotDefined);const s=r.byteLength;let c=2;for(;c<s;){const d=r.getUint16(c,!1);if(c+=2,65505===d){if(1165519206!==r.getUint32(c+=2,!1))return t(Zs.NotJpeg);const p=18761===r.getUint16(c+=6,!1);c+=r.getUint32(c+4,p);const _=r.getUint16(c,p);c+=2;for(let b=0;b<_;b++)if(274===r.getUint16(c+12*b,p))return t(r.getUint16(c+12*b+8,p))}else{if(65280!=(65280&d))break;c+=r.getUint16(c,!1)}}return t(Zs.NotJpeg)},i.readAsArrayBuffer(n)}catch{return e(Zs.Default)}}),Di.uploadFile=(n,t=!0,e=!1)=>new Promise(function(i,r){const s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Promise.resolve(s).then(c=>c?Di.generateUploadInputNative(window.document,t,e):Di.generateUploadInputRenderer(n,t,e)).then(c=>{const d=c?Array.from(c):[],p=d.map(E=>Di.getOrientation(E)),_=d.map(E=>Di.fileToDataURL(E));let b=[];Promise.all(p).then(E=>(b=E,Promise.all(_))).then(E=>{const A=E.map((R,F)=>({image:R.dataUrl,orientation:b[F],fileName:R.fileName}));i(t?A:A[0])})}).catch(c=>r(c))}),Di.fileToDataURL=n=>new Promise((t,e)=>{const i=new FileReader;i.onload=r=>{t({dataUrl:r.target.result,fileName:n.name})};try{i.readAsDataURL(n)}catch(r){e(`ngx-image-compress - probably no file have been selected: ${r}`)}}),Di.generateUploadInputRenderer=(n,t=!0,e=!1)=>{let i=!1;return new Promise((r,s)=>{const c=n.createElement("input");n.setStyle(c,"display","none"),n.setProperty(c,"type","file"),n.setProperty(c,"accept","image/*"),t&&n.setProperty(c,"multiple","true"),n.listen(c,"click",d=>{d.target.value=""}),n.listen(c,"change",d=>{i=!0,r(d.target.files)}),e&&window.addEventListener("focus",()=>{setTimeout(()=>{i||s(new Error("file upload on blur - no file selected"))},300)},{once:!0}),c.click()})},Di.generateUploadInputNative=(n,t=!0,e=!1)=>{let i=!1;return new Promise((r,s)=>{const c=n.createElement("input");c.id="upload-input"+new Date,c.style.display="none",c.setAttribute("type","file"),t&&c.setAttribute("multiple","true"),n.body.appendChild(c),c.addEventListener("change",()=>{i=!0,r(c.files),n.body.removeChild(n.getElementById(c.id))},{once:!0}),e&&window.addEventListener("focus",()=>{setTimeout(()=>{!i&&n.getElementById(c.id)&&(s(new Error("file upload on blur - no file selected")),n.body.removeChild(n.getElementById(c.id)))},300)},{once:!0}),c.click()})},Di.compress=(n,t,e,i=50,r=50,s=0,c=0)=>new Promise(function(d,p){r/=100,i/=100;const _=new Image;_.onload=()=>{const b=e.createElement("canvas"),E=b.getContext("2d");if(!E)return p("No canvas context available");let A=_.naturalWidth,R=_.naturalHeight;if(!CSS.supports("image-orientation","from-image")&&(t===Zs.Right||t===Zs.Left)){const Ze=A;A=R,R=Ze}i=Math.min(i,s?s/A:1,c?c/R:1),b.width=A*i,b.height=R*i;const ne=Math.PI/180;CSS.supports("image-orientation","from-image")||t===Zs.Up?E.drawImage(_,0,0,b.width,b.height):t===Zs.Right?(E.save(),E.rotate(90*ne),E.translate(0,-b.width),E.drawImage(_,0,0,b.height,b.width),E.restore()):t===Zs.Left?(E.save(),E.rotate(-90*ne),E.translate(-b.width,0),E.drawImage(_,0,0,b.height,b.width),E.restore()):t===Zs.Down?(E.save(),E.rotate(180*ne),E.translate(-b.width,-b.height),E.drawImage(_,0,0,b.width,b.height),E.restore()):E.drawImage(_,0,0,b.width,b.height);const ke=n.substr(5,n.split(";")[0].length-5),Ge=b.toDataURL(ke,r);d(Ge)},_.onerror=b=>p(b),_.src=n}),Di.byteCount=n=>encodeURI(n).split(/%..|./).length-1,Di.getImageMaxSize=function(){var n=(0,we.Z)(function*(t,e,i){const s=p=>(p/1024/1024).toFixed(2);e&&console.debug("NgxImageCompress - Opening upload window");let d,c=yield Di.uploadFile(i,!1);for(let p=0;p<10;p++){const _=Di.byteCount(c.image);d=yield Di.compress(c.image,c.orientation,i,50,100);const b=Di.byteCount(d);if(console.debug("NgxImageCompress -","Compression from",s(_),"MB to",s(b),"MB"),b>=_)throw 0===p?(e&&console.debug("NgxImageCompress -","File can't be reduced at all - returning the original",s(_),"MB large"),c.image):(e&&console.debug("NgxImageCompress -","File can't be reduced more - returning the best we can, which is ",s(_),"MB large"),c.image);if(b<1024*t*1024)return e&&console.debug("NgxImageCompress -","Here your file",s(b),"MB large"),d;if(9===p)throw e&&console.debug("NgxImageCompress -","File can't reach the desired size after",10,"tries. Returning file ",s(_),"MB large"),c.image;e&&console.debug("NgxImageCompress -","Reached",s(b),"MB large. Trying another time after",p+1,"times"),c.image=d}throw e&&console.debug("NgxImageCompress - Unexpected error"),""});return function(t,e,i){return n.apply(this,arguments)}}();let mq=(()=>{class n{constructor(e){this.DOC_ORIENTATION=Zs,this.render=e.createRenderer(null,null)}byteCount(e){return Di.byteCount(e)}getOrientation(e){return Di.getOrientation(e)}uploadFile(){return Di.uploadFile(this.render,!1)}uploadMultipleFiles(){return Di.uploadFile(this.render,!0)}uploadFileOrReject(){return Di.uploadFile(this.render,!1,!0)}uploadMultipleFilesOrReject(){return Di.uploadFile(this.render,!0,!0)}compressFile(e,i,r=50,s=50,c=0,d=0){return Di.compress(e,i,this.render,r,s,c,d)}uploadAndGetImageWithMaxSize(e=1,i=!1){return Di.getImageMaxSize(e,i,this.render)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mc=(()=>{class n{constructor(e,i,r,s,c,d,p){this.afs=e,this.afAuth=i,this.ngZone=r,this._snackBar=s,this.dialog=c,this.imageCompress=d,this.router=p,this.updatedUserData=new o.vpe,this.updatedLoaderStatus=new o.vpe,this.canWeOpenLB=!0,this.showHomeLoader=!1,this.userProfileImage="../assets/images/defaultProfile.jpg",this.userPrifileLoading="../assets/images/loading.gif",this.noImage="../assets/images/noimage.png",this.uploadDataPathProfile="/projectData/uploadedData/profilePictures",this.blobToFile=(_,b)=>{var E=_;return E.lastModifiedDate=new Date,E.name=b,_},this.realTimeDB=U0(),this.router.events.subscribe(_=>{})}SignIn(e,i){try{this.afAuth.fetchSignInMethodsForEmail(e).then(r=>{r.length<=0?this.showToast(`${e} - email user is not exist.`,"close"):this.afAuth.signInWithEmailAndPassword(e,i).then(s=>{this.afAuth.authState.subscribe(c=>{c&&this.loggedSucess()})}).catch(s=>{this.SignOut(),this.showToast("Please enter valid credentials","close")})})}catch(r){console.error(r)}}SignUp(e,i){try{this.afAuth.fetchSignInMethodsForEmail(e).then(r=>{r.length<=0?(console.log("Creating User"),this.afAuth.createUserWithEmailAndPassword(e,i).then(s=>{this.showToast("User Createrd.","close","default"),this.ngZone.run(()=>{this.router.navigate(["/login"])})}).catch(s=>{console.log(s)})):this.showToast(`${e} - email id is already used.`,"close")})}catch(r){console.error(r)}}OAuthProvider(e){return this.afAuth.signInWithPopup(e).then(i=>{this.loggedSucess()}).catch(i=>{})}SigninWithGoogle(){return this.OAuthProvider(new h1.Q).then(e=>{console.log("Successfully logged in!")}).catch(e=>{console.log(e)})}loggedSucess(){this.isLoggedIn=!0,this.ngZone.run(()=>{this.router.navigate(["/dash"])})}SignOut(){return this.isLoggedIn=!1,this.afAuth.signOut().then(e=>{this.router.navigate(["/login"])})}showToast(e,i,r="bg-danger"){this._snackBar.open(e,i,{horizontalPosition:"end",verticalPosition:"bottom",duration:4e3,panelClass:r})}creatUserCollDefault(){console.log("Creating user");let e=this.afs.doc(`users/${this.userData.uid}`),i={uid:this.userData.uid,email:this.userData.email,displayName:this.userData.displayName,photoURL:this.userData.photoURL,emailVerified:this.userData.emailVerified,accessToDash:!0};return this.checkUserInFSore(),e.set(i,{merge:!0})}checkUserInFSore(){try{this.afAuth.authState.pipe(Rt(1)).subscribe(e=>{if(e)try{this.afs.collection("users").doc(this.userData.uid).valueChanges().pipe(Rt(1)).subscribe(i=>{if(i){let r=this.userData.emailVerified;if(this.userData=i,!this.userData.emailVerified)if(r){console.log("notMatching");let s={emailVerified:r};this.afs.doc(`users/${this.userData.uid}`).update(s)}else e&&this.verifyEmailDiaLog();this.updatedUserData.emit(this.userData),console.log("UserUpdateFireStore \n",this.userData),r&&!this.userData.accessToDash&&this.accessToDashInvalid()}else console.log(1),this.creatUserCollDefault()})}catch(i){console.log(i)}}),this.showProgressBar(!1)}catch(e){console.log(e)}}updateUserProfile(){return this.userData}updateUserMessangers(){return this.userData}verifyEmailDiaLog(){if(this.canWeOpenLB){let e=this.dialog.open(LH,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0});e.afterOpened().subscribe(i=>{this.canWeOpenLB=!1}),e.afterClosed().subscribe(i=>{this.canWeOpenLB=!0,i&&this.SendVerificationMail()})}}accessToDashInvalid(){if(this.canWeOpenLB){let e=this.dialog.open(BH,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0});e.afterOpened().subscribe(i=>{this.canWeOpenLB=!1}),e.afterClosed().subscribe(i=>{this.canWeOpenLB=!0,this.SignOut()})}}SendVerificationMail(){return this.afAuth.currentUser.then(e=>{try{e?.sendEmailVerification()}catch(i){console.log(i),this.SignOut()}}).then(()=>{this.dialog.open(VH,{data:{name:this.userData.displayName,email:this.userData.email},disableClose:!0}).afterClosed().subscribe(i=>{this.SignOut()})})}formatDate(e){var i=new Date(e),r=""+(i.getMonth()+1),s=""+i.getDate(),c=i.getFullYear();return r.length<2&&(r="0"+r),s.length<2&&(s="0"+s),[c,r,s].join("-")}formatDateTimeString(e){var i=e;return[i.getMonth()+1,i.getDate(),i.getFullYear()].join("/")+" "+[i.getHours(),i.getMinutes(),i.getSeconds()].join(":")}dataURItoBlob(e){const i=window.atob(e.split(",")[1]),r=[];for(let s=0;s<i.length;s++)r.push(i.charCodeAt(s));return new Blob([new Uint8Array(r)],{type:"image/jpeg"})}showProgressBar(e){this.showHomeLoader=e,this.updatedLoaderStatus.emit(this.showHomeLoader)}updatedLoaderStatusFun(){return this.showHomeLoader}websoketPanel(e,i){ol(ru(this.realTimeDB,`${e}`),{messageData:i,messageByName:this.userData.displayName,messageByID:this.userData.uid,chaboxId:this.currentOpenChatForSoket||"",unseenMgsData:{sender:this.userData.displayName,count:1}})}setWebSoketDetection(){try{Cm(ru(this.realTimeDB,`${this.userData.uid}`),i=>{const r=i.val();try{r.messageData&&(console.log(r),this.currentChatOpen!=r.messageByID&&this.showToast(`\u{1f514} ${r.messageByName}`,"close","default"),ol(ru(this.realTimeDB,`${this.userData.uid}`),{messageData:"",messageByName:this.userData.displayName,messageByID:this.userData.uid}))}catch(s){console.log(s)}})}catch(e){console.log(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ug),o.LFG(lv),o.LFG(o.R0b),o.LFG(oS),o.LFG(Pm),o.LFG(mq),o.LFG(qn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u8=(()=>{class n{constructor(e,i,r,s,c,d){this.authService=e,this.router=i,this.afs=r,this.afAuth=s,this.ngZone=c,this.auth=d}canActivate(e,i){return new Promise((r,s)=>{this.afAuth.authState.pipe(Rt(1)).subscribe(c=>{console.log("%c Auth Check User ","background: #fff; color: #000"),c?(console.log("%c User Logged In ","background: green; color: #fff"),this.authService.userData=c,r(!0)):(console.log("%c User data not found ","background: red; color: #fff"),this.router.navigate(["/login"]),r(!1))})})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mc),o.LFG(qn),o.LFG(ug),o.LFG(lv),o.LFG(o.R0b),o.LFG(mc))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gq=["primaryValueBar"],_q=Sy(class{constructor(n){this._elementRef=n}},"primary"),yq=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function vq(){const n=(0,o.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),bq=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let xq=0,iO=(()=>{class n extends _q{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Oi.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+xq++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=d8(vf(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=d8(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=bf(e,"transitionend").pipe(vn(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(yq,8),o.Y36(bq,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(gq,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),o._UZ(4,"circle",3),o.qZA()(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},dependencies:[vc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function d8(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Js,gn,gn]}),n})(),aS=(()=>{class n{constructor(e){this.db=e,this.title="myApp",this.loaderView="display: none"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ug))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[["mode","indeterminate",1,"reuestSpinner"]],template:function(e,i){1&e&&o._UZ(0,"mat-progress-bar",0)(1,"router-outlet"),2&e&&o.Akn(i.loaderView)},dependencies:[Uc,iO],styles:[".reuestSpinner[_ngcontent-%COMP%]{position:absolute;top:0;z-index:99;display:none}"]}),n})();const h8="firebasestorage.googleapis.com",f8="storageBucket";class Qi extends V.ZR{constructor(t,e,i=0){super(rO(t),`Firebase Storage: ${e} (${rO(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return rO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function rO(n){return"storage/"+n}function sO(){return new Qi("unknown","An unknown error occurred, please check the error payload for server response.")}function p8(){return new Qi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function m8(){return new Qi("canceled","User canceled the upload/download.")}function g8(){return new Qi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function cv(n){return new Qi("invalid-argument",n)}function _8(){return new Qi("app-deleted","The Firebase app was deleted.")}function y8(n){return new Qi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Px(n,t){return new Qi("invalid-format","String does not match format '"+n+"': "+t)}function Nx(n){throw new Qi("internal-error","Internal error: "+n)}class xs{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=xs.makeFromUrl(t,e)}catch{return new xs(t,"")}if(""===i.path)return i;throw function Rq(n){return new Qi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Ke){Ke.path_=decodeURIComponent(Ke.path)}const E=e.replace(/[.]/g,"\\."),Ze=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Ke){"/"===Ke.path.charAt(Ke.path.length-1)&&(Ke.path_=Ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===h8?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Ke=0;Ke<Ze.length;Ke++){const wt=Ze[Ke],St=wt.regex.exec(t);if(St){let sr=St[wt.indices.path];sr||(sr=""),i=new xs(St[wt.indices.bucket],sr),wt.postModify(i);break}}if(null==i)throw function kq(n){return new Qi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class Fq{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function lS(n){return"string"==typeof n||n instanceof String}function v8(n){return oO()&&n instanceof Blob}function oO(){return typeof Blob<"u"&&!(0,V.UG)()}function aO(n,t,e,i){if(i<t)throw cv(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw cv(`Invalid value for '${n}'. Expected ${e} or less.`)}function zd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function b8(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var jf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(jf||(jf={})),jf))();function x8(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),s=-1!==t.indexOf(n);return e||r||s}class jq{constructor(t,e,i,r,s,c,d,p,_,b,E,A=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=E,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,F)=>{this.resolve_=R,this.reject_=F,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function Bq(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=sO();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?_8():m8():p8())};this.canceled_?e(0,new cS(!1,null,!0)):this.backoffId_=function Lq(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...ne){_||(_=!0,t.apply(null,ne))}function E(ne){r=setTimeout(()=>{r=null,n(R,p())},ne)}function A(){s&&clearTimeout(s)}function R(ne,...ke){if(_)return void A();if(ne)return A(),void b.call(null,ne,...ke);if(p()||c)return A(),void b.call(null,ne,...ke);let Ze;i<64&&(i*=2),1===d?(d=2,Ze=0):Ze=1e3*(i+Math.random()),E(Ze)}let F=!1;function q(ne){F||(F=!0,A(),!_&&(null!==r?(ne||(d=2),clearTimeout(r),E(0)):ne||(d=1)))}return E(0),s=setTimeout(()=>{c=!0,q(!0)},e),q}((i,r)=>{if(r)return void i(!1,new cS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===jf.NO_ERROR,p=s.getStatus();if((!d||x8(p,this.additionalRetryCodes_))&&this.retry){const b=s.getErrorCode()===jf.ABORT;return void i(!1,new cS(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new cS(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function Vq(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class cS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Yq(...n){const t=function qq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(oO())return new Blob(n);throw new Qi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const pa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class lO{constructor(t,e){this.data=t,this.contentType=e||null}}function cO(n,t){switch(n){case pa.RAW:return new lO(C8(t));case pa.BASE64:case pa.BASE64URL:return new lO(w8(n,t));case pa.DATA_URL:return new lO(function Jq(n){const t=new E8(n);return t.base64?w8(pa.BASE64,t.rest):function Xq(n){let t;try{t=decodeURIComponent(n)}catch{throw Px(pa.DATA_URL,"Malformed data URL.")}return C8(t)}(t.rest)}(t),function eY(n){return new E8(n).contentType}(t))}throw sO()}function C8(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function w8(n,t){switch(n){case pa.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw Px(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case pa.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw Px(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Qq(n){return atob(n)}(t)}catch{throw Px(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class E8{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Px(pa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function tY(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class vu{constructor(t,e){let i=0,r="";v8(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(v8(this.data_)){const r=function Kq(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new vu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new vu(i,!0)}}static getBlob(...t){if(oO()){const e=t.map(i=>i instanceof vu?i.data_:i);return new vu(Yq.apply(null,e))}{const e=t.map(c=>lS(c)?cO(pa.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new vu(r,!0)}}uploadData(){return this.data_}}function uO(n){let t;try{t=JSON.parse(n)}catch{return null}return function Hq(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function D8(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function rY(n,t){return t}class qs{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||rY}}let uS=null;function Fx(){if(uS)return uS;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const e=new qs("name");e.xform=function t(s,c){return function sY(n){return!lS(n)||n.length<2?n:D8(n)}(c)},n.push(e);const r=new qs("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),uS=n,uS}function I8(n,t,e){const i=uO(t);return null===i?null:function aY(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function oY(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new xs(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function dO(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const S8="prefixes";class bu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function xu(n){if(!n)throw sO()}function dS(n,t){return function e(i,r){const s=I8(n,r,t);return xu(null!==s),s}}function uv(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Aq(){return new Qi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Tq(){return new Qi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Sq(n){return new Qi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Mq(n){return new Qi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Lx(n){const t=uv(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function Iq(n){return new Qi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function A8(n,t,e){const r=zd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new bu(r,"GET",dS(n,e),c);return d.errorHandler=Lx(t),d}function fY(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=zd(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new bu(d,"GET",function dY(n,t){return function e(i,r){const s=function uY(n,t,e){const i=uO(e);return null===i?null:function cY(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[S8])for(const r of e[S8]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new xs(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new xs(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return xu(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=uv(t),b}function k8(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function _Y(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class hS{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function hO(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{xu(!1)}return xu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const xY={STATE_CHANGED:"state_changed"},Ys={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fO(n){switch(n){case"running":case"pausing":case"canceling":return Ys.RUNNING;case"paused":return Ys.PAUSED;case"success":return Ys.SUCCESS;case"canceled":return Ys.CANCELED;default:return Ys.ERROR}}class CY{constructor(t,e,i){if(function Uq(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function dv(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class EY extends class wY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Nx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nx("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function gc(){return new EY}class N8{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Fx(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(x8(r.status,[])){if(!s)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=p8()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function yY(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=k8(t,i,r),d={name:c.fullPath},p=zd(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=dO(c,e),F=new bu(p,"POST",function R(q){let ne;hO(q);try{ne=q.getResponseHeader("X-Goog-Upload-URL")}catch{xu(!1)}return xu(lS(ne)),ne},n.maxUploadRetryTime);return F.urlParams=d,F.headers=b,F.body=E,F.errorHandler=uv(t),F}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function vY(n,t,e,i){const p=new bu(e,"POST",function s(_){const b=hO(_,["active","final"]);let E=null;try{E=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{xu(!1)}E||xu(!1);const A=Number(E);return xu(!isNaN(A)),new hS(A,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=uv(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,gc,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new hS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function bY(n,t,e,i,r,s,c,d){const p=new hS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function Pq(){return new Qi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const E=p.current;let R="";R=0===b?"finalize":_===b?"upload, finalize":"upload";const F={"X-Goog-Upload-Command":R,"X-Goog-Upload-Offset":`${p.current}`},q=i.slice(E,E+b);if(null===q)throw g8();const Ze=new bu(e,"POST",function ne(Ke,wt){const St=hO(Ke,["active","final"]),hn=p.current+b,sr=i.size();let va;return va="final"===St?dS(t,s)(Ke,wt):null,new hS(hn,sr,"final"===St,va)},t.maxUploadRetryTime);return Ze.headers=F,Ze.body=q.uploadData(),Ze.progressCallback=d||null,Ze.errorHandler=uv(n),Ze}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,gc,r,s,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=A8(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,gc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function R8(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ze="";for(let Ke=0;Ke<2;Ke++)Ze+=Math.random().toString().slice(2);return Ze}();c["Content-Type"]="multipart/related; boundary="+p;const _=k8(t,i,r),b=dO(_,e),R=vu.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===R)throw g8();const F={name:_.fullPath},q=zd(s,n.host,n._protocol),ke=n.maxUploadRetryTime,Ge=new bu(q,"POST",dS(n,e),ke);return Ge.urlParams=F,Ge.headers=c,Ge.body=R.uploadData(),Ge.errorHandler=uv(t),Ge}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,gc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=m8(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=fO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new CY(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(fO(this._state)){case Ys.SUCCESS:dv(this._resolve.bind(null,this.snapshot))();break;case Ys.CANCELED:case Ys.ERROR:dv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(fO(this._state)){case Ys.RUNNING:case Ys.PAUSED:t.next&&dv(t.next.bind(t,this.snapshot))();break;case Ys.SUCCESS:t.complete&&dv(t.complete.bind(t))();break;default:t.error&&dv(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class dg{constructor(t,e){this._service=t,this._location=e instanceof xs?e:xs.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new dg(t,e)}get root(){const t=new xs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D8(this._location.path)}get storage(){return this._service}get parent(){const t=function nY(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new xs(this._location.bucket,t);return new dg(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw y8(t)}}function L8(n,t,e){return pO.apply(this,arguments)}function pO(){return pO=(0,we.Z)(function*(n,t,e){const r=yield V8(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield L8(n,t,r.nextPageToken))}),pO.apply(this,arguments)}function V8(n,t){null!=t&&"number"==typeof t.maxResults&&aO("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=fY(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,gc)}function FY(n){n._throwIfRoot("getDownloadURL");const t=function pY(n,t,e){const r=zd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new bu(r,"GET",function hY(n,t){return function e(i,r){const s=I8(n,r,t);return xu(null!==s),function lY(n,t,e,i){const r=uO(t);if(null===r||!lS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const E=n.fullPath;return zd("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+b8({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=Lx(t),d}(n.storage,n._location,Fx());return n.storage.makeRequestWithTokens(t,gc).then(e=>{if(null===e)throw function Nq(){return new Qi("no-download-url","The given file does not have any download URLs.")}();return e})}function B8(n,t){const e=function iY(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new xs(n._location.bucket,e);return new dg(n.storage,i)}function U8(n,t){if(n instanceof mO){const e=n;if(null==e._bucket)throw function Oq(){return new Qi("no-default-bucket","No default bucket found. Did you set the '"+f8+"' property when initializing the app?")}();const i=new dg(e,e._bucket);return null!=t?U8(i,t):i}return void 0!==t?B8(n,t):n}function UY(n,t){if(t&&function VY(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof mO)return function BY(n,t){return new dg(n,t)}(n,t);throw cv("To use ref(service, url), the first argument must be a Storage instance.")}return U8(n,t)}function H8(n,t){const e=t?.[f8];return null==e?null:xs.makeFromBucketSpec(e,n)}class mO{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=h8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xs.makeFromBucketSpec(r,this._host):H8(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?xs.makeFromBucketSpec(this._url,t):H8(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,we.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,we.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new dg(this,t)}_makeRequest(t,e,i,r,s=!0){if(this._deleted)return new Fq(_8());{const c=function Zq(n,t,e,i,r,s,c=!0){const d=b8(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function Gq(n,t){t&&(n["X-Firebase-GMPID"]=t)}(_,t),function $q(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(_,e),function zq(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(_,s),function Wq(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(_,i),new jq(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(t,this._appId,i,r,e,this._firebaseVersion,s);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(t,e){var i=this;return(0,we.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const j8="@firebase/storage",z8="storage";function G8(n,t){return UY(n=(0,V.m9)(n),t)}function KY(n=(0,Si.getApp)(),t){n=(0,V.m9)(n);const i=(0,Si._getProvider)(n,z8).getImmediate({identifier:t}),r=(0,V.P0)("storage");return r&&W8(i,...r),i}function W8(n,t,e,i={}){!function HY(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,V.Sg)(r,n.app.options.projectId))}(n,t,e,i)}function QY(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new mO(e,i,r,t,Si.SDK_VERSION)}!function XY(){(0,Si._registerComponent)(new ta.wA(z8,QY,"PUBLIC").setMultipleInstances(!0)),(0,Si.registerVersion)(j8,"0.9.13",""),(0,Si.registerVersion)(j8,"0.9.13","esm2017")}();class fS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Z8{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new fS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new fS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new fS(c,this,this._ref)):{next:e.next?c=>e.next(new fS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class q8{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Gd(t,this._service))}get items(){return this._delegate.items.map(t=>new Gd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Gd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function YY(n,t){return B8(n,t)}(this._delegate,t);return new Gd(e,this.storage)}get root(){return new Gd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Gd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Z8(function jY(n,t,e){return function kY(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new N8(n,new vu(t),e)}(n=(0,V.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=pa.RAW,i){this._throwIfRoot("putString");const r=cO(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new Z8(new N8(this._delegate,new vu(r.data,!0),s),this)}listAll(){return function WY(n){return function OY(n){const t={prefixes:[],items:[]};return L8(n,t).then(()=>t)}(n=(0,V.m9)(n))}(this._delegate).then(t=>new q8(t,this.storage))}list(t){return function GY(n,t){return V8(n=(0,V.m9)(n),t)}(this._delegate,t||void 0).then(e=>new q8(e,this.storage))}getMetadata(){return function $Y(n){return function PY(n){n._throwIfRoot("getMetadata");const t=A8(n.storage,n._location,Fx());return n.storage.makeRequestWithTokens(t,gc)}(n=(0,V.m9)(n))}(this._delegate)}updateMetadata(t){return function zY(n,t){return function NY(n,t){n._throwIfRoot("updateMetadata");const e=function mY(n,t,e,i){const s=zd(t.fullServerUrl(),n.host,n._protocol),d=dO(e,i),_=n.maxOperationRetryTime,b=new bu(s,"PATCH",dS(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=Lx(t),b}(n.storage,n._location,t,Fx());return n.storage.makeRequestWithTokens(e,gc)}(n=(0,V.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function ZY(n){return FY(n=(0,V.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function qY(n){return function LY(n){n._throwIfRoot("deleteObject");const t=function gY(n,t){const i=zd(t.fullServerUrl(),n.host,n._protocol),d=new bu(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Lx(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,gc)}(n=(0,V.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw y8(t)}}class Y8{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(K8(t))throw cv("ref() expected a child path but got a URL, use refFromURL instead.");return new Gd(G8(this._delegate,t),this)}refFromURL(t){if(!K8(t))throw cv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{xs.makeFromUrl(t,this._delegate.host)}catch{throw cv("refFromUrl() expected a valid full URL but got an invalid one.")}return new Gd(G8(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){W8(this._delegate,t,e,i)}}function K8(n){return/^[A-Za-z]+:\/\//.test(n)}function nK(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Y8(e,i)}function Q8(n){const t=function rK(n){return new Hn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Td(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ye.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function pS(n){return{getDownloadURL:()=>Xe(void 0).pipe(At.fc,Jn(()=>n.getDownloadURL()),At.iC),getMetadata:()=>Xe(void 0).pipe(At.fc,Jn(()=>n.getMetadata()),At.iC),delete:()=>(0,dn.D)(n.delete()),child:t=>pS(n.child(t)),updateMetadata:t=>(0,dn.D)(n.updateMetadata(t)),put:(t,e)=>Q8(n.put(t,e)),putString:(t,e,i)=>Q8(n.putString(t,e,i)),list:t=>(0,dn.D)(n.list(t)),listAll:()=>(0,dn.D)(n.listAll())}}!function iK(n){const t={TaskState:Ys,TaskEvent:xY,StringFormat:pa,Storage:Y8,Reference:Gd};n.INTERNAL.registerComponent(new ta.wA("storage-compat",nK,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.21")}(PM.Z);const sK=new o.OlP("angularfire2.storageBucket"),oK=new o.OlP("angularfire2.storage.maxUploadRetryTime"),aK=new o.OlP("angularfire2.storage.maxOperationRetryTime"),lK=new o.OlP("angularfire2.storage.use-emulator");let mS=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E){const A=(0,Cr.on)(e,c,i);this.storage=(0,Cr.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const R=c.runOutsideAngular(()=>A.storage(r||void 0)),F=b;return F&&R.useEmulator(...F),p&&R.setMaxUploadRetryTime(p),_&&R.setMaxOperationRetryTime(_),R},[p,_])}ref(e){return pS(this.storage.ref(e))}refFromURL(e){return pS(this.storage.refFromURL(e))}upload(e,i,r){return pS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(sK,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(At.HU),o.LFG(oK,8),o.LFG(aK,8),o.LFG(lK,8),o.LFG($d,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),cK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),uK=(()=>{class n{constructor(){iS.Z.registerVersion("angularfire",At.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[mS],imports:[cK]}),n})();const dK=["*",[["mat-card-footer"]]],hK=["*","mat-card-footer"];let X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),hv=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:hK,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(dK),o.Hsn(0),o.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),fK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})(),pK=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.auth=i,this.afs=r,this.mainApp=s,this.dialog=c,this.fireStorage=d,this.userData=this.auth.userData,this.uid="",this.displayName="",this.email="",this.photoURL="",this.resetPhotoURL="",this.accessToDash="",this.emailVerified="",this.birthDate="",this.updateProfile=""}ngOnInit(){this.setValuesUpdated(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile(),this.setValuesUpdated()})}setValuesUpdated(){this.uid=this.userData.uid,this.displayName=this.userData.displayName||"User",this.email=this.userData.email,this.photoURL=this.userData.photoURL||this.auth.userProfileImage,this.resetPhotoURL=this.userData.photoURL||this.auth.userProfileImage,this.accessToDash=this.userData.accessToDash,this.emailVerified=this.userData.emailVerified,this.birthDate=this.userData.birthDate,this.startDate=new Date(this.birthDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(mc),o.Y36(ug),o.Y36(aS),o.Y36(Pm),o.Y36(mS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dash-home"]],decls:4,vars:1,consts:[[1,"custom_container"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"p"),o._uU(2,"dash-home works!"),o.qZA(),o._uU(3),o.qZA()),2&e&&(o.xp6(3),o.hij(" ",i.userData.displayName,"\n"))},dependencies:[hv]}),n})();const gS=["*"],mK=["content"];function gK(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function _K(n,t){1&n&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const yK=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],vK=["mat-drawer","mat-drawer-content","*"];function bK(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r._onBackdropClicked())}),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function xK(n,t){1&n&&(o.TgZ(0,"mat-sidenav-content"),o.Hsn(1,2),o.qZA())}const CK=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],wK=["mat-sidenav","mat-sidenav-content","*"],J8={transformDrawer:Od("transform",[ca("open, open-instant",$n({transform:"none",visibility:"visible"})),ca("void",$n({"box-shadow":"none",visibility:"hidden"})),_s("void => open-instant",gs("0ms")),_s("void <=> open, open-instant => void",gs("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},DK=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function IK(){return!1}}),gO=new o.OlP("MAT_DRAWER_CONTAINER");let _S=(()=>{class n extends Cb{constructor(e,i,r,s,c){super(r,s,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>yO)),o.Y36(o.SBq),o.Y36(xb),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Cb,useExisting:n}]),o.qOj],ngContentSelectors:gS,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),_O=(()=>{class n{constructor(e,i,r,s,c,d,p,_){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=s,this._ngZone=c,this._interactivityChecker=d,this._doc=p,this._container=_,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new dt.x,this._animationEnd=new dt.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe(vn(b=>b),(0,Ye.U)(()=>{})),this.openedStart=this._animationStarted.pipe(vn(b=>b.fromState!==b.toState&&0===b.toState.indexOf("open")),Pi(void 0)),this._closedStream=this.openedChange.pipe(vn(b=>!b),(0,Ye.U)(()=>{})),this.closedStart=this._animationStarted.pipe(vn(b=>b.fromState!==b.toState&&"void"===b.toState),Pi(void 0)),this._destroyed=new dt.x,this.onPositionChanged=new o.vpe,this._modeChanged=new dt.x,this.openedChange.subscribe(b=>{b?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{bf(this._elementRef.nativeElement,"keydown").pipe(vn(b=>27===b.keyCode&&!this.disableClose&&!xr(b)),Nn(this._destroyed)).subscribe(b=>this._ngZone.run(()=>{this.close(),b.stopPropagation(),b.preventDefault()}))}),this._animationEnd.pipe(py((b,E)=>b.fromState===E.fromState&&b.toState===E.toState)).subscribe(b=>{const{fromState:E,toState:A}=b;(0===A.indexOf("open")&&"void"===E||"void"===A&&0===E.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=In(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=In(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(In(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Rt(1)).subscribe(c=>s(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Cy),o.Y36(cu),o.Y36(Wi),o.Y36(o.R0b),o.Y36(Am),o.Y36(ie,8),o.Y36(gO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&o.Gf(mK,5),2&e){let r;o.iGM(r=o.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&o.WFA("@transform.start",function(s){return i._animationStarted.next(s)})("@transform.done",function(s){return i._animationEnd.next(s)}),2&e&&(o.uIk("align",null),o.d8E("@transform",i._animationState),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:gS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[Cb],encapsulation:2,data:{animation:[J8.transformDrawer]},changeDetection:0}),n})(),yO=(()=>{class n{constructor(e,i,r,s,c,d=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=p,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new dt.x,this._doCheckSubject=new dt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new dt.x,e&&e.change.pipe(Nn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Nn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=In(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:In(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(hi(this._allDrawers),Nn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(hi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Td(10),Nn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(vn(i=>i.fromState!==i.toState),Nn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Nn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Nn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Rt(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Nn((0,uu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Us,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(gM),o.Y36(DK),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,_S,5),o.Suo(r,_O,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(_S,5),2&e){let r;o.iGM(r=o.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:gO,useExisting:n}])],ngContentSelectors:vK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(yK),o.YNc(0,gK,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,_K,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[yn,_S],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),e7=(()=>{class n extends _S{constructor(e,i,r,s,c){super(e,i,r,s,c)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>t7)),o.Y36(o.SBq),o.Y36(xb),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&o.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[o._Bn([{provide:Cb,useExisting:n}]),o.qOj],ngContentSelectors:gS,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),SK=(()=>{class n extends _O{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=In(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=vf(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=vf(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(o.uIk("align",null),o.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),o.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.qOj],ngContentSelectors:gS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.Hsn(2),o.qZA())},dependencies:[Cb],encapsulation:2,data:{animation:[J8.transformDrawer]},changeDetection:0}),n})(),t7=(()=>{class n extends yO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,e7,5),o.Suo(r,SK,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._content=s.first),o.iGM(s=o.CRH())&&(i._allDrawers=s)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[o._Bn([{provide:gO,useExisting:n}]),o.qOj],ngContentSelectors:wK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(o.F$t(CK),o.YNc(0,bK,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,xK,2,0,"mat-sidenav-content",1)),2&e&&(o.Q6J("ngIf",i.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!i._content))},dependencies:[yn,e7],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),TK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Js,gn,Mm,Mm,gn]}),n})();function i7(...n){const t=(0,us.jO)(n),{args:e,keys:i}=so(n),r=new Hn.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let E=!1;(0,zr.Xf)(e[b]).subscribe((0,jn.x)(s,A=>{E||(E=!0,_--),d[b]=A},()=>p--,void 0,()=>{(!p||!E)&&(_||s.next(i?$l(i,d):d),s.complete())}))}});return t?r.pipe(jl(t)):r}let r7=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),hg=(()=>{class n extends r7{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const hl=new o.OlP("NgValueAccessor"),MK={provide:hl,useExisting:(0,o.Gpc)(()=>$f),multi:!0},RK=new o.OlP("CompositionEventMode");let $f=(()=>{class n extends r7{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kK(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(RK,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([MK]),o.qOj]}),n})();function zf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function o7(n){return null!=n&&"number"==typeof n.length}const Xr=new o.OlP("NgValidators"),Gf=new o.OlP("NgAsyncValidators"),PK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jr{static min(t){return function a7(n){return t=>{if(zf(t.value)||zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function l7(n){return t=>{if(zf(t.value)||zf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function c7(n){return zf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function u7(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function d7(n){return zf(n.value)||PK.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function h7(n){return t=>zf(t.value)||!o7(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return f7(t)}static pattern(t){return function p7(n){if(!n)return yS;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(zf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return b7(t)}static composeAsync(t){return x7(t)}}function f7(n){return t=>o7(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function yS(n){return null}function m7(n){return null!=n}function g7(n){return(0,o.QGY)(n)?(0,dn.D)(n):n}function _7(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function y7(n,t){return t.map(e=>e(n))}function v7(n){return n.map(t=>function NK(n){return!n.validate}(t)?t:e=>t.validate(e))}function b7(n){if(!n)return null;const t=n.filter(m7);return 0==t.length?null:function(e){return _7(y7(e,t))}}function vO(n){return null!=n?b7(v7(n)):null}function x7(n){if(!n)return null;const t=n.filter(m7);return 0==t.length?null:function(e){return i7(y7(e,t).map(g7)).pipe((0,Ye.U)(_7))}}function bO(n){return null!=n?x7(v7(n)):null}function C7(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function w7(n){return n._rawValidators}function E7(n){return n._rawAsyncValidators}function xO(n){return n?Array.isArray(n)?n:[n]:[]}function vS(n,t){return Array.isArray(n)?n.includes(t):n===t}function D7(n,t){const e=xO(t);return xO(n).forEach(r=>{vS(e,r)||e.push(r)}),e}function I7(n,t){return xO(t).filter(e=>!vS(n,e))}class S7{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vO(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ks extends S7{get formDirective(){return null}get path(){return null}}class Wd extends S7{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class T7{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fv=(()=>{class n extends T7{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Wd,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),Vx=(()=>{class n extends T7{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ks,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const Bx="VALID",xS="INVALID",pv="PENDING",Ux="DISABLED";function DO(n){return(CS(n)?n.validators:n)||null}function M7(n){return Array.isArray(n)?vO(n):n||null}function IO(n,t){return(CS(t)?t.asyncValidators:n)||null}function k7(n){return Array.isArray(n)?bO(n):n||null}function CS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class P7{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=M7(this._rawValidators),this._composedAsyncValidatorFn=k7(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Bx}get invalid(){return this.status===xS}get pending(){return this.status==pv}get disabled(){return this.status===Ux}get enabled(){return this.status!==Ux}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=M7(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=k7(t)}addValidators(t){this.setValidators(D7(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(D7(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(I7(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(I7(t,this._rawAsyncValidators))}hasValidator(t){return vS(this._rawValidators,t)}hasAsyncValidator(t){return vS(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ux,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Bx,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bx||this.status===pv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ux:Bx}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pv,this._hasOwnPendingAsyncValidator=!0;const e=g7(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?Ux:this.errors?xS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pv)?pv:this._anyControlsHaveStatus(xS)?xS:Bx}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){CS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class mv extends P7{constructor(t,e,i){super(DO(e),IO(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function O7(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function R7(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function wS(n,t){return[...t.path,n]}function Hx(n,t){SO(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function zK(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&N7(n,t)})}(n,t),function WK(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function GK(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&N7(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function $K(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ES(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),IS(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function DS(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function SO(n,t){const e=w7(n);null!==t.validator?n.setValidators(C7(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=E7(n);null!==t.asyncValidator?n.setAsyncValidators(C7(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();DS(t._rawValidators,r),DS(t._rawAsyncValidators,r)}function IS(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=w7(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=E7(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return DS(t._rawValidators,i),DS(t._rawAsyncValidators,i),e}function N7(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F7(n,t){SO(n,t)}function TO(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function V7(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function AO(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===$f?e=s:function YK(n){return Object.getPrototypeOf(n.constructor)===hg}(s)?i=s:r=s}),r||i||e||null}const QK={provide:Ks,useExisting:(0,o.Gpc)(()=>$x)},jx=(()=>Promise.resolve())();let $x=(()=>{class n extends Ks{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new mv({},vO(e),bO(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jx.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Hx(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jx.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jx.then(()=>{const i=this._findContainer(e.path),r=new mv({});F7(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jx.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){jx.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,V7(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xr,10),o.Y36(Gf,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([QK]),o.qOj]}),n})();function B7(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function U7(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fl=class extends P7{constructor(t=null,e,i){super(DO(e),IO(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),CS(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=U7(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){B7(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){B7(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){U7(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},eQ={provide:Wd,useExisting:(0,o.Gpc)(()=>SS)},$7=(()=>Promise.resolve())();let SS=(()=>{class n extends Wd{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new fl,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=AO(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),TO(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$7.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);$7.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?wS(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ks,9),o.Y36(Xr,10),o.Y36(Gf,10),o.Y36(hl,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([eQ]),o.qOj,o.TTD]}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const MO=new o.OlP("NgModelWithFormControlWarning"),sQ={provide:Wd,useExisting:(0,o.Gpc)(()=>kO)};let kO=(()=>{class n extends Wd{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new o.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=AO(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&ES(i,this,!1),Hx(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}TO(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ES(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Xr,10),o.Y36(Gf,10),o.Y36(hl,10),o.Y36(MO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[o._Bn([sQ]),o.qOj,o.TTD]}),n})();const oQ={provide:Ks,useExisting:(0,o.Gpc)(()=>fg)};let fg=(()=>{class n extends Ks{constructor(e,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(IS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Hx(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ES(e.control||null,e,!1),function KK(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,V7(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ES(i||null,e),(n=>n instanceof fl)(r)&&(Hx(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);F7(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function ZK(n,t){return IS(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){SO(this.form,this),this._oldForm&&IS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Xr,10),o.Y36(Gf,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([oQ]),o.qOj,o.TTD]}),n})();const cQ={provide:Wd,useExisting:(0,o.Gpc)(()=>Gx)};let Gx=(()=>{class n extends Wd{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=AO(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),TO(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return wS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Ks,13),o.Y36(Xr,10),o.Y36(Gf,10),o.Y36(hl,10),o.Y36(MO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([cQ]),o.qOj,o.TTD]}),n})();let pg=(()=>{class n{constructor(){this._validator=yS}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yS,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const CQ={provide:Xr,useExisting:(0,o.Gpc)(()=>LO),multi:!0};let LO=(()=>{class n extends pg{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function Q7(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>f7(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o._Bn([CQ]),o.qOj]}),n})(),sV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[G7]}),n})(),EQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sV]}),n})(),DQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:MO,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[sV]}),n})(),gv=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=In(e)}get inset(){return this._inset}set inset(e){this._inset=In(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),o.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),oV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})();const aV=["*"],SQ=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],TQ=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],OQ=CM(Eb(class{})),PQ=Eb(class{}),cV=new o.OlP("MatList"),NQ=new o.OlP("MatNavList");let uV=(()=>{class n extends OQ{constructor(e){super(),this._elementRef=e,this._stateChanges=new dt.x,"action-list"===this._getListType()&&(e.nativeElement.classList.add("mat-action-list"),e.nativeElement.setAttribute("role","group"))}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[o._Bn([{provide:cV,useExisting:n}]),o.qOj,o.TTD],ngContentSelectors:aV,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),hV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),fV=(()=>{class n extends PQ{constructor(e,i,r,s){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new dt.x,this._disabled=!1,this._isInteractiveList=!!(r||s&&"action-list"===s._getListType()),this._list=r||s;const c=this._getHostElement();"button"===c.nodeName.toLowerCase()&&!c.hasAttribute("type")&&c.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Nn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=In(e)}ngAfterContentInit(){!function V4(n,t,e="mat"){n.changes.pipe(hi(n)).subscribe(({length:i})=>{Db(t,`${e}-2-line`,!1),Db(t,`${e}-3-line`,!1),Db(t,`${e}-multi-line`,!1),2===i||3===i?Db(t,`${e}-${i}-line`,!0):i>3&&Db(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(NQ,8),o.Y36(cV,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,dV,5),o.Suo(r,hV,5),o.Suo(r,L4,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._avatar=s.first),o.iGM(s=o.CRH())&&(i._icon=s.first),o.iGM(s=o.CRH())&&(i._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[o.qOj],ngContentSelectors:TQ,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(o.F$t(SQ),o.TgZ(0,"span",0),o._UZ(1,"span",1),o.Hsn(2),o.TgZ(3,"span",2),o.Hsn(4,1),o.qZA(),o.Hsn(5,2),o.qZA()),2&e&&(o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[kD],encapsulation:2,changeDetection:0}),n})(),HQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[MD,DM,gn,j4,Js,MD,gn,j4,oV]}),n})();class mV{}class gV{}class Zd{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zd;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zd?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jQ{encodeKey(t){return _V(t)}encodeValue(t){return _V(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zQ=/%(\d[a-f0-9])/gi,GQ={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _V(n){return encodeURIComponent(n).replace(zQ,(t,e)=>GQ[e]??t)}function TS(n){return`${n}`}class Wf{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jQ,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $Q(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(TS):[TS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Wf({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(TS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(TS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WQ{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function yV(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vV(n){return typeof Blob<"u"&&n instanceof Blob}function bV(n){return typeof FormData<"u"&&n instanceof FormData}class Wx{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function ZQ(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zd),this.context||(this.context=new WQ),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Wf,this.urlWithParams=e}serializeBody(){return null===this.body?null:yV(this.body)||vV(this.body)||bV(this.body)||function qQ(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Wf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bV(this.body)?null:vV(this.body)?this.body.type||null:yV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Wf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((E,A)=>E.set(A,t.setHeaders[A]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((E,A)=>E.set(A,t.setParams[A]),_)),new Wx(e,i,s,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var pr=(()=>((pr=pr||{})[pr.Sent=0]="Sent",pr[pr.UploadProgress=1]="UploadProgress",pr[pr.ResponseHeader=2]="ResponseHeader",pr[pr.DownloadProgress=3]="DownloadProgress",pr[pr.Response=4]="Response",pr[pr.User=5]="User",pr))();class VO{constructor(t,e=200,i="OK"){this.headers=t.headers||new Zd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class BO extends VO{constructor(t={}){super(t),this.type=pr.ResponseHeader}clone(t={}){return new BO({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class AS extends VO{constructor(t={}){super(t),this.type=pr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new AS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xV extends VO{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function UO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let MS=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Wx)s=e;else{let p,_;p=r.headers instanceof Zd?r.headers:new Zd(r.headers),r.params&&(_=r.params instanceof Wf?r.params:new Wf({fromObject:r.params})),s=new Wx(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Xe(s).pipe(ce(p=>this.handler.handle(p)));if(e instanceof Wx||"events"===r.observe)return c;const d=c.pipe(vn(p=>p instanceof AS));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Ye.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Ye.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Wf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,UO(r,i))}post(e,i,r={}){return this.request("POST",e,UO(r,i))}put(e,i,r={}){return this.request("PUT",e,UO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mV))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class CV{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const wV=new o.OlP("HTTP_INTERCEPTORS");let YQ=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const KQ=/^\)\]\}',?\n/;let EV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((R,F)=>r.setRequestHeader(R,F.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const R=r.statusText||"OK",F=new Zd(r.getAllResponseHeaders()),q=function QQ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new BO({headers:F,status:r.status,statusText:R,url:q}),c},p=()=>{let{headers:R,status:F,statusText:q,url:ne}=d(),ke=null;204!==F&&(ke=typeof r.response>"u"?r.responseText:r.response),0===F&&(F=ke?200:0);let Ge=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof ke){const Ze=ke;ke=ke.replace(KQ,"");try{ke=""!==ke?JSON.parse(ke):null}catch(Ke){ke=Ze,Ge&&(Ge=!1,ke={error:Ke,text:ke})}}Ge?(i.next(new AS({body:ke,headers:R,status:F,statusText:q,url:ne||void 0})),i.complete()):i.error(new xV({error:ke,headers:R,status:F,statusText:q,url:ne||void 0}))},_=R=>{const{url:F}=d(),q=new xV({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:F||void 0});i.error(q)};let b=!1;const E=R=>{b||(i.next(d()),b=!0);let F={type:pr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),"text"===e.responseType&&!!r.responseText&&(F.partialText=r.responseText),i.next(F)},A=R=>{let F={type:pr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),i.next(F)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",E),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:pr.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",E),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Bo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const HO=new o.OlP("XSRF_COOKIE_NAME"),jO=new o.OlP("XSRF_HEADER_NAME");class DV{}let XQ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(o.Lbi),o.LFG(HO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),$O=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(DV),o.LFG(jO))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),JQ=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(wV,[]);this.chain=i.reduceRight((r,s)=>new CV(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gV),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),eX=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:$O,useClass:YQ}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:HO,useValue:e.cookieName}:[],e.headerName?{provide:jO,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$O,{provide:wV,useExisting:$O,multi:!0},{provide:DV,useClass:XQ},{provide:HO,useValue:"XSRF-TOKEN"},{provide:jO,useValue:"X-XSRF-TOKEN"}]}),n})(),tX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[MS,{provide:mV,useClass:JQ},EV,{provide:gV,useExisting:EV}],imports:[eX.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const nX=["*"];let kS;function Zx(n){return function iX(){if(void 0===kS&&(kS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(kS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return kS}()?.createHTML(n)||n}function IV(n){return Error(`Unable to find icon with the name "${n}"`)}function SV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function TV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class mg{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let RS=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new mg(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw TV(r);const d=Zx(c);return this._addSvgIconConfig(e,i,new mg("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new mg(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw TV(i);const c=Zx(s);return this._addSvgIconSetConfig(e,new mg("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw SV(e);const r=this._cachedIconsByUrl.get(i);return r?Xe(OS(r)):this._loadSvgIconFromConfig(new mg(e,null)).pipe((0,xe.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,Ye.U)(s=>OS(s)))}getNamedSvgIcon(e,i=""){const r=AV(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):oo(IV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Xe(OS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ye.U)(i=>OS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Xe(r):i7(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(We(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),Xe(null)})))).pipe((0,Ye.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw IV(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,xe.b)(i=>e.svgText=i),(0,Ye.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Xe(null):this._fetchIcon(e).pipe((0,xe.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(Zx("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Zx("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function rX(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!c)throw SV(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,Ye.U)(_=>Zx(_)),lo(()=>this._inProgressUrlFetches.delete(c)),(0,S5.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(AV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return oX(s)?new mg(s.url,null,s.options):new mg(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(MS,8),o.LFG(Go),o.LFG(ie,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OS(n){return n.cloneNode(!0)}function AV(n,t){return n+":"+t}function oX(n){return!(!n.url||!n.options)}const aX=Sy(class{constructor(n){this._elementRef=n}}),lX=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),cX=new o.OlP("mat-icon-location",{providedIn:"root",factory:function uX(){const n=(0,o.f3M)(ie),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),MV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dX=MV.map(n=>`[${n}]`).join(", "),hX=/^url\(['"]?#(.*?)['"]?\)$/;let _v=(()=>{class n extends aX{constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Oi.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=In(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(dX),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)MV.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(hX):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Rt(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(RS),o.$8M("aria-hidden"),o.Y36(cX),o.Y36(o.qLn),o.Y36(lX,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:nX,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),fX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})();const pX=["*",[["mat-toolbar-row"]]],mX=["*","mat-toolbar-row"],gX=Sy(class{constructor(n){this._elementRef=n}});let _X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),yX=(()=>{class n extends gX{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wi),o.Y36(ie))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,_X,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:mX,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(pX),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),vX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[gn,gn]}),n})(),bX=(()=>{class n{constructor(e,i){this.router=e,this.auth=i,this.userData=this.auth.userData,this.dashName="Hardknox",this.showHomeLoader=!1}ngOnInit(){this.auth.checkUserInFSore(),this.auth.setWebSoketDetection(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile()}),this.auth.updatedLoaderStatus.subscribe(e=>{this.showHomeLoader=this.auth.updatedLoaderStatusFun()})}showProgressBar(e){this.auth.showProgressBar(e)}logOutUser(){this.auth.SignOut()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(mc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dash"]],decls:48,vars:5,consts:[["mode","indeterminate"],[1,"example-container"],["mode","over",1,"drawer_p"],["drawer",""],[1,"drawer_list"],["routerLink","/dash",3,"click"],[1,"drawer_menu_icon"],["routerLink","/dash/profile",3,"click"],["routerLink","/dash/messagecenter",3,"click"],[3,"click"],[1,"heigh_100vh"],["color","primary"],[1,"custom_container"],["color","primary",1,"nav_contain"],["mat-icon-button","","aria-label","Example icon-button with menu icon",1,"example-icon",3,"click"],["routerLink","/dash",1,"dashLogo"],[1,"example-spacer"],["mat-icon-button","","aria-label","Example icon-button with heart icon","routerLink","/dash/profile",1,"example-icon","favorite-icon"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"click"],[1,"dashMainRouter"]],template:function(e,i){if(1&e){const r=o.EpF();o._UZ(0,"mat-progress-bar",0),o.TgZ(1,"mat-drawer-container",1)(2,"mat-drawer",2,3)(4,"mat-list",4)(5,"mat-list-item",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(3);return o.KtG(c.toggle())}),o.TgZ(6,"h2"),o._uU(7),o.qZA()(),o._UZ(8,"mat-divider"),o.TgZ(9,"mat-list-item",5),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(3);return o.KtG(c.toggle())}),o.TgZ(10,"mat-icon",6),o._uU(11,"home"),o.qZA(),o._uU(12," Home "),o.qZA(),o._UZ(13,"mat-divider"),o.TgZ(14,"mat-list-item",7),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(3);return o.KtG(c.toggle())}),o.TgZ(15,"mat-icon",6),o._uU(16,"person"),o.qZA(),o._uU(17," Profile "),o.qZA(),o._UZ(18,"mat-divider"),o.TgZ(19,"mat-list-item",8),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(3);return o.KtG(c.toggle())}),o.TgZ(20,"mat-icon",6),o._uU(21,"message"),o.qZA(),o._uU(22," Messages "),o.qZA(),o._UZ(23,"mat-divider"),o.TgZ(24,"mat-list-item",9),o.NdJ("click",function(){return i.logOutUser()}),o.TgZ(25,"mat-icon",6),o._uU(26,"lock"),o.qZA(),o._uU(27," Logout "),o.qZA(),o._UZ(28,"mat-divider"),o.qZA()(),o.TgZ(29,"mat-sidenav-container",10)(30,"mat-toolbar",11)(31,"div",12)(32,"mat-toolbar",13)(33,"button",14),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(3);return o.KtG(c.toggle())}),o.TgZ(34,"mat-icon"),o._uU(35,"menu"),o.qZA()(),o.TgZ(36,"span",15),o._uU(37),o.qZA(),o._UZ(38,"span",16)(39,"span",16),o.TgZ(40,"button",17)(41,"mat-icon"),o._uU(42,"person"),o.qZA()(),o.TgZ(43,"button",18),o.NdJ("click",function(){return i.logOutUser()}),o.TgZ(44,"mat-icon"),o._uU(45,"lock"),o.qZA()()()()(),o.TgZ(46,"div",19),o._UZ(47,"router-outlet"),o.qZA()()()}2&e&&(o.Gre("progressBar ",i.showHomeLoader,""),o.xp6(7),o.Oqu(i.dashName),o.xp6(30),o.Oqu(i.dashName))},dependencies:[Uc,mo,_O,yO,t7,iO,uV,fV,gv,ua,_v,yX]}),n})(),xX=0;const CX=CM(class{}),kV="mat-badge-content";let wX=(()=>{class n extends CX{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._ariaDescriber=r,this._renderer=s,this._animationMode=c,this._color="primary",this._overlap=!0,this.position="above after",this.size="medium",this._id=xX++,this._isInitialized=!1}get color(){return this._color}set color(e){this._setColor(e),this._color=e}get overlap(){return this._overlap}set overlap(e){this._overlap=In(e)}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateHostAriaDescription(e)}get hidden(){return this._hidden}set hidden(e){this._hidden=In(e)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&this._renderer.destroyNode(this._badgeElement),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_createBadgeElement(){const e=this._renderer.createElement("span"),i="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(kV),"NoopAnimations"===this._animationMode&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(i)})}):e.classList.add(i),e}_updateRenderedContent(e){const i=`${e??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateHostAriaDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),e&&this._ariaDescriber.describe(this._elementRef.nativeElement,e),this._description=e}_setColor(e){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),e&&i.add(`mat-badge-${e}`)}_clearExistingBadges(){const e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${kV}`);for(const i of Array.from(e))i!==this._badgeElement&&i.remove()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(tM),o.Y36(o.Qsj),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,i){2&e&&o.ekj("mat-badge-overlap",i.overlap)("mat-badge-above",i.isAbove())("mat-badge-below",!i.isAbove())("mat-badge-before",!i.isAfter())("mat-badge-after",i.isAfter())("mat-badge-small","small"===i.size)("mat-badge-medium","medium"===i.size)("mat-badge-large","large"===i.size)("mat-badge-hidden",i.hidden||!i.content)("mat-badge-disabled",i.disabled)},inputs:{disabled:["matBadgeDisabled","disabled"],color:["matBadgeColor","color"],overlap:["matBadgeOverlap","overlap"],position:["matBadgePosition","position"],content:["matBadge","content"],description:["matBadgeDescription","description"],size:["matBadgeSize","size"],hidden:["matBadgeHidden","hidden"]},features:[o.qOj]}),n})(),EX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[fb,gn,gn]}),n})();const DX=["connectionContainer"],IX=["inputContainer"],SX=["label"];function TX(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function AX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function MX(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function kX(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function RX(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function OX(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,MX,4,1,"ng-container",12),o.YNc(3,kX,1,0,"ng-content",12),o.YNc(4,RX,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function PX(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function NX(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function FX(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function LX(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function VX(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,LX,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const BX=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],UX=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let HX=0;const RV=new o.OlP("MatError");let OV=(()=>{class n{constructor(e,i){this.id="mat-error-"+HX++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:RV,useExisting:n}])]}),n})();const jX={transitionMessages:Od("transitionMessages",[ca("enter",$n({opacity:1,transform:"translateY(0%)"})),_s("void => enter",[$n({opacity:0,transform:"translateY(-5px)"}),gs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),$X=0;const PV=new o.OlP("MatHint");let zX=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+$X++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:PV,useExisting:n}])]}),n})(),gg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),GX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const NV=new o.OlP("MatPrefix");let WX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matPrefix",""]],features:[o._Bn([{provide:NV,useExisting:n}])]}),n})();const FV=new o.OlP("MatSuffix");let LV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:FV,useExisting:n}])]}),n})(),VV=0;const qX=Sy(class{constructor(n){this._elementRef=n}},"primary"),YX=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),GO=new o.OlP("MatFormField");let qx=(()=>{class n extends qX{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new dt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+VV++,this._labelId="mat-form-field-label-"+VV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=In(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(hi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Nn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Nn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,uu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(hi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(hi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Nn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,bf(this._label.nativeElement,"transitionend").pipe(Rt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let E=0;E<b.length;E++)b[E].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(b),A=e.children,R=this._getStartEnd(A[0].getBoundingClientRect());let F=0;for(let q=0;q<A.length;q++)F+=A[q].offsetWidth;c=Math.abs(R-E)-5,d=F>0?.75*F+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Us,8),o.Y36(YX,8),o.Y36(Wi),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,zO,5),o.Suo(r,zO,7),o.Suo(r,gg,5),o.Suo(r,gg,7),o.Suo(r,GX,5),o.Suo(r,RV,5),o.Suo(r,PV,5),o.Suo(r,NV,5),o.Suo(r,FV,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(DX,7),o.Gf(IX,5),o.Gf(SX,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:GO,useExisting:n}]),o.qOj],ngContentSelectors:UX,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(BX),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,TX,9,0,"ng-container",3),o.YNc(4,AX,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,OX,5,16,"label",8),o.qZA()(),o.YNc(10,PX,2,0,"div",9),o.qZA(),o.YNc(11,NX,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,FX,2,1,"div",12),o.YNc(14,VX,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[yn,Qs,bl,pD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[jX.transitionMessages]},changeDetection:0}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Js,gn,eb,gn]}),n})();const HV=pf({passive:!0});let KX=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hi.E;const i=fc(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new dt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,HV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,HV)}}),s}stopMonitoring(e){const i=fc(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wi),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const $V=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),QX=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let XX=0;const JX=oH(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new dt.x}});let Yx=(()=>{class n extends JX{constructor(e,i,r,s,c,d,p,_,b,E){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=E,this._uid="mat-input-"+XX++,this.focused=!1,this.stateChanges=new dt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(F=>ly().has(F)),this._iOSKeyupListener=F=>{const q=F.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,R=A.nodeName.toLowerCase();this._inputValueAccessor=p||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=In(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Jr.required)??!1}set required(e){this._required=In(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ly().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=In(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){QX.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wi),o.Y36(Wd,10),o.Y36($x,8),o.Y36(fg,8),o.Y36(F4),o.Y36($V,10),o.Y36(KX),o.Y36(o.R0b),o.Y36(GO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:zO,useExisting:n}]),o.qOj,o.TTD]}),n})(),eJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[F4],imports:[jV,UV,gn,jV,UV]}),n})();function tJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",16),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.clearChatFind())}),o.TgZ(1,"mat-icon"),o._uU(2,"close"),o.qZA()()}}function nJ(n,t){1&n&&(o.TgZ(0,"button",17)(1,"mat-icon"),o._uU(2,"search"),o.qZA()())}function iJ(n,t){if(1&n&&(o.TgZ(0,"span")(1,"mat-icon",24),o._uU(2,"message"),o.qZA()()),2&n){const e=o.oxw(2).$implicit;o.xp6(1),o.s9C("matBadge",e.unReadMessages)}}function rJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",20),o.NdJ("click",function(){o.CHM(e);const r=o.oxw().$implicit,s=o.oxw();return o.KtG(s.openCharWith(r.uid))}),o._UZ(1,"mat-divider"),o.TgZ(2,"mat-list-item",21),o._UZ(3,"img",5),o.TgZ(4,"span",22),o._uU(5),o.qZA(),o.YNc(6,iJ,3,1,"span",23),o.qZA()()}if(2&n){const e=o.oxw().$implicit,i=o.oxw();o.xp6(3),o.s9C("src",e.photoURL||i.defaultPhotoMe,o.LSH),o.xp6(2),o.hij("",e.displayName||e.email," "),o.xp6(1),o.Q6J("ngIf",e.unReadMessages>0)}}function sJ(n,t){if(1&n&&(o.TgZ(0,"mat-list",18),o.YNc(1,rJ,7,3,"div",19),o.qZA()),2&n){const e=t.$implicit,i=o.oxw();o.xp6(1),o.Q6J("ngIf",e.uid!=i.uid)}}function oJ(n,t){if(1&n&&(o.TgZ(0,"div")(1,"mat-card",37),o._uU(2),o.qZA(),o.TgZ(3,"span",38),o._uU(4),o.qZA()()),2&n){const e=o.oxw().$implicit;o.xp6(2),o.hij(" ",e.messageBody," "),o.xp6(2),o.Oqu(e.messageDateTime)}}function aJ(n,t){if(1&n&&(o.TgZ(0,"mat-card",39),o._uU(1),o.qZA(),o.TgZ(2,"span",40),o._uU(3),o.qZA()),2&n){const e=o.oxw().$implicit;o.xp6(1),o.hij(" ",e.messageBody," "),o.xp6(2),o.Oqu(e.messageDateTime)}}function lJ(n,t){if(1&n&&(o.TgZ(0,"div",32),o.YNc(1,oJ,5,2,"div",35),o.YNc(2,aJ,4,2,"ng-template",null,36,o.W1O),o.qZA()),2&n){const e=t.$implicit,i=o.MAs(3),r=o.oxw(2);o.xp6(1),o.Q6J("ngIf",e.messageFrom==r.uid)("ngIfElse",i)}}function cJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",25)(1,"mat-card",26),o._UZ(2,"img",5),o.TgZ(3,"span",27),o._uU(4),o.qZA(),o._UZ(5,"br"),o.TgZ(6,"span",27),o._uU(7),o.qZA(),o.TgZ(8,"button",28),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closeChatBox())}),o.TgZ(9,"mat-icon"),o._uU(10,"close"),o.qZA()()(),o.TgZ(11,"div",11)(12,"mat-card",29),o.YNc(13,lJ,4,2,"div",30),o._UZ(14,"div",31),o.qZA()(),o.TgZ(15,"div",32)(16,"input",33),o.NdJ("keyup.enter",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.sendMessageTo(r.currentOpenChatOf,r.currentChatOpenUid))})("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.getTypedMessge=r)}),o.qZA(),o.TgZ(17,"button",34),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.sendMessageTo(r.currentOpenChatOf,r.currentChatOpenUid))}),o.TgZ(18,"mat-icon"),o._uU(19,"send"),o.qZA()()()()}if(2&n){const e=o.oxw();o.xp6(2),o.s9C("src",e.currentChatUserId.photoURL,o.LSH),o.xp6(2),o.Oqu(e.currentChatUserId.displayName),o.xp6(3),o.Oqu(e.currentChatUserId.email),o.xp6(6),o.Q6J("ngForOf",e.chatboxShowThisMessges),o.xp6(3),o.Q6J("ngModel",e.getTypedMessge)}}function uJ(n,t){if(1&n&&(o.TgZ(0,"div",41)(1,"div",42)(2,"h1"),o._uU(3,"Hardknox Messanger "),o.TgZ(4,"mat-icon"),o._uU(5," message"),o.qZA()(),o.TgZ(6,"h3"),o._uU(7),o._UZ(8,"br"),o.qZA()()()),2&n){const e=o.oxw();o.xp6(7),o.hij(" Welcome ",e.displayName,"\u{1f600}")}}let dJ=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.auth=i,this.afs=r,this.mainApp=s,this.dialog=c,this.fireStorage=d,this.userData=this.auth.userData,this.uid="",this.displayName="",this.email="",this.photoURL="",this.resetPhotoURL="",this.accessToDash="",this.emailVerified="",this.birthDate="",this.updateProfile="",this.defaultPhotoMe=this.auth.userProfileImage,this.loadView=!1,this.realTimeDB=U0()}ngOnInit(){this.setValuesUpdated(),this.getAllUsers(),this.updateRealTimeChat(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile(),this.setValuesUpdated()})}setValuesUpdated(){this.userData.accessToDash&&(this.loadView=!0),this.uid=this.userData.uid,this.displayName=this.userData.displayName||"User",this.email=this.userData.email,this.photoURL=this.userData.photoURL||this.auth.userProfileImage,this.resetPhotoURL=this.userData.photoURL||this.auth.userProfileImage,this.accessToDash=this.userData.accessToDash,this.emailVerified=this.userData.emailVerified,this.birthDate=this.userData.birthDate,this.contactNumber=this.userData.phoneNumber,this.startDate=new Date(this.birthDate),this.auth.showProgressBar(!1)}getAllUsers(){try{this.afs.collection("users").valueChanges().pipe(Rt(1)).subscribe(e=>{e=e.sort(function(i,r){return r.lastMgsOn-i.lastMgsOn}),this.allUsers=e,this.printUsers=e,this.checkAllUnSeens()})}catch(e){console.log(e)}}checkAllUnSeens(){for(let e=0;e<this.allUsers.length;e++){let i=this.allUsers[e];if(i.uid!=this.uid){let r,s=this.createChatIDCombos(i.uid);try{this.afs.doc(`messageCenter/${s}/unseenBy/${this.uid}/`).valueChanges().pipe(Rt(1)).subscribe(c=>{r=c;let d=0,p=0;c&&(d=parseInt(r.unseenCount),p=r.lastMessageOn),Object.keys(this.allUsers).forEach(_=>{this.allUsers[_].uid==i.uid&&(this.allUsers[_].chatBoxWithMe=s,this.allUsers[_].unReadMessages=d,this.allUsers[_].lastMgsOn=p)}),this.allUsers.sort(function(_,b){return b.lastMgsOn-_.lastMgsOn}),this.printUsers=this.allUsers,console.log(this.printUsers)})}catch(c){console.log(c)}}}}createChatIDCombos(e){return e>this.uid?e+this.uid:this.uid+e}updateUsersListTemo(){if(this.findChat){this.printUsers=[];for(let e=0;e<this.allUsers.length;e++){let i=this.allUsers[e];i.uid!=this.uid&&(i.displayName.toLowerCase().includes(this.findChat.toLowerCase())||i.email.includes(this.findChat))&&this.printUsers.push(i)}}else this.printUsers=this.allUsers}clearChatFind(){this.findChat="",this.updateUsersListTemo()}openCharWith(e){this.currentChatOpenUid=e,this.auth.currentChatOpen=e,e>this.uid?(this.currentOpenChatOf=e+this.uid,this.auth.currentOpenChatForSoket=e+this.uid):(this.currentOpenChatOf=this.uid+e,this.auth.currentOpenChatForSoket=this.uid+e),this.showMessagesOf(this.currentOpenChatOf,e),this.getTypedMessge=""}showMessagesOf(e,i){for(let r=0;r<this.allUsers.length;r++){let s=this.allUsers[r];s.uid==i&&(this.currentChatUserId=s)}this.scrolltoBottomChatBox(),this.checkIfChatBoxExist(e),this.checkBoxIsActive=!0}closeChatBox(){this.checkBoxIsActive=!1,this.currentOpenChatOf=""}sendMessageTo(e,i){try{if(this.getTypedMessge){let c=Date.now();var r=new Date,s=[r.getDate(),r.getMonth()+1,r.getFullYear()].join("/")+" "+[r.getHours(),r.getMinutes()].join(":");let b,d=this.afs.doc(`messageCenter/${e}/massages/new${c}/`),p=this.afs.doc(`messageCenter/${e}/unseenBy/${i}/`);d.set({messageBody:this.getTypedMessge,messageDateTime:s,messageFrom:this.uid,readyByReceiver:!1},{merge:!0}).then(E=>{this.auth.websoketPanel(i,this.getTypedMessge),this.checkIfChatBoxExist(e),this.getTypedMessge=""});try{this.afs.doc(`messageCenter/${e}/unseenBy/${i}/`).valueChanges().pipe(Rt(1)).subscribe(E=>{b=E;let A=1;E&&(A=parseInt(b.unseenCount),A+=1);let R={unseenCount:A,lastMessageOn:Date.now()};p.set(R,{merge:!0}).then(F=>{})})}catch(E){console.log(E)}}}catch(c){console.log(c)}}checkIfChatBoxExist(e){try{Date.now().toString(),this.afs.collection("messageCenter").doc(e).collection("massages",r=>r.orderBy("messageDateTime","desc").limit(15)).valueChanges().pipe(Rt(1)).subscribe(r=>{if(r){let s=[];for(let c=r.length-1;c>=0;c--)s.push(r[c]);if(console.log(s),e==this.currentOpenChatOf){this.chatboxShowThisMessges=s;let c,d=this.afs.doc(`messageCenter/${e}/unseenBy/${this.uid}/`);try{d.valueChanges().pipe(Rt(1)).subscribe(p=>{c=p,d.set({unseenCount:0},{merge:!0}).then(E=>{this.checkAllUnSeens()})})}catch(p){console.log(p)}}this.scrolltoBottomChatBox()}else console.log("Creating Chatbox",r)})}catch(i){console.log(i)}}updateRealTimeChat(){try{Cm(ru(this.realTimeDB,`${this.userData.uid}`),i=>{const r=i.val();try{r.messageData&&(this.checkIfChatBoxExist(r.chaboxId),this.checkAllUnSeens())}catch(s){console.log(s)}})}catch(e){console.log(e)}}scrolltoBottomChatBox(){setTimeout(()=>{document.getElementById("scrolltoLast")?.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},500)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(mc),o.Y36(ug),o.Y36(aS),o.Y36(Pm),o.Y36(mS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-messagecenter"]],decls:24,vars:10,consts:[[1,"custom_container","overF"],[1,"overF","hideInMob"],[1,"width_100","fl","overF","posr"],[1,"charsd_1","posr",3,"ngClass"],["routerLink","/dash/profile",1,"bannerSectMessager"],[1,"profileForChat",3,"src"],[1,"chatTitleProfile1"],[1,"example-form-field","width_100"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Find",4,"ngIf"],[1,"width_100","overf","chatListScrolls"],["class","userChatList",4,"ngFor","ngForOf"],[1,"charsd_2",3,"ngClass"],["class","width_100 chatPannel",4,"ngIf"],["class","width_100 custom_home_chat",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matSuffix","","mat-icon-button","","aria-label","Find"],[1,"userChatList"],["class","width_100",3,"click",4,"ngIf"],[1,"width_100",3,"click"],[1,"mat-list-item-content_p","posr"],[1,"listChatName"],[4,"ngIf"],[3,"matBadge"],[1,"width_100","chatPannel"],[1,"bannerSectMessager"],[1,"chatTitleProfile1","v2"],[1,"closeChatBox",3,"click"],[1,"width_100","chatPannel","chatParent"],["class","width_100 fl posr",4,"ngFor","ngForOf"],["id","scrolltoLast",1,"width_100","fl","overF"],[1,"width_100","fl","posr"],["placeholder","Type a message",1,"sendChatMgs",3,"ngModel","keyup.enter","ngModelChange"],[1,"sendMgsChat",3,"click"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"sendByMe","message_container_single"],[1,"mgstime","timebyme"],[1,"anotherCenter","message_container_single"],[1,"mgstime","timebysender"],[1,"width_100","custom_home_chat"],[1,"t_a_c","width_100"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"mat-card-content",1)(2,"h3"),o._uU(3,"Message Center "),o.qZA(),o._UZ(4,"mat-divider"),o.qZA(),o.TgZ(5,"div",2)(6,"mat-card",3)(7,"mat-card",4),o._UZ(8,"img",5),o.TgZ(9,"span",6),o._uU(10),o.qZA()(),o.TgZ(11,"mat-form-field",7)(12,"mat-label"),o._uU(13,"Find specific user"),o.qZA(),o.TgZ(14,"input",8),o.NdJ("ngModelChange",function(s){return i.findChat=s})("keyup",function(){return i.updateUsersListTemo()}),o.qZA(),o.YNc(15,tJ,3,0,"button",9),o.YNc(16,nJ,3,0,"button",10),o.qZA(),o._UZ(17,"mat-divider"),o.TgZ(18,"div",11),o.YNc(19,sJ,2,1,"mat-list",12),o._UZ(20,"mat-divider"),o.qZA()(),o.TgZ(21,"mat-card",13),o.YNc(22,cJ,20,5,"div",14),o.YNc(23,uJ,9,1,"div",15),o.qZA()()()),2&e&&(o.xp6(6),o.Q6J("ngClass",1==i.checkBoxIsActive?"nonactive":"active"),o.xp6(2),o.s9C("src",i.photoURL,o.LSH),o.xp6(2),o.Oqu(i.displayName),o.xp6(4),o.Q6J("ngModel",i.findChat),o.xp6(1),o.Q6J("ngIf",i.findChat),o.xp6(1),o.Q6J("ngIf",!i.findChat),o.xp6(3),o.Q6J("ngForOf",i.printUsers),o.xp6(2),o.Q6J("ngClass",1==i.checkBoxIsActive?"active":"nonactive"),o.xp6(1),o.Q6J("ngIf",i.currentChatUserId),o.xp6(1),o.Q6J("ngIf",!i.currentOpenChatOf))},dependencies:[pn,ss,yn,mo,$f,fv,SS,uV,fV,gv,wX,hv,X8,ua,qx,gg,LV,Yx,_v],styles:[".charsd_1[_ngcontent-%COMP%], .charsd_2[_ngcontent-%COMP%]{width:35%;float:left;overflow:hidden;height:calc(100vh - 200px)}.charsd_2[_ngcontent-%COMP%]{width:65%}.bannerSectMessager[_ngcontent-%COMP%]{left:0;width:99%;right:0;margin-bottom:20px!important;background:#673ab7;color:#fff;overflow:hidden}.profileForChat[_ngcontent-%COMP%]{width:40px;max-height:40px;border-radius:50%;overflow:hidden;margin-right:15px;display:block;float:left}.chatTitleProfile1[_ngcontent-%COMP%]{font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:70%;display:block;float:left;padding-top:9px}.userChatList[_ngcontent-%COMP%]{padding-top:0;cursor:pointer}.chatListScrolls[_ngcontent-%COMP%]{height:calc(100% - 130px);margin-bottom:10px}.chatParent[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;background:transparent;box-shadow:inset 0 0 4px transparent}.chatParent[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#673ab7;border-radius:10px}.chatPannel[_ngcontent-%COMP%]{height:99%}.custom_home_chat[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#673ab726;display:flex;justify-content:center;align-items:center}.sendChatMgs[_ngcontent-%COMP%]{width:100%;height:40px;background:#fff;border:1px solid #673ab7;border-radius:7px;padding-left:15px;outline:none;padding-right:90px}.sendMgsChat[_ngcontent-%COMP%]{width:70px;position:absolute;top:0;right:0;height:40px;display:flex;justify-content:center;align-items:center;border-radius:9px;color:#fff;background:#673ab7;outline:none;border:none}.chatParent[_ngcontent-%COMP%]{background-color:#673ab726;height:98%;overflow-y:scroll}.message_container_single[_ngcontent-%COMP%]{width:auto;border-radius:30px;font-size:12px;padding:8px 20px;margin-bottom:20px;position:relative}.anotherCenter[_ngcontent-%COMP%]{border-top-left-radius:0;float:left}.sendByMe[_ngcontent-%COMP%]{border-top-right-radius:0;float:right;background:#673ab7;color:#fff}.mgstime[_ngcontent-%COMP%]{position:absolute;bottom:-3px;font-size:10px;display:none}.timebyme[_ngcontent-%COMP%]{right:0}.timebysender[_ngcontent-%COMP%]{left:0}.chatTitleProfile1.v2[_ngcontent-%COMP%]{font-size:14px;line-height:18px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:70%;display:block;float:left;padding-top:0}.mat-list-item-content_p[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]{width:100%;justify-content:center}.listChatName[_ngcontent-%COMP%]{display:block;width:70%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.closeChatBox[_ngcontent-%COMP%]{display:none}@media screen and (max-width: 900px){.charsd_1[_ngcontent-%COMP%]{width:100%;margin:0 auto;float:unset}.charsd_1.nonactive[_ngcontent-%COMP%]{display:none}.charsd_2[_ngcontent-%COMP%]{width:100%;display:none}.charsd_2.active[_ngcontent-%COMP%]{display:block}.closeChatBox[_ngcontent-%COMP%]{display:block;position:absolute;right:10px;top:22px;background:none;border:none;outline:none;color:#fff}.bannerSectMessager[_ngcontent-%COMP%]{width:100%}.hideInMob[_ngcontent-%COMP%]{display:none}}"]}),n})();function hJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email address "),o.qZA())}function fJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Email is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function pJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid Password. "),o.qZA())}function mJ(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Password is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}let gJ=(()=>{class n{constructor(e,i,r){this.router=e,this._snackBar=i,this.auth=r,this.userName=new fl("",[Jr.required,Jr.email]),this.userPass=new fl("",[Jr.required,Jr.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")])}ngOnInit(){}logInCustom(){this.userName.hasError("required")||this.userName.hasError("email")||this.userPass.hasError("required")||this.userPass.hasError("pattern")?this.auth.showToast("Please enter valid values","close"):this.auth.SignIn(this.userName.value,this.userPass.value)}clearLogInForm(){this.userName.setValue(""),this.userPass.setValue("")}logInGoogleAlc(){this.auth.SigninWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(oS),o.Y36(mc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:50,vars:6,consts:[[1,"container-custom"],[1,"example-form",3,"ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[4,"ngIf"],["matInput","","placeholder","Password","value","","type","password",3,"formControl"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["type","button","mat-raised-button","",1,"width_100",3,"click"],["height","100%","viewBox","0 0 20 20","width","100%","fit","","preserveAspectRatio","xMidYMid meet","focusable","false",1,"googleCreateIocn"],["d","M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z","fill","#4285F4"],["d","M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z","fill","#34A853"],["d","M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z","fill","#FBBC05"],["d","M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z","fill","#EA4335"],[1,"example-button-row","my-4","overF"],["type","button","mat-raised-button","","color","primary","routerLink","/signup",1,"width_100"],[1,"overF","mt_20"],["routerLink","/dash"],["routerLink","/resetpass",2,"float","right"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"h2"),o._uU(2,"Login"),o.qZA(),o.TgZ(3,"form",1),o.NdJ("ngSubmit",function(){return i.logInCustom()}),o.TgZ(4,"mat-form-field",2)(5,"mat-label"),o._uU(6,"Email"),o.qZA(),o._UZ(7,"input",3),o.YNc(8,hJ,2,0,"mat-error",4),o.YNc(9,fJ,4,0,"mat-error",4),o.qZA(),o.TgZ(10,"mat-form-field",2)(11,"mat-label"),o._uU(12,"Password"),o.qZA(),o._UZ(13,"input",5),o.YNc(14,pJ,2,0,"mat-error",4),o.YNc(15,mJ,4,0,"mat-error",4),o.qZA(),o._UZ(16,"mat-divider"),o.TgZ(17,"section")(18,"div",6)(19,"button",7),o.NdJ("click",function(){return i.clearLogInForm()}),o.TgZ(20,"mat-icon",8),o._uU(21," clear_all"),o.qZA(),o._uU(22,"Clear "),o.qZA(),o.TgZ(23,"button",9)(24,"mat-icon",8),o._uU(25,"lock_open"),o.qZA(),o._uU(26," LogIn "),o.qZA()()(),o._UZ(27,"mat-divider"),o.TgZ(28,"section")(29,"div",6)(30,"button",10),o.NdJ("click",function(){return i.logInGoogleAlc()}),o.O4$(),o.TgZ(31,"svg",11),o._UZ(32,"path",12)(33,"path",13)(34,"path",14)(35,"path",15),o.qZA(),o._uU(36," LogIn to Google Account "),o.qZA()()(),o.kcU(),o._UZ(37,"mat-divider"),o.TgZ(38,"section")(39,"div",16)(40,"button",17)(41,"mat-icon",8),o._uU(42,"account_box"),o.qZA(),o._uU(43," Create Account "),o.qZA()()(),o._UZ(44,"mat-divider"),o.TgZ(45,"section",18)(46,"a",19),o._uU(47,"Dash"),o.qZA(),o.TgZ(48,"a",20),o._uU(49,"Forgot Password ?"),o.qZA()()()()),2&e&&(o.xp6(7),o.Q6J("formControl",i.userName),o.xp6(1),o.Q6J("ngIf",i.userName.hasError("email")&&!i.userName.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.userName.hasError("required")),o.xp6(4),o.Q6J("formControl",i.userPass),o.xp6(1),o.Q6J("ngIf",i.userPass.hasError("pattern")&&!i.userPass.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.userPass.hasError("required")))},dependencies:[yn,mo,jc,zx,$f,fv,Vx,$x,kO,gv,hv,ua,OV,qx,gg,Yx,_v],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})();const _J=["mat-calendar-body",""];function yJ(n,t){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function vJ(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function bJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7)(1,"button",8),o.NdJ("click",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._cellClicked(c,r))})("focus",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._emitActiveDateChange(c,r))}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._UZ(4,"div",10),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function xJ(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,vJ,2,6,"td",5),o.YNc(2,bJ,5,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function CJ(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const wJ=["*"];function EJ(n,t){}function DJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("_userSelection",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dateSelected(r))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function IJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("monthSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"month"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function SJ(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("yearSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"year"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function TJ(n,t){}const AJ=["button"];function MJ(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const kJ=[[["","matDatepickerToggleIcon",""]]],RJ=["[matDatepickerToggleIcon]"];let Kx=(()=>{class n{constructor(){this.changes=new dt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WO{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let yv=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this.activeDateChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Rt(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ZO(e,this.startValue,this.endValue)}_isRangeEnd(e){return qO(e,this.startValue,this.endValue)}_isInRange(e){return YO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ZO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return qO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return YO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ZO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return qO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return YO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(zV(e)?i=e:zV(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:_J,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,yJ,3,6,"tr",0),o.YNc(1,xJ,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},dependencies:[pn,ss,yn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function zV(n){return"TD"===n.nodeName}function ZO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function qO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function YO(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class To{constructor(t,e){this.start=t,this.end=e}}let Zf=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new dt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),OJ=(()=>{class n extends Zf{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Wr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const GV={provide:Zf,deps:[[new o.FiY,new o.tp0,Zf],Wr],useFactory:function NJ(n,t){return n||new OJ(t)}},PS=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let WV=(()=>{class n{constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=Oi.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof To?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof To?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!xr(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new WO(r+1,i[r],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof To?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Om,8),o.Y36(Wr,8),o.Y36(Us,8),o.Y36(PS,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(yv,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,CJ,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[ss,yv],encapsulation:2,changeDetection:0}),n})(),ZV=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Oi.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),qV(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof To?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Qx(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Qx(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Qx(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Qx(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new WO(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof To){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Wr,8),o.Y36(Us,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(yv,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[yv],encapsulation:2,changeDetection:0}),n})();function qV(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=YV(n,i,r);return Math.floor((s-d)/24)===Math.floor((c-d)/24)}function Qx(n,t,e,i){return function BJ(n,t){return(n%t+t)%t}(n.getYear(t)-YV(n,e,i),24)}function YV(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let KV=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Oi.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof To?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(hi(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new WO(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof To?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Om,8),o.Y36(Wr,8),o.Y36(Us,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(yv,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[yv],encapsulation:2,changeDetection:0}),n})(),UJ=0,HJ=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+UJ++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Qx(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):qV(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Kx),o.Y36((0,o.Gpc)(()=>XO)),o.Y36(Wr,8),o.Y36(Om,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:wJ,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},dependencies:[ua],encapsulation:2,changeDetection:0}),n})(),XO=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new dt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof To?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new xf(this.headerComponent||HJ),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof To||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Kx),o.Y36(Wr,8),o.Y36(Om,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(WV,5),o.Gf(KV,5),o.Gf(ZV,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([GV]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,EJ,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,DJ,1,8,"mat-month-view",2),o.YNc(3,IJ,1,6,"mat-year-view",3),o.YNc(4,SJ,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[Qs,bl,uM,km,WV,KV,ZV],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const QV={transformPanel:Od("transformPanel",[_s("void => enter-dropdown",gs("120ms cubic-bezier(0, 0, 0.2, 1)",IM([$n({opacity:0,transform:"scale(1, 0.8)"}),$n({opacity:1,transform:"scale(1, 1)"})]))),_s("void => enter-dialog",gs("150ms cubic-bezier(0, 0, 0.2, 1)",IM([$n({opacity:0,transform:"scale(0.7)"}),$n({transform:"none",opacity:1})]))),_s("* => void",gs("100ms linear",$n({opacity:0})))]),fadeInCalendar:Od("fadeInCalendar",[ca("void",$n({opacity:0})),ca("enter",$n({opacity:1})),_s("void => *",gs("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let jJ=0;const XV=new o.OlP("mat-datepicker-scroll-strategy"),zJ={provide:XV,deps:[la],useFactory:function $J(n){return()=>n.scrollStrategies.reposition()}},GJ=Sy(class{constructor(n){this._elementRef=n}});let WJ=(()=>{class n extends GJ{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new Oi.w0,this._animationDone=new dt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof To;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Zf),o.Y36(Wr),o.Y36(PS,8),o.Y36(Kx))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(XO,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,TJ,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},dependencies:[pn,ua,xD,km,XO],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[QV.transformPanel,QV.fadeInCalendar]},changeDetection:0}),n})(),JV=(()=>{class n{constructor(e,i,r,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=Oi.w0.EMPTY,this._document=(0,o.f3M)(ie),this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+jJ++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new dt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=In(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=In(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=In(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function fD(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){In(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof S4&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Sm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;const e=this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus,i=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){const{instance:r,location:s}=this._componentRef;r._startExitAnimation(),r._animationDone.pipe(Rt(1)).subscribe(()=>{const c=this._document.activeElement;e&&(!c||c===this._document.activeElement||s.nativeElement.contains(c))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()})}e?setTimeout(i):i()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new xf(WJ,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new SD({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Rt(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,uu.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(vn(i=>27===i.keyCode&&!xr(i)||this.datepickerInput&&xr(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(la),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(XV),o.Y36(Wr,8),o.Y36(Us,8),o.Y36(Zf))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),ZJ=(()=>{class n extends JV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([GV,{provide:JV,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class NS{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let qJ=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new dt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Oi.w0.EMPTY,this._localeSubscription=Oi.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=In(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new NS(this,this._elementRef.nativeElement)),this.dateChange.emit(new NS(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function YJ(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new NS(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new NS(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wr,8),o.Y36(Om,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const KJ={provide:hl,useExisting:(0,o.Gpc)(()=>JO),multi:!0},QJ={provide:Xr,useExisting:(0,o.Gpc)(()=>JO),multi:!0};let JO=(()=>{class n extends qJ{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Oi.w0.EMPTY,this._validator=Jr.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Wr,8),o.Y36(Om,8),o.Y36(GO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([KJ,QJ,{provide:$V,useExisting:n}]),o.qOj]}),n})(),XJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),JJ=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Oi.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=In(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:Xe(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:Xe(),r=this.datepicker?(0,uu.T)(this.datepicker.openedStream,this.datepicker.closedStream):Xe();this._stateChanges.unsubscribe(),this._stateChanges=(0,uu.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Kx),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,XJ,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(AJ,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:RJ,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(kJ),o.TgZ(0,"button",0,1),o.YNc(2,MJ,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[yn,ua],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),eB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Kx,zJ],imports:[Js,RM,Iy,fb,Dy,gn,Mm]}),n})();const eee=["tooltip"],tB="tooltip-panel",nB=pf({passive:!0}),iB=new o.OlP("mat-tooltip-scroll-strategy"),ree={provide:iB,deps:[la],useFactory:function iee(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},see=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function oee(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let aee=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E,A,R){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=_,this._dir=E,this._defaultOptions=A,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new dt.x,this._scrollStrategy=b,this._document=R,A&&(A.position&&(this.position=A.position),A.touchGestures&&(this.touchGestures=A.touchGestures)),E.change.pipe(Nn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=In(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=vf(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=vf(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Nn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,nB)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const i=this._createOverlay();this._detach(),this._portal=this._portal||new xf(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Nn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Nn(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${tB}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Nn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Nn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Nn(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!xr(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Rt(1),Nn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${tB}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,nB)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),lee=(()=>{class n extends aee{constructor(e,i,r,s,c,d,p,_,b,E,A,R){super(e,i,r,s,c,d,p,_,b,E,A,R),this._tooltipComponent=uee}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(la),o.Y36(o.SBq),o.Y36(xb),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(Wi),o.Y36(tM),o.Y36(cu),o.Y36(iB),o.Y36(Us,8),o.Y36(see,8),o.Y36(ie))},n.\u0275dir=o.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),n})(),cee=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new dt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n}),n})(),uee=(()=>{class n extends cee{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(_y),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(eee,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&o.Udp("zoom",i.isVisible()?1:null)},features:[o.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0,1),o.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),o.ALo(2,"async"),o._uU(3),o.qZA()),2&e){let r;o.ekj("mat-tooltip-handset",null==(r=o.lcZ(2,4,i._isHandset))?null:r.matches),o.Q6J("ngClass",i.tooltipClass),o.xp6(3),o.Oqu(i.message)}},dependencies:[pn,ep],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),dee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[ree],imports:[fb,Js,Iy,gn,gn,Mm]}),n})();function hee(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-card",1)(1,"mat-card-content",2)(2,"h3"),o._uU(3,"Profile Section "),o.qZA(),o._UZ(4,"mat-divider"),o.TgZ(5,"h3"),o._uU(6,"\xa0"),o.qZA(),o.TgZ(7,"div",3)(8,"div",4)(9,"div",5)(10,"label",6)(11,"img",7),o.NdJ("error",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.errImage(r))}),o.qZA(),o.TgZ(12,"div",8)(13,"p",9),o._uU(14,"Edit Profile"),o.qZA()()(),o.TgZ(15,"input",10),o.NdJ("change",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.uploadDPChange(r))})("ngModelChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.profileImageInp=r)}),o.qZA(),o.TgZ(16,"button",11),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.uploadDPClick())}),o.TgZ(17,"mat-icon"),o._uU(18,"cloud_upload"),o.qZA(),o._uU(19," Upload & Save "),o.qZA(),o._UZ(20,"mat-progress-bar",12),o.qZA()()(),o.TgZ(21,"div",13)(22,"form",14),o.NdJ("ngSubmit",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateProfileCondtions())}),o.TgZ(23,"mat-form-field",15)(24,"mat-label"),o._uU(25,"Full Name"),o.qZA(),o._UZ(26,"input",16),o.qZA(),o.TgZ(27,"mat-form-field",15)(28,"mat-label"),o._uU(29,"Email"),o.qZA(),o._UZ(30,"input",17),o.qZA(),o.TgZ(31,"mat-form-field",15)(32,"mat-label"),o._uU(33,"Choose a date *"),o.qZA(),o.TgZ(34,"input",18),o.NdJ("focus",function(){o.CHM(e);const r=o.MAs(39);return o.KtG(r.open())}),o.qZA(),o.TgZ(35,"mat-hint"),o._uU(36,"MM/DD/YYYY"),o.qZA(),o._UZ(37,"mat-datepicker-toggle",19)(38,"mat-datepicker",null,20),o.qZA(),o.TgZ(40,"mat-form-field",15)(41,"mat-label"),o._uU(42,"Mobile Number"),o.qZA(),o.TgZ(43,"span",21),o._uU(44,"+91 \xa0"),o.qZA(),o._UZ(45,"input",22),o.TgZ(46,"mat-icon",23),o._uU(47,"phone_in_talk"),o.qZA()(),o._UZ(48,"mat-divider"),o.TgZ(49,"section")(50,"div",24)(51,"button",25),o._uU(52,"Update"),o.qZA(),o.TgZ(53,"button",26),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.resetProfileForm())}),o._uU(54,"Cancel"),o.qZA()()()()()()()}if(2&n){const e=o.MAs(39),i=o.oxw();o.xp6(11),o.s9C("src",i.photoURL,o.LSH),o.xp6(4),o.Q6J("ngModel",i.profileImageInp),o.xp6(1),o.Q6J("hidden",i.uploadCTADisabled),o.xp6(4),o.Q6J("value",i.uploadPofileStatus)("hidden",i.uploadProfielLoader),o.xp6(2),o.Q6J("formGroup",i.updateProfile),o.xp6(12),o.Q6J("matDatepicker",e),o.xp6(3),o.Q6J("for",e)}}let fee=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.auth=i,this.afs=r,this.mainApp=s,this.dialog=c,this.fireStorage=d,this.userData=this.auth.userData,this.uid="",this.displayName="",this.email="",this.photoURL="",this.resetPhotoURL="",this.accessToDash="",this.emailVerified="",this.birthDate="",this.updateProfile="",this.loadView=!1,this.uploadProfielLoader=!0,this.uploadCTADisabled=!0,this.photoTM=Date.now()+".png",this.storPath=this.auth.uploadDataPathProfile+"/"+this.userData.email+"/"+this.displayName+"-"+this.photoTM,this.fileRef=this.fireStorage.ref(this.storPath),this.setDPWithForm=!1}ngOnInit(){this.setValuesUpdated(),this.auth.updatedUserData.subscribe(e=>{this.userData=this.auth.updateUserProfile(),this.setValuesUpdated()})}setValuesUpdated(){this.userData.accessToDash&&(this.loadView=!0),this.uid=this.userData.uid,this.displayName=this.userData.displayName||"User",this.email=this.userData.email,this.photoURL=this.userData.photoURL||this.auth.userProfileImage,this.resetPhotoURL=this.userData.photoURL||this.auth.userProfileImage,this.accessToDash=this.userData.accessToDash,this.emailVerified=this.userData.emailVerified,this.birthDate=this.userData.birthDate,this.contactNumber=this.userData.phoneNumber,this.startDate=new Date(this.birthDate),this.updateProfile=new mv({userFullName:new fl({value:this.displayName,disabled:!1},[Jr.required]),userEmail:new fl({value:this.email,disabled:!0},[Jr.required,Jr.email]),userBirthDate:new fl({value:this.startDate,disabled:!1}),contactNumber:new fl({value:this.contactNumber,disabled:!1},[Jr.pattern("^[0-9]*$")])}),this.reCreateTimeStamp(),this.auth.showProgressBar(!1)}resetProfileForm(){this.setValuesUpdated()}errImage(e){e.target.src=this.auth.noImage}updateProfileCondtions(){this.updateUserProfile()}updateUserProfile(){let e;"VALID"==this.updateProfile.status?(this.auth.showProgressBar(!0),e={displayName:this.updateProfile.value.userFullName,birthDate:this.updateProfile.value.userBirthDate.toString(),phoneNumber:this.updateProfile.value.contactNumber||""},this.afs.collection("users").doc(this.userData.uid).update(e).then(i=>{this.auth.checkUserInFSore(),this.auth.showProgressBar(!1),this.auth.showToast("Data Updated Sucessfully","close","default")})):this.auth.showToast("Please fill mandatory fields","close")}reCreateTimeStamp(){this.profileImageInp="",this.uploadProfielLoader=!0,this.uploadCTADisabled=!0,this.photoTM=Date.now()+".png",this.storPath=this.auth.uploadDataPathProfile+"/"+this.userData.email+"/"+this.displayName+"-"+this.photoTM,this.fileRef=this.fireStorage.ref(this.storPath)}uploadDPChange(e){this.tempProfilePath=e.target.files[0];let i=e.target.files[0].name;console.log(typeof this.tempProfilePath);const r=new FileReader;r.readAsDataURL(e.target.files[0]),this.tempProfilePath?"image/jpeg"==this.tempProfilePath.type||"image/png"==this.tempProfilePath.type?r.onload=s=>{const c=new Image;let d=s.target?.result;c.src=d?.toString()||"",c.src=c.src.replace("data:image/png","data:image/jpeg"),c.onload=()=>{Math.floor(this.tempProfilePath.size/1e6)<3?this.auth.imageCompress.compressFile(c.src,100,100).then(A=>{A=A.replace("data:image/jpeg","data:image/png"),this.photoURL=A;const R=this.auth.blobToFile(this.auth.dataURItoBlob(A),i);this.tempProfilePath=R,console.log(this.tempProfilePath),this.uploadCTADisabled=!1,this.setDPWithForm=!0}):(this.auth.showToast("Size must be below 3MB","close"),this.tempProfilePath="",this.photoURL=this.resetPhotoURL,this.uploadCTADisabled=!0),this.setDPWithForm=!1}}:(this.auth.showToast("Please select Image file for profile","close"),this.tempProfilePath="",this.photoURL=this.resetPhotoURL,this.setDPWithForm=!1):(this.auth.showToast("Profile picture is not selected","close"),this.setDPWithForm=!1)}uploadDPClick(){this.auth.showProgressBar(!0),this.tempProfilePath&&this.fireStorage.upload(this.storPath,this.tempProfilePath).percentageChanges().subscribe(e=>{this.uploadProfielLoader=!1,this.uploadPofileStatus=e,100==e&&(this.downloadURL=this.fileRef.getDownloadURL(),this.downloadURL.pipe(Rt(1)).subscribe(i=>{i&&this.afs.collection("users").doc(this.userData.uid).update({photoURL:i}).then(()=>(this.auth.checkUserInFSore(),console.log(i),this.photoURL=i,this.auth.showProgressBar(!1),this.uploadProfielLoader=!0,this.auth.showToast("Profile image updated successfully ","close","default"),setTimeout(()=>{this.reCreateTimeStamp()},1e3),this.setDPWithForm=!1,!0))})),this.uploadCTADisabled=!0})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(mc),o.Y36(ug),o.Y36(aS),o.Y36(Pm),o.Y36(mS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-profile"]],decls:1,vars:1,consts:[["class","custom_container",4,"ngIf"],[1,"custom_container"],[1,"overF"],[1,"formDashSec1"],[1,"width_100","fl","t_a_c"],[1,"profile_dp_p","t_a_c","mar0auto","pb_20"],["for","uploadDPInp","matTooltip","Edit profile image and see preview",1,"width_100","cusP","dp_cp","backLoading"],["for","dpUpload",1,"img_src",3,"src","error"],[1,"editOverLay"],[1,"editPtext_p"],["type","file","accept","*.png.jpg","id","uploadDPInp",1,"hidden",3,"ngModel","change","ngModelChange"],["type","button","mat-raised-button","","matTooltip","Update profile image with preview",1,"mb_20",3,"hidden","click"],["mode","determinate",1,"width_100","mb_20",3,"value","hidden"],[1,"formDashSec2","pb_20"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width","mb_20"],["type","text","matInput","","formControlName","userFullName","placeholder","Ex. pat@example.com"],["type","email","matInput","","formControlName","userEmail","placeholder","Ex. pat@example.com"],["matInput","","readonly","true","formControlName","userBirthDate","type","text",3,"matDatepicker","focus"],["matSuffix","",3,"for"],["picker",""],["matPrefix",""],["type","tel","matInput","","placeholder","555 555 1234","formControlName","contactNumber","maxlength","10"],["matSuffix",""],[1,"example-button-row","mt_20"],["mat-raised-button","","color","primary","matTooltip","Update New User Data",1,"mb_20",2,"float","right"],["mat-raised-button","","type","button","matTooltip","Reset New User Data",1,"mb_20",2,"float","right","margin-right","20px",3,"click"]],template:function(e,i){1&e&&o.YNc(0,hee,55,8,"mat-card",0),2&e&&o.Q6J("ngIf",i.loadView)},dependencies:[yn,zx,$f,fv,Vx,LO,SS,fg,Gx,iO,gv,ZJ,JO,JJ,lee,hv,X8,ua,qx,zX,gg,WX,LV,Yx,_v]}),n})();function pee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," User name is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function mee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid email address "),o.qZA())}function gee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Email is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function _ee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Please enter a valid Password. "),o.qZA())}function yee(n,t){1&n&&(o.TgZ(0,"mat-error"),o._uU(1," Password is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}const vee=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-home"]],decls:13,vars:0,consts:[[1,"width_100","body_d"],[1,"overlay"],["aria-hidden","true",1,"stars"],["aria-hidden","true",1,"starts2"],["aria-hidden","true",1,"stars3"],[1,"main"],[1,"contact"],[1,"title"],[1,"sub-title"],["routerLink","/dash",1,"sub-title","gotodash"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o.TgZ(5,"main",5)(6,"section",6)(7,"h1",7),o._uU(8,"Hardknox Panel"),o.qZA(),o.TgZ(9,"h2",8),o._uU(10,"Site Under Construction"),o.qZA(),o.TgZ(11,"h3",9),o._uU(12,"Go to dashbord..."),o.qZA()()()())},dependencies:[mo],styles:['@import"https://fonts.googleapis.com/css?family=Poiret+One|Source+Sans+Pro";*[_ngcontent-%COMP%]{padding:0;margin:0;box-sizing:border-box}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], .body_d[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%], .body_d[_ngcontent-%COMP%]{font-size:110%;color:#ecf0f1;font-family:Source Sans Pro,sans-serif;background:radial-gradient(ellipse at bottom,#1b2735 0%,#090a0f 100%);width:100%;position:absolute;top:0;left:0;overflow:hidden}.main[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;display:flex;justify-content:center;align-items:center}.contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.title[_ngcontent-%COMP%]{font-family:Poiret One,cursive;font-size:4rem;margin-bottom:.5rem;width:100%}.sub-title[_ngcontent-%COMP%]{border-top:.1rem solid #fff;padding:1rem 4rem;text-align:center}.gotodash[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;border:0}.stars[_ngcontent-%COMP%]{width:1px;height:1px;background:transparent;box-shadow:1983px 1070px #fff,1625px 734px #fff,1505px 1218px #fff,1288px 1382px #fff,1023px 982px #fff,184px 1501px #fff,1352px 1072px #fff,966px 577px #fff,1928px 1505px #fff,284px 1863px #fff,871px 390px #fff,1591px 1017px #fff,1919px 1315px #fff,1552px 697px #fff,1775px 1722px #fff,61px 321px #fff,1108px 1281px #fff,1795px 22px #fff,1808px 716px #fff,797px 374px #fff,796px 1149px #fff,952px 1px #fff,1361px 1185px #fff,1110px 1577px #fff,1058px 1925px #fff,160px 1987px #fff,1274px 1205px #fff,39px 85px #fff,1835px 484px #fff,495px 1670px #fff,986px 691px #fff,2px 1486px #fff,719px 805px #fff,1601px 89px #fff,591px 565px #fff,1317px 1604px #fff,1805px 1486px #fff,703px 236px #fff,1950px 1089px #fff,1527px 1923px #fff,1690px 36px #fff,1252px 245px #fff,343px 903px #fff,143px 874px #fff,939px 1705px #fff,1733px 372px #fff,362px 830px #fff,1580px 1181px #fff,251px 535px #fff,1666px 1111px #fff,1276px 1530px #fff,958px 1989px #fff,75px 987px #fff,256px 217px #fff,635px 1194px #fff,1004px 1546px #fff,1910px 878px #fff,520px 506px #fff,1000px 210px #fff,1455px 1027px #fff,417px 1714px #fff,1376px 674px #fff,1744px 1390px #fff,195px 283px #fff,621px 1638px #fff,962px 997px #fff,283px 1219px #fff,1591px 1953px #fff,160px 652px #fff,1430px 948px #fff,1589px 1722px #fff,614px 1305px #fff,167px 342px #fff,1172px 1861px #fff,1097px 1249px #fff,1094px 1743px #fff,1988px 1361px #fff,461px 694px #fff,1096px 584px #fff,1876px 1984px #fff,315px 245px #fff,441px 258px #fff,1219px 1887px #fff,480px 245px #fff,285px 819px #fff,1753px 1833px #fff,816px 1780px #fff,245px 1927px #fff,715px 1523px #fff,475px 1595px #fff,1162px 66px #fff,543px 1758px #fff,112px 1847px #fff,1604px 1243px #fff,1888px 1758px #fff,162px 1385px #fff,1587px 1863px #fff,1059px 48px #fff,1161px 1650px #fff,1881px 289px #fff,475px 363px #fff,160px 911px #fff,487px 291px #fff,496px 70px #fff,1107px 90px #fff,731px 1771px #fff,1517px 918px #fff,1013px 716px #fff,1832px 882px #fff,107px 393px #fff,1503px 1860px #fff,31px 94px #fff,1640px 1112px #fff,697px 1657px #fff,435px 81px #fff,1526px 1467px #fff,602px 1001px #fff,1409px 306px #fff,1631px 1005px #fff,302px 1886px #fff,1262px 522px #fff,1606px 776px #fff,1813px 1471px #fff,1784px 1953px #fff,499px 1841px #fff,805px 1191px #fff,786px 864px #fff,940px 1562px #fff,1016px 1362px #fff,1036px 961px #fff,1666px 173px #fff,1214px 979px #fff,54px 1293px #fff,231px 710px #fff,434px 1321px #fff,259px 1716px #fff,1463px 380px #fff,1406px 1130px #fff,913px 611px #fff,1489px 1218px #fff,1777px 61px #fff,967px 63px #fff,1598px 1504px #fff,1528px 1134px #fff,1641px 111px #fff,1980px 1181px #fff,945px 1698px #fff,430px 1617px #fff,482px 85px #fff,554px 1473px #fff,1112px 614px #fff,1030px 1349px #fff,1666px 1753px #fff,1049px 978px #fff,1817px 1144px #fff,759px 1687px #fff,1371px 1720px #fff,1393px 461px #fff,26px 983px #fff,85px 1821px #fff,1193px 321px #fff,240px 64px #fff,220px 973px #fff,607px 312px #fff,1102px 679px #fff,1314px 329px #fff,1802px 1079px #fff,1997px 85px #fff,782px 479px #fff,1647px 52px #fff,1945px 514px #fff,938px 351px #fff,1140px 1813px #fff,1348px 1582px #fff,1188px 1188px #fff,1494px 1341px #fff,1552px 834px #fff,1592px 1952px #fff,450px 98px #fff,581px 1213px #fff,1736px 1193px #fff,944px 1950px #fff,526px 1044px #fff,1869px 788px #fff,911px 1295px #fff,1521px 1135px #fff,1725px 1438px #fff,1691px 110px #fff,1903px 1777px #fff,643px 1826px #fff,222px 1810px #fff,1613px 1035px #fff,201px 24px #fff,1325px 557px #fff,1169px 1652px #fff,385px 290px #fff,1733px 168px #fff,1886px 438px #fff,1533px 315px #fff,388px 960px #fff,312px 1818px #fff,1605px 6px #fff,231px 1794px #fff,686px 1810px #fff,1301px 577px #fff,1583px 474px #fff,1916px 756px #fff,694px 1494px #fff,1877px 1341px #fff,25px 6px #fff,1717px 316px #fff,1906px 1307px #fff,1555px 316px #fff,699px 690px #fff,1335px 368px #fff,1871px 668px #fff,301px 492px #fff,1899px 747px #fff,680px 444px #fff,654px 1063px #fff,45px 1797px #fff,826px 281px #fff,1041px 1859px #fff,1690px 7px #fff,797px 1473px #fff,1697px 1680px #fff,1704px 572px #fff,144px 49px #fff,1099px 264px #fff,789px 1804px #fff,186px 741px #fff,306px 1496px #fff,473px 209px #fff,1763px 127px #fff,116px 288px #fff,450px 385px #fff,210px 457px #fff,1433px 1540px #fff,1766px 1459px #fff,1426px 215px #fff,1313px 296px #fff,410px 81px #fff,1809px 593px #fff,515px 216px #fff,1903px 1912px #fff,564px 1545px #fff,99px 302px #fff,164px 1465px #fff,1560px 801px #fff,1839px 663px #fff,191px 1903px #fff,5px 537px #fff,1150px 38px #fff,1310px 647px #fff,1257px 555px #fff,487px 1470px #fff,1769px 1121px #fff,1698px 1155px #fff,1176px 1916px #fff,1192px 583px #fff,1778px 1511px #fff,1330px 354px #fff,705px 737px #fff,449px 665px #fff,89px 1486px #fff,751px 1974px #fff,1733px 1742px #fff,1289px 1386px #fff,1621px 1363px #fff,571px 1861px #fff,1697px 1850px #fff,504px 624px #fff,889px 238px #fff,1627px 1435px #fff,1379px 1367px #fff,872px 550px #fff,472px 532px #fff,466px 1997px #fff,932px 1896px #fff,1044px 83px #fff,1262px 1593px #fff,1953px 1478px #fff,1127px 1716px #fff,325px 176px #fff,1742px 1505px #fff,1088px 288px #fff,1212px 472px #fff,1365px 985px #fff,1086px 803px #fff,256px 263px #fff,1300px 1444px #fff,1673px 201px #fff,188px 1133px #fff,404px 483px #fff,59px 1006px #fff,1013px 1651px #fff,947px 239px #fff,18px 178px #fff,1430px 1851px #fff,763px 1777px #fff,1737px 196px #fff,643px 977px #fff,1335px 1275px #fff,1513px 1200px #fff,497px 659px #fff,1929px 800px #fff,1481px 283px #fff,1232px 331px #fff,1518px 1754px #fff,515px 869px #fff,1127px 1290px #fff,726px 1453px #fff,864px 267px #fff,313px 1634px #fff,1562px 606px #fff,91px 1803px #fff,40px 1789px #fff,1097px 944px #fff,1949px 1949px #fff,17px 1495px #fff,1786px 93px #fff,577px 1866px #fff,1252px 546px #fff,564px 151px #fff,1096px 1675px #fff,1743px 1694px #fff,1332px 311px #fff,1935px 1625px #fff,1251px 900px #fff,840px 1126px #fff,763px 669px #fff,1414px 1146px #fff,32px 1287px #fff,950px 739px #fff,1730px 856px #fff,1032px 1754px #fff,155px 201px #fff,1999px 1250px #fff,1811px 1488px #fff,805px 281px #fff,875px 1358px #fff,1757px 86px #fff,1824px 605px #fff,429px 453px #fff,1955px 1159px #fff,19px 1874px #fff,1549px 109px #fff,1684px 145px #fff,1973px 685px #fff,338px 839px #fff,659px 46px #fff,1600px 344px #fff,838px 994px #fff,337px 1918px #fff,583px 740px #fff,687px 251px #fff,1900px 1031px #fff,1296px 449px #fff,1268px 592px #fff,383px 1226px #fff,868px 101px #fff,891px 67px #fff,1957px 940px #fff,74px 1445px #fff,1432px 898px #fff,430px 1783px #fff,954px 185px #fff,359px 1455px #fff,635px 1786px #fff,1186px 1259px #fff,1445px 1505px #fff,1177px 781px #fff,1407px 603px #fff,1257px 980px #fff,96px 562px #fff,1999px 1560px #fff,1153px 1554px #fff,1033px 672px #fff,1051px 546px #fff,753px 876px #fff,1763px 145px #fff,1704px 1207px #fff,34px 1261px #fff,817px 1041px #fff,247px 1674px #fff,121px 429px #fff,515px 570px #fff,1762px 1489px #fff,234px 940px #fff,1095px 1028px #fff,720px 1119px #fff,1238px 334px #fff,91px 113px #fff,147px 897px #fff,1029px 1805px #fff,1680px 1957px #fff,475px 1503px #fff,1557px 917px #fff,1458px 1762px #fff,612px 1707px #fff,1329px 393px #fff,160px 1167px #fff,1631px 1887px #fff,1125px 141px #fff,257px 376px #fff,809px 26px #fff,1349px 199px #fff,1805px 88px #fff,69px 1953px #fff,1206px 529px #fff,646px 227px #fff,1097px 1664px #fff,42px 1261px #fff,1604px 360px #fff,1939px 187px #fff,1220px 1264px #fff,1044px 995px #fff,1005px 16px #fff,1648px 1612px #fff,847px 1014px #fff,339px 1584px #fff,1329px 1304px #fff,961px 1970px #fff,711px 221px #fff,888px 566px #fff,53px 704px #fff,1369px 846px #fff,1261px 1775px #fff,737px 1277px #fff,1071px 1570px #fff,77px 1872px #fff,1268px 1501px #fff,598px 1640px #fff,1769px 297px #fff,1074px 656px #fff,1006px 1154px #fff,672px 1969px #fff,922px 243px #fff,622px 773px #fff,1875px 804px #fff,1873px 600px #fff,1844px 1794px #fff,1253px 1995px #fff,616px 1198px #fff,1829px 1743px #fff,1321px 504px #fff,1340px 566px #fff,1520px 1825px #fff,1696px 1333px #fff,537px 158px #fff,1106px 162px #fff,25px 514px #fff,1022px 422px #fff,1955px 391px #fff,1126px 1741px #fff,754px 905px #fff,1217px 1696px #fff,351px 270px #fff,950px 1260px #fff,1847px 658px #fff,23px 684px #fff,1295px 572px #fff,257px 1053px #fff,87px 303px #fff,798px 1748px #fff,1150px 142px #fff,48px 1641px #fff,1492px 1328px #fff,1385px 1766px #fff,296px 1726px #fff,1299px 1780px #fff,1316px 522px #fff,1953px 1526px #fff,1007px 1089px #fff,1824px 1598px #fff,1720px 480px #fff,555px 1942px #fff,367px 432px #fff,957px 1162px #fff,384px 1044px #fff,738px 618px #fff,1568px 1432px #fff,211px 788px #fff,198px 1761px #fff,745px 177px #fff,1700px 159px #fff,316px 498px #fff,65px 1610px #fff,1948px 1638px #fff,936px 1461px #fff,1656px 622px #fff,575px 1437px #fff,336px 1424px #fff,1215px 690px #fff,1641px 1542px #fff,998px 1685px #fff,952px 1274px #fff,1448px 1165px #fff,904px 1783px #fff,1788px 1404px #fff,1748px 1717px #fff,793px 922px #fff,1032px 355px #fff,1158px 38px #fff,1573px 1855px #fff,751px 1199px #fff,1284px 227px #fff,391px 416px #fff,55px 204px #fff,962px 1918px #fff,668px 1347px #fff,613px 1215px #fff,615px 732px #fff,1442px 1752px #fff,1086px 1779px #fff,532px 320px #fff,1228px 1321px #fff,1796px 1906px #fff,150px 715px #fff,1694px 1005px #fff,1509px 391px #fff,262px 303px #fff,1743px 909px #fff,1966px 1203px #fff,707px 1033px #fff,82px 1332px #fff,104px 794px #fff,246px 759px #fff,507px 1380px #fff,1227px 616px #fff,917px 1354px #fff,1941px 759px #fff,451px 852px #fff,17px 131px #fff,780px 476px #fff,816px 211px #fff,1039px 1245px #fff,1521px 1036px #fff,1509px 1542px #fff,1368px 960px #fff,1104px 1437px #fff,1171px 976px #fff,681px 1305px #fff,1741px 579px #fff,953px 704px #fff,1810px 328px #fff,1960px 1396px #fff,1098px 295px #fff,1409px 919px #fff,1830px 1176px #fff,492px 1063px #fff,1277px 515px #fff,602px 1546px #fff,1832px 236px #fff,1513px 274px #fff,1983px 794px #fff,2000px 1505px #fff,920px 382px #fff,1374px 1235px #fff,692px 310px #fff,1028px 1782px #fff,1007px 887px #fff,1492px 858px #fff,877px 1817px #fff,1024px 1942px #fff,658px 82px #fff,526px 742px #fff,755px 880px #fff,301px 1186px #fff,318px 31px #fff,1517px 1244px #fff,1996px 1126px #fff,464px 1861px #fff,334px 674px #fff,768px 1103px #fff,628px 890px #fff,1054px 1534px #fff,59px 1576px #fff,189px 693px #fff,16px 1097px #fff,563px 1186px #fff,428px 523px #fff,1047px 1231px #fff,1940px 1262px #fff,643px 971px #fff,611px 1794px #fff,1676px 21px #fff,1882px 1523px #fff,258px 1584px #fff,768px 295px #fff,1253px 1431px #fff,1855px 362px #fff,576px 987px #fff,1904px 470px #fff,895px 1390px #fff,771px 966px #fff,1034px 1815px #fff,203px 1292px #fff,566px 893px #fff,63px 913px #fff,1340px 1416px #fff,528px 967px #fff,1965px 444px #fff,1961px 132px #fff,1049px 577px #fff,459px 1031px #fff,261px 1780px #fff,1092px 1480px #fff,286px 759px #fff,1014px 1604px #fff,144px 1461px #fff,1180px 1694px #fff,1348px 613px #fff,518px 1479px #fff,478px 649px #fff,1303px 629px #fff,1713px 258px #fff,1912px 501px #fff,300px 227px #fff,989px 1068px #fff,197px 158px #fff,244px 420px #fff,889px 486px #fff,1517px 1812px #fff,965px 308px #fff,409px 1293px #fff,47px 1400px #fff,1473px 1150px #fff,311px 1711px #fff,1938px 1000px #fff,717px 1331px #fff,282px 881px #fff,1305px 382px #fff,1639px 52px #fff,1466px 1228px #fff,574px 26px #fff,1310px 899px #fff,15px 1795px #fff,1138px 941px #fff,1235px 1416px #fff,27px 375px #fff,1333px 1470px #fff,1462px 1837px #fff,1830px 1217px #fff,1521px 1848px #fff,730px 515px #fff,514px 1869px #fff,468px 1906px #fff,1931px 259px #fff,1612px 151px #fff,1495px 735px #fff,710px 1096px #fff,1976px 546px #fff,50px 741px #fff,1313px 381px #fff,54px 102px #fff,1873px 1009px #fff,1696px 688px #fff,626px 922px #fff,244px 1438px #fff,1746px 1787px #fff,1824px 1437px #fff,1730px 1219px #fff,785px 198px #fff,1174px 931px #fff,909px 517px #fff,1283px 662px #fff,1074px 194px #fff,847px 1945px #fff,113px 427px #fff,728px 352px #fff,1205px 1316px #fff,786px 668px #fff,64px 427px #fff,548px 1370px #fff,1102px 616px #fff,676px 1192px #fff,1652px 1264px #fff,649px 69px #fff,1593px 645px #fff,1651px 816px #fff,1914px 977px #fff,80px 1006px #fff,1252px 742px #fff,1291px 981px #fff,1325px 273px #fff,831px 1581px #fff,344px 1503px #fff,1885px 1849px #fff,745px 1030px #fff,764px 1396px #fff,1241px 829px #fff,1281px 160px #fff,1210px 1860px #fff,1998px 411px #fff,1752px 1816px #fff,21px 1656px #fff,1863px 1988px #fff,1860px 331px #fff,79px 512px #fff;animation:animStar 50s linear infinite}.stars[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:1px;height:1px;background:transparent;box-shadow:1983px 1070px #fff,1625px 734px #fff,1505px 1218px #fff,1288px 1382px #fff,1023px 982px #fff,184px 1501px #fff,1352px 1072px #fff,966px 577px #fff,1928px 1505px #fff,284px 1863px #fff,871px 390px #fff,1591px 1017px #fff,1919px 1315px #fff,1552px 697px #fff,1775px 1722px #fff,61px 321px #fff,1108px 1281px #fff,1795px 22px #fff,1808px 716px #fff,797px 374px #fff,796px 1149px #fff,952px 1px #fff,1361px 1185px #fff,1110px 1577px #fff,1058px 1925px #fff,160px 1987px #fff,1274px 1205px #fff,39px 85px #fff,1835px 484px #fff,495px 1670px #fff,986px 691px #fff,2px 1486px #fff,719px 805px #fff,1601px 89px #fff,591px 565px #fff,1317px 1604px #fff,1805px 1486px #fff,703px 236px #fff,1950px 1089px #fff,1527px 1923px #fff,1690px 36px #fff,1252px 245px #fff,343px 903px #fff,143px 874px #fff,939px 1705px #fff,1733px 372px #fff,362px 830px #fff,1580px 1181px #fff,251px 535px #fff,1666px 1111px #fff,1276px 1530px #fff,958px 1989px #fff,75px 987px #fff,256px 217px #fff,635px 1194px #fff,1004px 1546px #fff,1910px 878px #fff,520px 506px #fff,1000px 210px #fff,1455px 1027px #fff,417px 1714px #fff,1376px 674px #fff,1744px 1390px #fff,195px 283px #fff,621px 1638px #fff,962px 997px #fff,283px 1219px #fff,1591px 1953px #fff,160px 652px #fff,1430px 948px #fff,1589px 1722px #fff,614px 1305px #fff,167px 342px #fff,1172px 1861px #fff,1097px 1249px #fff,1094px 1743px #fff,1988px 1361px #fff,461px 694px #fff,1096px 584px #fff,1876px 1984px #fff,315px 245px #fff,441px 258px #fff,1219px 1887px #fff,480px 245px #fff,285px 819px #fff,1753px 1833px #fff,816px 1780px #fff,245px 1927px #fff,715px 1523px #fff,475px 1595px #fff,1162px 66px #fff,543px 1758px #fff,112px 1847px #fff,1604px 1243px #fff,1888px 1758px #fff,162px 1385px #fff,1587px 1863px #fff,1059px 48px #fff,1161px 1650px #fff,1881px 289px #fff,475px 363px #fff,160px 911px #fff,487px 291px #fff,496px 70px #fff,1107px 90px #fff,731px 1771px #fff,1517px 918px #fff,1013px 716px #fff,1832px 882px #fff,107px 393px #fff,1503px 1860px #fff,31px 94px #fff,1640px 1112px #fff,697px 1657px #fff,435px 81px #fff,1526px 1467px #fff,602px 1001px #fff,1409px 306px #fff,1631px 1005px #fff,302px 1886px #fff,1262px 522px #fff,1606px 776px #fff,1813px 1471px #fff,1784px 1953px #fff,499px 1841px #fff,805px 1191px #fff,786px 864px #fff,940px 1562px #fff,1016px 1362px #fff,1036px 961px #fff,1666px 173px #fff,1214px 979px #fff,54px 1293px #fff,231px 710px #fff,434px 1321px #fff,259px 1716px #fff,1463px 380px #fff,1406px 1130px #fff,913px 611px #fff,1489px 1218px #fff,1777px 61px #fff,967px 63px #fff,1598px 1504px #fff,1528px 1134px #fff,1641px 111px #fff,1980px 1181px #fff,945px 1698px #fff,430px 1617px #fff,482px 85px #fff,554px 1473px #fff,1112px 614px #fff,1030px 1349px #fff,1666px 1753px #fff,1049px 978px #fff,1817px 1144px #fff,759px 1687px #fff,1371px 1720px #fff,1393px 461px #fff,26px 983px #fff,85px 1821px #fff,1193px 321px #fff,240px 64px #fff,220px 973px #fff,607px 312px #fff,1102px 679px #fff,1314px 329px #fff,1802px 1079px #fff,1997px 85px #fff,782px 479px #fff,1647px 52px #fff,1945px 514px #fff,938px 351px #fff,1140px 1813px #fff,1348px 1582px #fff,1188px 1188px #fff,1494px 1341px #fff,1552px 834px #fff,1592px 1952px #fff,450px 98px #fff,581px 1213px #fff,1736px 1193px #fff,944px 1950px #fff,526px 1044px #fff,1869px 788px #fff,911px 1295px #fff,1521px 1135px #fff,1725px 1438px #fff,1691px 110px #fff,1903px 1777px #fff,643px 1826px #fff,222px 1810px #fff,1613px 1035px #fff,201px 24px #fff,1325px 557px #fff,1169px 1652px #fff,385px 290px #fff,1733px 168px #fff,1886px 438px #fff,1533px 315px #fff,388px 960px #fff,312px 1818px #fff,1605px 6px #fff,231px 1794px #fff,686px 1810px #fff,1301px 577px #fff,1583px 474px #fff,1916px 756px #fff,694px 1494px #fff,1877px 1341px #fff,25px 6px #fff,1717px 316px #fff,1906px 1307px #fff,1555px 316px #fff,699px 690px #fff,1335px 368px #fff,1871px 668px #fff,301px 492px #fff,1899px 747px #fff,680px 444px #fff,654px 1063px #fff,45px 1797px #fff,826px 281px #fff,1041px 1859px #fff,1690px 7px #fff,797px 1473px #fff,1697px 1680px #fff,1704px 572px #fff,144px 49px #fff,1099px 264px #fff,789px 1804px #fff,186px 741px #fff,306px 1496px #fff,473px 209px #fff,1763px 127px #fff,116px 288px #fff,450px 385px #fff,210px 457px #fff,1433px 1540px #fff,1766px 1459px #fff,1426px 215px #fff,1313px 296px #fff,410px 81px #fff,1809px 593px #fff,515px 216px #fff,1903px 1912px #fff,564px 1545px #fff,99px 302px #fff,164px 1465px #fff,1560px 801px #fff,1839px 663px #fff,191px 1903px #fff,5px 537px #fff,1150px 38px #fff,1310px 647px #fff,1257px 555px #fff,487px 1470px #fff,1769px 1121px #fff,1698px 1155px #fff,1176px 1916px #fff,1192px 583px #fff,1778px 1511px #fff,1330px 354px #fff,705px 737px #fff,449px 665px #fff,89px 1486px #fff,751px 1974px #fff,1733px 1742px #fff,1289px 1386px #fff,1621px 1363px #fff,571px 1861px #fff,1697px 1850px #fff,504px 624px #fff,889px 238px #fff,1627px 1435px #fff,1379px 1367px #fff,872px 550px #fff,472px 532px #fff,466px 1997px #fff,932px 1896px #fff,1044px 83px #fff,1262px 1593px #fff,1953px 1478px #fff,1127px 1716px #fff,325px 176px #fff,1742px 1505px #fff,1088px 288px #fff,1212px 472px #fff,1365px 985px #fff,1086px 803px #fff,256px 263px #fff,1300px 1444px #fff,1673px 201px #fff,188px 1133px #fff,404px 483px #fff,59px 1006px #fff,1013px 1651px #fff,947px 239px #fff,18px 178px #fff,1430px 1851px #fff,763px 1777px #fff,1737px 196px #fff,643px 977px #fff,1335px 1275px #fff,1513px 1200px #fff,497px 659px #fff,1929px 800px #fff,1481px 283px #fff,1232px 331px #fff,1518px 1754px #fff,515px 869px #fff,1127px 1290px #fff,726px 1453px #fff,864px 267px #fff,313px 1634px #fff,1562px 606px #fff,91px 1803px #fff,40px 1789px #fff,1097px 944px #fff,1949px 1949px #fff,17px 1495px #fff,1786px 93px #fff,577px 1866px #fff,1252px 546px #fff,564px 151px #fff,1096px 1675px #fff,1743px 1694px #fff,1332px 311px #fff,1935px 1625px #fff,1251px 900px #fff,840px 1126px #fff,763px 669px #fff,1414px 1146px #fff,32px 1287px #fff,950px 739px #fff,1730px 856px #fff,1032px 1754px #fff,155px 201px #fff,1999px 1250px #fff,1811px 1488px #fff,805px 281px #fff,875px 1358px #fff,1757px 86px #fff,1824px 605px #fff,429px 453px #fff,1955px 1159px #fff,19px 1874px #fff,1549px 109px #fff,1684px 145px #fff,1973px 685px #fff,338px 839px #fff,659px 46px #fff,1600px 344px #fff,838px 994px #fff,337px 1918px #fff,583px 740px #fff,687px 251px #fff,1900px 1031px #fff,1296px 449px #fff,1268px 592px #fff,383px 1226px #fff,868px 101px #fff,891px 67px #fff,1957px 940px #fff,74px 1445px #fff,1432px 898px #fff,430px 1783px #fff,954px 185px #fff,359px 1455px #fff,635px 1786px #fff,1186px 1259px #fff,1445px 1505px #fff,1177px 781px #fff,1407px 603px #fff,1257px 980px #fff,96px 562px #fff,1999px 1560px #fff,1153px 1554px #fff,1033px 672px #fff,1051px 546px #fff,753px 876px #fff,1763px 145px #fff,1704px 1207px #fff,34px 1261px #fff,817px 1041px #fff,247px 1674px #fff,121px 429px #fff,515px 570px #fff,1762px 1489px #fff,234px 940px #fff,1095px 1028px #fff,720px 1119px #fff,1238px 334px #fff,91px 113px #fff,147px 897px #fff,1029px 1805px #fff,1680px 1957px #fff,475px 1503px #fff,1557px 917px #fff,1458px 1762px #fff,612px 1707px #fff,1329px 393px #fff,160px 1167px #fff,1631px 1887px #fff,1125px 141px #fff,257px 376px #fff,809px 26px #fff,1349px 199px #fff,1805px 88px #fff,69px 1953px #fff,1206px 529px #fff,646px 227px #fff,1097px 1664px #fff,42px 1261px #fff,1604px 360px #fff,1939px 187px #fff,1220px 1264px #fff,1044px 995px #fff,1005px 16px #fff,1648px 1612px #fff,847px 1014px #fff,339px 1584px #fff,1329px 1304px #fff,961px 1970px #fff,711px 221px #fff,888px 566px #fff,53px 704px #fff,1369px 846px #fff,1261px 1775px #fff,737px 1277px #fff,1071px 1570px #fff,77px 1872px #fff,1268px 1501px #fff,598px 1640px #fff,1769px 297px #fff,1074px 656px #fff,1006px 1154px #fff,672px 1969px #fff,922px 243px #fff,622px 773px #fff,1875px 804px #fff,1873px 600px #fff,1844px 1794px #fff,1253px 1995px #fff,616px 1198px #fff,1829px 1743px #fff,1321px 504px #fff,1340px 566px #fff,1520px 1825px #fff,1696px 1333px #fff,537px 158px #fff,1106px 162px #fff,25px 514px #fff,1022px 422px #fff,1955px 391px #fff,1126px 1741px #fff,754px 905px #fff,1217px 1696px #fff,351px 270px #fff,950px 1260px #fff,1847px 658px #fff,23px 684px #fff,1295px 572px #fff,257px 1053px #fff,87px 303px #fff,798px 1748px #fff,1150px 142px #fff,48px 1641px #fff,1492px 1328px #fff,1385px 1766px #fff,296px 1726px #fff,1299px 1780px #fff,1316px 522px #fff,1953px 1526px #fff,1007px 1089px #fff,1824px 1598px #fff,1720px 480px #fff,555px 1942px #fff,367px 432px #fff,957px 1162px #fff,384px 1044px #fff,738px 618px #fff,1568px 1432px #fff,211px 788px #fff,198px 1761px #fff,745px 177px #fff,1700px 159px #fff,316px 498px #fff,65px 1610px #fff,1948px 1638px #fff,936px 1461px #fff,1656px 622px #fff,575px 1437px #fff,336px 1424px #fff,1215px 690px #fff,1641px 1542px #fff,998px 1685px #fff,952px 1274px #fff,1448px 1165px #fff,904px 1783px #fff,1788px 1404px #fff,1748px 1717px #fff,793px 922px #fff,1032px 355px #fff,1158px 38px #fff,1573px 1855px #fff,751px 1199px #fff,1284px 227px #fff,391px 416px #fff,55px 204px #fff,962px 1918px #fff,668px 1347px #fff,613px 1215px #fff,615px 732px #fff,1442px 1752px #fff,1086px 1779px #fff,532px 320px #fff,1228px 1321px #fff,1796px 1906px #fff,150px 715px #fff,1694px 1005px #fff,1509px 391px #fff,262px 303px #fff,1743px 909px #fff,1966px 1203px #fff,707px 1033px #fff,82px 1332px #fff,104px 794px #fff,246px 759px #fff,507px 1380px #fff,1227px 616px #fff,917px 1354px #fff,1941px 759px #fff,451px 852px #fff,17px 131px #fff,780px 476px #fff,816px 211px #fff,1039px 1245px #fff,1521px 1036px #fff,1509px 1542px #fff,1368px 960px #fff,1104px 1437px #fff,1171px 976px #fff,681px 1305px #fff,1741px 579px #fff,953px 704px #fff,1810px 328px #fff,1960px 1396px #fff,1098px 295px #fff,1409px 919px #fff,1830px 1176px #fff,492px 1063px #fff,1277px 515px #fff,602px 1546px #fff,1832px 236px #fff,1513px 274px #fff,1983px 794px #fff,2000px 1505px #fff,920px 382px #fff,1374px 1235px #fff,692px 310px #fff,1028px 1782px #fff,1007px 887px #fff,1492px 858px #fff,877px 1817px #fff,1024px 1942px #fff,658px 82px #fff,526px 742px #fff,755px 880px #fff,301px 1186px #fff,318px 31px #fff,1517px 1244px #fff,1996px 1126px #fff,464px 1861px #fff,334px 674px #fff,768px 1103px #fff,628px 890px #fff,1054px 1534px #fff,59px 1576px #fff,189px 693px #fff,16px 1097px #fff,563px 1186px #fff,428px 523px #fff,1047px 1231px #fff,1940px 1262px #fff,643px 971px #fff,611px 1794px #fff,1676px 21px #fff,1882px 1523px #fff,258px 1584px #fff,768px 295px #fff,1253px 1431px #fff,1855px 362px #fff,576px 987px #fff,1904px 470px #fff,895px 1390px #fff,771px 966px #fff,1034px 1815px #fff,203px 1292px #fff,566px 893px #fff,63px 913px #fff,1340px 1416px #fff,528px 967px #fff,1965px 444px #fff,1961px 132px #fff,1049px 577px #fff,459px 1031px #fff,261px 1780px #fff,1092px 1480px #fff,286px 759px #fff,1014px 1604px #fff,144px 1461px #fff,1180px 1694px #fff,1348px 613px #fff,518px 1479px #fff,478px 649px #fff,1303px 629px #fff,1713px 258px #fff,1912px 501px #fff,300px 227px #fff,989px 1068px #fff,197px 158px #fff,244px 420px #fff,889px 486px #fff,1517px 1812px #fff,965px 308px #fff,409px 1293px #fff,47px 1400px #fff,1473px 1150px #fff,311px 1711px #fff,1938px 1000px #fff,717px 1331px #fff,282px 881px #fff,1305px 382px #fff,1639px 52px #fff,1466px 1228px #fff,574px 26px #fff,1310px 899px #fff,15px 1795px #fff,1138px 941px #fff,1235px 1416px #fff,27px 375px #fff,1333px 1470px #fff,1462px 1837px #fff,1830px 1217px #fff,1521px 1848px #fff,730px 515px #fff,514px 1869px #fff,468px 1906px #fff,1931px 259px #fff,1612px 151px #fff,1495px 735px #fff,710px 1096px #fff,1976px 546px #fff,50px 741px #fff,1313px 381px #fff,54px 102px #fff,1873px 1009px #fff,1696px 688px #fff,626px 922px #fff,244px 1438px #fff,1746px 1787px #fff,1824px 1437px #fff,1730px 1219px #fff,785px 198px #fff,1174px 931px #fff,909px 517px #fff,1283px 662px #fff,1074px 194px #fff,847px 1945px #fff,113px 427px #fff,728px 352px #fff,1205px 1316px #fff,786px 668px #fff,64px 427px #fff,548px 1370px #fff,1102px 616px #fff,676px 1192px #fff,1652px 1264px #fff,649px 69px #fff,1593px 645px #fff,1651px 816px #fff,1914px 977px #fff,80px 1006px #fff,1252px 742px #fff,1291px 981px #fff,1325px 273px #fff,831px 1581px #fff,344px 1503px #fff,1885px 1849px #fff,745px 1030px #fff,764px 1396px #fff,1241px 829px #fff,1281px 160px #fff,1210px 1860px #fff,1998px 411px #fff,1752px 1816px #fff,21px 1656px #fff,1863px 1988px #fff,1860px 331px #fff,79px 512px #fff}.stars2[_ngcontent-%COMP%]{width:2px;height:2px;background:transparent;box-shadow:1124px 1500px #fff,916px 1039px #fff,1281px 2000px #fff,1702px 518px #fff,246px 953px #fff,1889px 287px #fff,1438px 1139px #fff,1824px 1739px #fff,1090px 1205px #fff,1514px 392px #fff,87px 1797px #fff,342px 25px #fff,134px 1624px #fff,1246px 426px #fff,453px 559px #fff,609px 308px #fff,506px 972px #fff,684px 733px #fff,85px 1641px #fff,1576px 320px #fff,145px 809px #fff,1822px 1000px #fff,21px 1512px #fff,173px 1775px #fff,1283px 1564px #fff,224px 1353px #fff,451px 785px #fff,703px 1983px #fff,508px 1345px #fff,957px 1209px #fff,698px 162px #fff,159px 1835px #fff,712px 227px #fff,1234px 295px #fff,310px 958px #fff,889px 31px #fff,1321px 1156px #fff,501px 274px #fff,914px 96px #fff,1637px 1954px #fff,774px 1326px #fff,304px 550px #fff,1249px 425px #fff,649px 1851px #fff,723px 1114px #fff,1115px 1524px #fff,1937px 1932px #fff,44px 1353px #fff,850px 1872px #fff,1175px 1628px #fff,318px 248px #fff,291px 521px #fff,1246px 1707px #fff,1640px 1608px #fff,1961px 343px #fff,964px 1144px #fff,1729px 361px #fff,1493px 799px #fff,1503px 1030px #fff,426px 1162px #fff,991px 1700px #fff,697px 630px #fff,897px 1692px #fff,457px 1816px #fff,667px 729px #fff,1753px 1618px #fff,1132px 1095px #fff,954px 1846px #fff,1938px 1179px #fff,135px 434px #fff,1134px 1216px #fff,491px 543px #fff,525px 1114px #fff,1769px 1830px #fff,1641px 1422px #fff,873px 548px #fff,1519px 1249px #fff,934px 1084px #fff,753px 1528px #fff,1139px 478px #fff,1533px 356px #fff,264px 1956px #fff,899px 487px #fff,1932px 1084px #fff,1846px 64px #fff,46px 1255px #fff,102px 1775px #fff,678px 1579px #fff,1406px 368px #fff,1808px 32px #fff,741px 775px #fff,225px 1338px #fff,124px 731px #fff,411px 135px #fff,1640px 1276px #fff,54px 1998px #fff,1126px 1912px #fff,1896px 1754px #fff,819px 827px #fff,1063px 125px #fff,955px 1357px #fff,945px 1808px #fff,777px 1591px #fff,508px 1351px #fff,966px 983px #fff,168px 9px #fff,1700px 533px #fff,785px 1700px #fff,558px 749px #fff,56px 1463px #fff,1482px 371px #fff,1201px 1930px #fff,207px 240px #fff,538px 146px #fff,893px 1156px #fff,662px 973px #fff,1126px 641px #fff,354px 1792px #fff,1483px 1367px #fff,1032px 1516px #fff,322px 1338px #fff,1804px 1170px #fff,1899px 561px #fff,698px 1947px #fff,1377px 1501px #fff,1966px 1196px #fff,108px 1889px #fff,790px 1309px #fff,1206px 42px #fff,1903px 373px #fff,465px 113px #fff,1776px 1878px #fff,1363px 639px #fff,1142px 1969px #fff,1427px 840px #fff,212px 1412px #fff,1333px 1905px #fff,817px 261px #fff,1590px 1046px #fff,1139px 89px #fff,1852px 311px #fff,1618px 1155px #fff,387px 1975px #fff,290px 1660px #fff,1094px 957px #fff,1145px 1157px #fff,825px 1179px #fff,1456px 1133px #fff,1214px 922px #fff,290px 1880px #fff,852px 1027px #fff,275px 557px #fff,1115px 724px #fff,1713px 1698px #fff,1819px 1196px #fff,1778px 179px #fff,401px 610px #fff,1288px 1286px #fff,1603px 493px #fff,497px 306px #fff,457px 1005px #fff,675px 1814px #fff,850px 1719px #fff,467px 932px #fff,1312px 1366px #fff,812px 1643px #fff,356px 1170px #fff,1915px 787px #fff,1923px 1453px #fff,542px 860px #fff,1496px 832px #fff,1689px 90px #fff,1404px 73px #fff,991px 357px #fff,1534px 1469px #fff,1036px 822px #fff,595px 819px #fff,432px 1908px #fff,221px 1519px #fff,1744px 1507px #fff,505px 564px #fff,1220px 1959px #fff,544px 1880px #fff,744px 516px #fff,547px 307px #fff,1862px 247px #fff,1560px 410px #fff,736px 282px #fff,986px 1452px #fff,808px 1942px #fff,194px 1307px #fff,639px 842px #fff,717px 272px #fff,580px 103px #fff,566px 1916px #fff,1847px 91px #fff,1583px 629px #fff,1270px 1517px #fff,1452px 1905px #fff,1161px 1965px #fff;animation:animStar 100s linear infinite}.stars2[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:2px;height:2px;background:transparent;box-shadow:1124px 1500px #fff,916px 1039px #fff,1281px 2000px #fff,1702px 518px #fff,246px 953px #fff,1889px 287px #fff,1438px 1139px #fff,1824px 1739px #fff,1090px 1205px #fff,1514px 392px #fff,87px 1797px #fff,342px 25px #fff,134px 1624px #fff,1246px 426px #fff,453px 559px #fff,609px 308px #fff,506px 972px #fff,684px 733px #fff,85px 1641px #fff,1576px 320px #fff,145px 809px #fff,1822px 1000px #fff,21px 1512px #fff,173px 1775px #fff,1283px 1564px #fff,224px 1353px #fff,451px 785px #fff,703px 1983px #fff,508px 1345px #fff,957px 1209px #fff,698px 162px #fff,159px 1835px #fff,712px 227px #fff,1234px 295px #fff,310px 958px #fff,889px 31px #fff,1321px 1156px #fff,501px 274px #fff,914px 96px #fff,1637px 1954px #fff,774px 1326px #fff,304px 550px #fff,1249px 425px #fff,649px 1851px #fff,723px 1114px #fff,1115px 1524px #fff,1937px 1932px #fff,44px 1353px #fff,850px 1872px #fff,1175px 1628px #fff,318px 248px #fff,291px 521px #fff,1246px 1707px #fff,1640px 1608px #fff,1961px 343px #fff,964px 1144px #fff,1729px 361px #fff,1493px 799px #fff,1503px 1030px #fff,426px 1162px #fff,991px 1700px #fff,697px 630px #fff,897px 1692px #fff,457px 1816px #fff,667px 729px #fff,1753px 1618px #fff,1132px 1095px #fff,954px 1846px #fff,1938px 1179px #fff,135px 434px #fff,1134px 1216px #fff,491px 543px #fff,525px 1114px #fff,1769px 1830px #fff,1641px 1422px #fff,873px 548px #fff,1519px 1249px #fff,934px 1084px #fff,753px 1528px #fff,1139px 478px #fff,1533px 356px #fff,264px 1956px #fff,899px 487px #fff,1932px 1084px #fff,1846px 64px #fff,46px 1255px #fff,102px 1775px #fff,678px 1579px #fff,1406px 368px #fff,1808px 32px #fff,741px 775px #fff,225px 1338px #fff,124px 731px #fff,411px 135px #fff,1640px 1276px #fff,54px 1998px #fff,1126px 1912px #fff,1896px 1754px #fff,819px 827px #fff,1063px 125px #fff,955px 1357px #fff,945px 1808px #fff,777px 1591px #fff,508px 1351px #fff,966px 983px #fff,168px 9px #fff,1700px 533px #fff,785px 1700px #fff,558px 749px #fff,56px 1463px #fff,1482px 371px #fff,1201px 1930px #fff,207px 240px #fff,538px 146px #fff,893px 1156px #fff,662px 973px #fff,1126px 641px #fff,354px 1792px #fff,1483px 1367px #fff,1032px 1516px #fff,322px 1338px #fff,1804px 1170px #fff,1899px 561px #fff,698px 1947px #fff,1377px 1501px #fff,1966px 1196px #fff,108px 1889px #fff,790px 1309px #fff,1206px 42px #fff,1903px 373px #fff,465px 113px #fff,1776px 1878px #fff,1363px 639px #fff,1142px 1969px #fff,1427px 840px #fff,212px 1412px #fff,1333px 1905px #fff,817px 261px #fff,1590px 1046px #fff,1139px 89px #fff,1852px 311px #fff,1618px 1155px #fff,387px 1975px #fff,290px 1660px #fff,1094px 957px #fff,1145px 1157px #fff,825px 1179px #fff,1456px 1133px #fff,1214px 922px #fff,290px 1880px #fff,852px 1027px #fff,275px 557px #fff,1115px 724px #fff,1713px 1698px #fff,1819px 1196px #fff,1778px 179px #fff,401px 610px #fff,1288px 1286px #fff,1603px 493px #fff,497px 306px #fff,457px 1005px #fff,675px 1814px #fff,850px 1719px #fff,467px 932px #fff,1312px 1366px #fff,812px 1643px #fff,356px 1170px #fff,1915px 787px #fff,1923px 1453px #fff,542px 860px #fff,1496px 832px #fff,1689px 90px #fff,1404px 73px #fff,991px 357px #fff,1534px 1469px #fff,1036px 822px #fff,595px 819px #fff,432px 1908px #fff,221px 1519px #fff,1744px 1507px #fff,505px 564px #fff,1220px 1959px #fff,544px 1880px #fff,744px 516px #fff,547px 307px #fff,1862px 247px #fff,1560px 410px #fff,736px 282px #fff,986px 1452px #fff,808px 1942px #fff,194px 1307px #fff,639px 842px #fff,717px 272px #fff,580px 103px #fff,566px 1916px #fff,1847px 91px #fff,1583px 629px #fff,1270px 1517px #fff,1452px 1905px #fff,1161px 1965px #fff}.stars3[_ngcontent-%COMP%]{width:3px;height:3px;background:transparent;box-shadow:1106px 1979px #fff,1572px 505px #fff,25px 1324px #fff,650px 558px #fff,558px 1555px #fff,782px 1910px #fff,95px 1646px #fff,1794px 169px #fff,1104px 1373px #fff,965px 1386px #fff,1818px 948px #fff,1848px 760px #fff,1789px 937px #fff,761px 1565px #fff,945px 1788px #fff,1553px 93px #fff,1344px 281px #fff,832px 138px #fff,819px 412px #fff,386px 1164px #fff,36px 1157px #fff,1150px 651px #fff,63px 1824px #fff,338px 202px #fff,1203px 764px #fff,1825px 1211px #fff,204px 1892px #fff,228px 313px #fff,1511px 783px #fff,497px 522px #fff,744px 96px #fff,511px 1254px #fff,179px 1572px #fff,988px 411px #fff,1539px 1119px #fff,687px 1122px #fff,1615px 475px #fff,512px 399px #fff,816px 1040px #fff,341px 103px #fff,450px 505px #fff,1161px 742px #fff,1926px 1476px #fff,764px 1893px #fff,995px 1047px #fff,572px 593px #fff,143px 499px #fff,963px 861px #fff,575px 178px #fff,1492px 424px #fff,1890px 1467px #fff,612px 1453px #fff,573px 346px #fff,1151px 945px #fff,107px 45px #fff,345px 593px #fff,1659px 456px #fff,1984px 1612px #fff,1103px 350px #fff,696px 908px #fff,1227px 1093px #fff,1525px 1198px #fff,294px 648px #fff,955px 378px #fff,1553px 114px #fff,1355px 1009px #fff,911px 1568px #fff,1807px 27px #fff,933px 1952px #fff,493px 1501px #fff,1573px 1849px #fff,962px 471px #fff,1078px 1745px #fff,711px 381px #fff,1617px 574px #fff,666px 1277px #fff,1589px 1435px #fff,41px 21px #fff,1427px 252px #fff,748px 351px #fff,1826px 261px #fff,730px 1705px #fff,30px 459px #fff,953px 1573px #fff,725px 1653px #fff,1628px 1144px #fff,1070px 1879px #fff,362px 603px #fff,605px 714px #fff,749px 1979px #fff,1569px 1753px #fff,335px 491px #fff,1618px 1237px #fff,362px 1735px #fff,105px 489px #fff,806px 836px #fff,1523px 781px #fff,411px 1405px #fff,858px 220px #fff,273px 89px #fff;animation:animStar 150s linear infinite}.stars3[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:2000px;width:3px;height:3px;background:transparent;box-shadow:1106px 1979px #fff,1572px 505px #fff,25px 1324px #fff,650px 558px #fff,558px 1555px #fff,782px 1910px #fff,95px 1646px #fff,1794px 169px #fff,1104px 1373px #fff,965px 1386px #fff,1818px 948px #fff,1848px 760px #fff,1789px 937px #fff,761px 1565px #fff,945px 1788px #fff,1553px 93px #fff,1344px 281px #fff,832px 138px #fff,819px 412px #fff,386px 1164px #fff,36px 1157px #fff,1150px 651px #fff,63px 1824px #fff,338px 202px #fff,1203px 764px #fff,1825px 1211px #fff,204px 1892px #fff,228px 313px #fff,1511px 783px #fff,497px 522px #fff,744px 96px #fff,511px 1254px #fff,179px 1572px #fff,988px 411px #fff,1539px 1119px #fff,687px 1122px #fff,1615px 475px #fff,512px 399px #fff,816px 1040px #fff,341px 103px #fff,450px 505px #fff,1161px 742px #fff,1926px 1476px #fff,764px 1893px #fff,995px 1047px #fff,572px 593px #fff,143px 499px #fff,963px 861px #fff,575px 178px #fff,1492px 424px #fff,1890px 1467px #fff,612px 1453px #fff,573px 346px #fff,1151px 945px #fff,107px 45px #fff,345px 593px #fff,1659px 456px #fff,1984px 1612px #fff,1103px 350px #fff,696px 908px #fff,1227px 1093px #fff,1525px 1198px #fff,294px 648px #fff,955px 378px #fff,1553px 114px #fff,1355px 1009px #fff,911px 1568px #fff,1807px 27px #fff,933px 1952px #fff,493px 1501px #fff,1573px 1849px #fff,962px 471px #fff,1078px 1745px #fff,711px 381px #fff,1617px 574px #fff,666px 1277px #fff,1589px 1435px #fff,41px 21px #fff,1427px 252px #fff,748px 351px #fff,1826px 261px #fff,730px 1705px #fff,30px 459px #fff,953px 1573px #fff,725px 1653px #fff,1628px 1144px #fff,1070px 1879px #fff,362px 603px #fff,605px 714px #fff,749px 1979px #fff,1569px 1753px #fff,335px 491px #fff,1618px 1237px #fff,362px 1735px #fff,105px 489px #fff,806px 836px #fff,1523px 781px #fff,411px 1405px #fff,858px 220px #fff,273px 89px #fff}@keyframes animStar{0%{transform:translateY(0)}to{transform:translateY(-2000px)}}']}),n})()},{path:"login",component:gJ},{path:"signup",component:(()=>{class n{constructor(e,i,r){this.router=e,this._snackBar=i,this.auth=r,this.registerUser=new mv({userFullName:new fl("",[Jr.required]),userEmail:new fl("",[Jr.required,Jr.email]),userPass:new fl("",[Jr.required,Jr.pattern("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{8,}")])})}ngOnInit(){}get registerFormControl(){return this.registerUser.controls}clearRegisterForm(){this.registerUser.reset()}createUser(){"VALID"==this.registerUser.status?this.auth.SignUp(this.registerUser.value.userEmail,this.registerUser.value.userPass):this.auth.showToast("Please fill mandatory fields","close")}createGoogleAlc(){this.auth.SigninWithGoogle()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(oS),o.Y36(mc))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-register"]],decls:55,vars:6,consts:[[1,"container-custom"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","userFullName","placeholder","Ex. Pat Lopez"],[4,"ngIf"],["type","email","matInput","","formControlName","userEmail","placeholder","Ex. pat@example.com"],["matInput","","formControlName","userPass","placeholder","Password","value","","type","password"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["type","button","mat-raised-button","",1,"width_100",3,"click"],["height","100%","viewBox","0 0 20 20","width","100%","fit","","preserveAspectRatio","xMidYMid meet","focusable","false",1,"googleCreateIocn"],["d","M19.6 10.23c0-.82-.1-1.42-.25-2.05H10v3.72h5.5c-.15.96-.74 2.31-2.04 3.22v2.45h3.16c1.89-1.73 2.98-4.3 2.98-7.34z","fill","#4285F4"],["d","M13.46 15.13c-.83.59-1.96 1-3.46 1-2.64 0-4.88-1.74-5.68-4.15H1.07v2.52C2.72 17.75 6.09 20 10 20c2.7 0 4.96-.89 6.62-2.42l-3.16-2.45z","fill","#34A853"],["d","M3.99 10c0-.69.12-1.35.32-1.97V5.51H1.07A9.973 9.973 0 000 10c0 1.61.39 3.14 1.07 4.49l3.24-2.52c-.2-.62-.32-1.28-.32-1.97z","fill","#FBBC05"],["d","M10 3.88c1.88 0 3.13.81 3.85 1.48l2.84-2.76C14.96.99 12.7 0 10 0 6.09 0 2.72 2.25 1.07 5.51l3.24 2.52C5.12 5.62 7.36 3.88 10 3.88z","fill","#EA4335"],[1,"example-button-row","my-4","overF"],["type","button","mat-raised-button","","color","primary","routerLink","/login",1,"width_100"],[1,"overF","mt_20"],["routerLink","/dash"],["routerLink","/resetpass",2,"float","right"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"h2"),o._uU(2,"Create User"),o.qZA(),o.TgZ(3,"form",1),o.NdJ("ngSubmit",function(){return i.createUser()}),o.TgZ(4,"mat-form-field",2)(5,"mat-label"),o._uU(6,"Full Name"),o.qZA(),o._UZ(7,"input",3),o.YNc(8,pee,4,0,"mat-error",4),o.qZA(),o.TgZ(9,"mat-form-field",2)(10,"mat-label"),o._uU(11,"Email"),o.qZA(),o._UZ(12,"input",5),o.YNc(13,mee,2,0,"mat-error",4),o.YNc(14,gee,4,0,"mat-error",4),o.qZA(),o.TgZ(15,"mat-form-field",2)(16,"mat-label"),o._uU(17,"Password"),o.qZA(),o._UZ(18,"input",6),o.YNc(19,_ee,2,0,"mat-error",4),o.YNc(20,yee,4,0,"mat-error",4),o.qZA(),o._UZ(21,"mat-divider"),o.TgZ(22,"section")(23,"div",7)(24,"button",8),o.NdJ("click",function(){return i.clearRegisterForm()}),o.TgZ(25,"mat-icon",9),o._uU(26," clear_all"),o.qZA(),o._uU(27,"Clear "),o.qZA(),o.TgZ(28,"button",10)(29,"mat-icon",9),o._uU(30,"person_add"),o.qZA(),o._uU(31," Create "),o.qZA()()(),o._UZ(32,"mat-divider"),o.TgZ(33,"section")(34,"div",7)(35,"button",11),o.NdJ("click",function(){return i.createGoogleAlc()}),o.O4$(),o.TgZ(36,"svg",12),o._UZ(37,"path",13)(38,"path",14)(39,"path",15)(40,"path",16),o.qZA(),o._uU(41," Create Google Account "),o.qZA()()(),o.kcU(),o._UZ(42,"mat-divider"),o.TgZ(43,"section")(44,"div",17)(45,"button",18)(46,"mat-icon",9),o._uU(47,"lock_open"),o.qZA(),o._uU(48," Go Back To Login "),o.qZA()()(),o._UZ(49,"mat-divider"),o.TgZ(50,"section",19)(51,"a",20),o._uU(52,"Dash"),o.qZA(),o.TgZ(53,"a",21),o._uU(54,"Forgot Password ?"),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("formGroup",i.registerUser),o.xp6(5),o.Q6J("ngIf",i.registerFormControl.userFullName.hasError("required")),o.xp6(5),o.Q6J("ngIf",i.registerFormControl.userEmail.hasError("email")&&!i.registerFormControl.userEmail.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.registerFormControl.userEmail.hasError("required")),o.xp6(5),o.Q6J("ngIf",i.registerFormControl.userPass.hasError("pattern")&&!i.registerFormControl.userPass.hasError("required")),o.xp6(1),o.Q6J("ngIf",i.registerFormControl.userPass.hasError("required")))},dependencies:[yn,mo,jc,zx,$f,fv,Vx,fg,Gx,gv,hv,ua,OV,qx,gg,Yx,_v],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})()},{path:"resetpass",component:(()=>{class n{constructor(e,i,r,s){this.router=e,this.auth=i,this.httpClient=r,this._snackBar=s,this.resetPass=new mv({userPass:new fl("",[Jr.required,Jr.email])})}ngOnInit(){}clearLogInForm(){this.resetPass.reset()}sendResePass(){if("VALID"==this.resetPass.status){let e=this.resetPass.value.userPass?.toString();this.auth.afAuth.sendPasswordResetEmail(e).then(i=>{console.log(i),this.auth.showToast("ResetPassword link sent to email id","close","bg-success"),this.router.navigate(["/login"])}).catch(i=>{console.log("Err:",i),this.auth.showToast("Something went wrong.","close"),this.clearLogInForm()})}else this.auth.showToast("Please enter valid email","close")}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(qn),o.Y36(mc),o.Y36(MS),o.Y36(oS))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-reset-pass"]],decls:23,vars:1,consts:[[1,"container-custom"],[1,"example-form",3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","userPass","placeholder","Ex. pat@example.com"],[1,"example-button-row","my-4"],["type","button","mat-raised-button","",3,"click"],[1,"cta_ico"],["mat-raised-button","","color","primary",1,"fr"],["routerLink","/dash"],["routerLink","/login",2,"float","right"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-card",0)(1,"h2"),o._uU(2,"Reset Pass"),o.qZA(),o.TgZ(3,"form",1),o.NdJ("ngSubmit",function(){return i.sendResePass()}),o.TgZ(4,"mat-form-field",2)(5,"mat-label"),o._uU(6,"Email"),o.qZA(),o._UZ(7,"input",3),o.qZA(),o._UZ(8,"mat-divider"),o.TgZ(9,"section")(10,"div",4)(11,"button",5),o.NdJ("click",function(){return i.clearLogInForm()}),o.TgZ(12,"mat-icon",6),o._uU(13," clear_all"),o.qZA(),o._uU(14,"Clear"),o.qZA(),o.TgZ(15,"button",7)(16,"mat-icon",6),o._uU(17,"send"),o.qZA(),o._uU(18," Send "),o.qZA()()(),o.TgZ(19,"a",8),o._uU(20,"Dash"),o.qZA(),o.TgZ(21,"a",9),o._uU(22,"Login"),o.qZA()()()),2&e&&(o.xp6(3),o.Q6J("formGroup",i.resetPass))},dependencies:[jc,zx,$f,fv,Vx,fg,Gx,gv,hv,ua,qx,gg,Yx,_v],styles:[".container-custom[_ngcontent-%COMP%]{max-width:400px;margin:100px auto}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.fr[_ngcontent-%COMP%]{float:right}.cta_ico[_ngcontent-%COMP%]{font-size:19px;height:20px;width:20px}"]}),n})()},{path:"dash",component:bX,canActivate:[u8],children:[{path:"",component:pK},{path:"profile",component:fee},{path:"messagecenter",component:dJ}]},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-error-home"]],decls:252,vars:0,consts:[["routerLink",""],[1,"container"],[1,"row"],[1,"col-sm-12","col-md-12","mt-5","mb-5"],["width","100%","viewBox","0 0 636 324","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","OBJECTS"],["id","Group"],["id","Vector","d","M101.3 255.2C101.3 255.2 111.1 272.6 181.8 280.5C252.5 288.4 288.2 314.9 333.1 322.8C378 330.7 433.6 278.5 481.8 286.5C530 294.4 588.2 264.2 592.8 255.2H101.3Z","fill","#2F1829"],["id","Vector_2","d","M611.9 251.7H601.4L140.8 251.8C140.8 251.8 136.1 248.1 128.9 241.8C125.8 239.1 122.2 235.9 118.3 232.3C116.9 231 115.4 229.6 113.9 228.2C100.2 215.3 83.6 198.2 70.1 180.1C55.9 161 45.1 140.6 44.8 122.6C44.8 122.2 44.8 121.8 44.8 121.4C45 104 48.4 85.1 56.9 67.7C61.9 57.5 68.5 47.8 77.3 39C100.1 16.2 137.1 0.300011 194.5 0.800011C261.4 1.30001 330.8 26.3 393.5 60.8C406.6 68 419.4 75.7 431.9 83.6C441.1 89.5 450.1 95.5 458.8 101.6C483.1 118.6 505.6 136.4 525.5 153.8C570.6 193.1 602.3 230.4 611.9 251.7Z","fill","url(#paint0_linear)"],["id","Vector_3","opacity","0.45","d","M611.9 251.7H601.4L140.8 251.8C140.8 251.8 136.1 248.1 128.9 241.8C125.8 239.1 122.2 235.9 118.3 232.3C116.9 231 115.4 229.6 113.9 228.2C100.2 215.3 83.6 198.2 70.1 180.1C55.9 161 45.1 140.6 44.8 122.6C50.5 119.6 63.9 113.5 75 116.3C89.5 119.9 92.6 137.2 92.6 137.2C92.6 137.2 103 128.8 113.9 132.8C124.8 136.8 126.5 148.4 126.5 148.4C126.5 148.4 139.4 141.8 150.9 144.6C162.5 147.4 171.8 158.6 159.4 165.9C147.1 173.1 133.3 167.5 132.9 167.4C133.1 167.6 137.9 174.2 129.1 182.2C120.1 190.4 154.6 197.5 154.6 197.5C154.6 197.5 155.9 175.1 179 177.6C202.1 180.1 220.8 192.6 220.8 192.6C220.8 192.6 222 158.3 240.5 152C259 145.7 268.5 165.9 268.5 165.9C268.5 165.9 309.5 139.4 323.4 164.1C337.3 188.8 337.9 193.5 337.9 193.5C337.9 193.5 349.8 128.5 387 131.5C424.2 134.5 431.1 160.3 430.5 162.9C429.9 165.5 441.2 146.2 452.4 156.7C463.6 167.2 470.1 181.8 470.1 181.8L529 174.9C529 174.9 523 163.3 525.4 153.8C570.6 193.1 602.3 230.4 611.9 251.7Z","fill","url(#paint1_linear)"],["id","Vector_4","d","M431.9 83.6H257.8C279.6 83.6 283.9 75.7 296.8 71.4C297.4 71.2 298 71 298.6 70.9C310.7 67.8 320.6 74.7 328.3 74.4C336.4 74.1 345.3 65.5 354.6 62.5C357.7 61.5 361 61.8 364.3 62.6C370.8 64.1 377.6 67.4 384.5 66.1C390.5 65 391 62.5 393.4 60.8C406.6 68 419.5 75.6 431.9 83.6Z","fill","url(#paint2_linear)"],["id","Vector_5","d","M206.5 67.7H56.9C61.8 57.7 68.3 48.1 76.9 39.4C77 39.3 77.2 39.1 77.3 39C80.8 38.3 84.6 37.8 88.7 37.6C112.4 36.6 117.4 54.5 117.4 54.5C117.4 54.5 123.6 46.2 134.8 50.2C146 54.2 142.1 59.1 151 61.8C152.2 62.1 153.4 62.2 154.7 62.1C163.2 61.4 173.9 52.1 183.4 55.5C194.4 59.4 187.3 67.7 206.5 67.7Z","fill","url(#paint3_linear)"],["id","Vector_6","d","M631.8 258.5H75.5C73.6 258.5 72.1 257 72.1 255.1C72.1 253.2 73.6 251.7 75.5 251.7H631.8C633.7 251.7 635.2 253.2 635.2 255.1C635.2 257 633.7 258.5 631.8 258.5Z","fill","#2F1829"],["id","Vector_7","opacity","0.25","d","M364.4 62.5C354.5 65 343.3 75.8 336 77.4C326.9 79.4 316.3 74.8 306 72.2C302.9 71.4 300.5 71 298.6 70.8C310.7 67.7 320.6 74.6 328.3 74.3C336.4 74 345.3 65.4 354.6 62.4C357.8 61.4 361 61.7 364.4 62.5Z","fill","white"],["id","Vector_8","opacity","0.25","d","M154.7 62.1C145.8 66.8 141.6 56.2 133.9 52.7C125 48.7 118.7 61.2 116.1 59C113.5 56.9 112.3 47.6 102.2 42.8C96.5 40.1 85.4 39.5 77 39.5C77.1 39.4 77.3 39.2 77.4 39.1C80.9 38.4 84.7 37.9 88.8 37.7C112.5 36.7 117.5 54.6 117.5 54.6C117.5 54.6 123.7 46.3 134.9 50.3C146.1 54.3 142.2 59.2 151.1 61.9C152.2 62.1 153.5 62.2 154.7 62.1Z","fill","white"],["id","Vector_9","d","M394.9 40.3C394.9 40.3 457.4 96.1 482.1 88.5C507 80.9 351.2 7.20001 394.9 40.3Z","fill","url(#paint4_linear)"],["id","Vector_10","d","M35 97C35 97 13.7 134.4 50.9 173.8C59.5 182.9 60.5 199.9 43.3 200.8C26.1 201.7 -0.599994 159.8 0.300006 126.1C1.30001 92.4 40.8 77.1 35 97Z","fill","url(#paint5_linear)"],["id","Vector_11","d","M461 295.7C461 295.7 425 303.6 415.8 315.9C411.3 321.9 429.2 321 444.5 314.4C460.5 307.5 473.6 294.9 461 295.7Z","fill","#2F1829"],["id","Vector_12","d","M200.2 293.4C200.2 293.4 214.2 293.1 226.5 297.9C238.8 302.7 241.5 317.4 229.2 319.2C217 321 189.1 304.7 190.7 298.1C191.9 293.1 200.2 293.4 200.2 293.4Z","fill","#2F1829"],["id","Vector_13","d","M136.3 213.7L128.4 241.1C125.3 238.4 121.7 235.2 117.8 231.6L116.1 228.4C116.1 228.4 119.1 193.2 109.2 179.1C118.7 185.7 123.3 212.4 123.3 212.4L121.8 214.4H123.3C123.3 214.4 125.7 218.9 126.6 225.5C132.7 193.9 126.8 178.6 126.6 178.1C126.8 178.4 131.6 184.2 134.4 193.8C137.3 203.6 136.2 209.7 136.2 209.7L133.8 213.6H136.3V213.7Z","fill","black"],["id","Group_2"],["id","Group_3"],["id","Vector_14","d","M376.1 240.6C376.1 240.6 378.7 238.3 380.6 235.8C380.9 235.4 381.3 234.9 381.5 234.5L382.7 235.9L382.3 233.7C382.3 233.7 390.4 230.9 393.3 223.1C391.5 231.6 388.1 238 384.1 240.9C382.3 242.2 380.5 242.8 378.6 242.7C372.3 242.5 376.1 240.6 376.1 240.6Z","fill","#F3475C"],["id","Group_4","opacity","0.25"],["id","Vector_15","opacity","0.25","d","M393.3 223.1C392.6 225.3 391.8 227.5 390.8 229.6C389.8 231.7 388.7 233.7 387.4 235.6C386.1 237.5 384.5 239.3 382.6 240.6C380.7 242 378.3 242.7 376 242.6C375.9 242.6 375.8 242.5 375.8 242.4C375.8 242.3 375.9 242.2 376 242.2C378.3 242.4 380.5 241.7 382.4 240.4C384.3 239.1 385.9 237.4 387.2 235.5C388.6 233.6 389.7 231.6 390.7 229.5C391.7 227.5 392.5 225.3 393.3 223.1Z","fill","white"],["id","Vector_16","opacity","0.25","d","M376.1 240.6C376.1 240.6 378.7 238.3 380.6 235.8C381.4 238.2 383.1 240 384.1 240.9C382.3 242.2 380.5 242.8 378.6 242.7C372.3 242.5 376.1 240.6 376.1 240.6Z","fill","black"],["id","Vector_17","d","M313.5 225.2C313.5 225.2 294.9 207.7 297.9 184.4C299.8 195.2 307.7 208.1 307.7 208.1L306.7 211L310.2 210.3C310.2 210.3 314.6 183.7 304.7 170.8C318.1 184.6 317.9 205.1 317.9 205.1L315.4 208.9L317.9 210C317.9 210 315 220 323.7 216.1C332.4 212.3 337.9 179.2 330 170.8C339.4 178.9 337.9 206.8 337.9 207.7C337.9 208.6 333.8 212.4 333.8 212.4L336.9 214.7C336.9 214.7 335 233.6 313.5 225.2Z","fill","black"],["id","Vector_18","d","M398.8 250C398.8 250 392.3 243.9 393.4 235.8C394.1 239.6 396.8 244 396.8 244L396.5 245L397.7 244.8C397.7 244.8 399.2 235.5 395.8 231.1C400.4 235.9 400.4 243 400.4 243L399.5 244.3L400.4 244.7C400.4 244.7 399.4 248.2 402.4 246.8C405.4 245.5 407.3 234 404.6 231.1C407.9 233.9 407.3 243.6 407.3 243.9C407.3 244.2 405.9 245.5 405.9 245.5L407 246.3C406.9 246.4 406.3 253 398.8 250Z","fill","black"],["id","Group_5"],["id","Vector_19","d","M374 241.1L368.7 241.5C372.5 238.1 371.9 234.8 371.4 233.3C371.2 232.8 371 232.4 371 232.4L373.5 232L372.1 230.1C372.1 230.1 376.6 224.9 378.3 211.1C383.6 220.4 381.5 228.8 378.7 234.3C376.6 238.6 374 241.1 374 241.1Z","fill","#FFCA51"],["id","Group_6","opacity","0.25"],["id","Vector_20","opacity","0.25","d","M378.3 211.1C378.9 213.7 379.2 216.3 379.3 218.9C379.4 221.5 379.4 224.2 379 226.8C378.6 229.4 378 232 377 234.4C376 236.8 374.5 239.1 372.7 241.1C372.6 241.2 372.5 241.2 372.4 241.1C372.3 241 372.3 240.9 372.4 240.8C374.2 238.9 375.6 236.7 376.7 234.3C377.7 231.9 378.4 229.3 378.8 226.8C379.2 224.2 379.3 221.6 379.2 219C379.1 216.3 378.9 213.7 378.3 211.1Z","fill","white"],["id","Vector_21","opacity","0.25","d","M374 241.1L368.7 241.5C372.5 238.1 371.9 234.8 371.4 233.3C374.2 235 377 234.8 378.7 234.3C376.6 238.6 374 241.1 374 241.1Z","fill","black"],["id","Vector_22","d","M408.3 251.1H323L336.7 240C336.7 240 354.9 230.6 362.5 232.6C370.1 234.5 368.9 240.9 368.9 240.9C368.9 240.9 369.4 240.4 370.1 239.8C371.8 238.5 375 236.7 378.2 238.6C382.8 241.4 382.1 245 382.1 245.2C382.2 245.1 385 242.4 387.3 243.2C389.6 244.1 390.5 246.6 390.5 246.6C390.5 246.6 393.5 242.5 396 244C398.5 245.5 400 248.6 400 248.6C400 248.6 404 244.6 408.3 251.1Z","fill","#982245"],["id","Vector_23","opacity","0.25","d","M391.9 251.1H323.1L336.8 240C336.8 240 355 230.6 362.6 232.6C370.2 234.5 369 240.9 369 240.9C369 240.9 369.5 240.4 370.2 239.8C370.4 241.2 370.4 242.6 370.2 244C370.2 244 374.1 242.5 376.6 244.6C379.1 246.7 378.4 248.6 378.4 248.6C378.4 248.6 381.8 246.6 385.7 248.6C386.8 249.3 389.3 250.2 391.9 251.1Z","fill","black"],["id","Group_7"],["id","Vector_24","d","M237.3 191.1V97.5H201.8V97.8L159 166.6L140.3 196.7L142.4 218.4H201.8V251H237.3V218.4H253V191H237.3V191.1ZM201.8 191.1H174.2L199.6 147.4L201.8 143.8V191.1Z","fill","url(#paint6_linear)"],["id","Vector_26","d","M487.5 191.1V97.5H452V97.8L390.5 196.7L392.6 218.4H452V251H487.5V218.4H503.1V191H487.5V191.1ZM452 191.1H424.4L449.8 147.4L452 143.8V191.1V191.1Z","fill","url(#paint8_linear)"],["id","Vector_27","opacity","0.25","d","M230.7 97.5C225.9 103.6 209.6 101.4 206 101.8C201.8 102.2 172.9 153.1 169 159.6C166.4 163.8 161.9 165.8 159.1 166.7L201.9 97.9V97.6H230.7V97.5Z","fill","white"],["id","Vector_28","opacity","0.25","d","M487.5 97.5V168.3C478.4 160.7 483.4 104.9 482 103.1C480.5 101.1 461.5 102.4 458 101.3C455.7 100.6 453.8 98.6 452.8 97.4H487.5V97.5Z","fill","white"],["id","Vector_29","opacity","0.25","d","M329.1 232.4C300.5 233.7 303.8 192.4 303.8 192.4C304 202.9 305.4 210.6 308.1 215.6C311 220.9 315.6 223.6 321.8 223.6C327.8 223.6 332.3 221 335.2 215.8C338.1 210.6 339.6 202.5 339.6 191.5V153.5C339.6 142.5 338.2 134.2 335.3 128.8C332.4 123.3 327.8 120.6 321.6 120.6C321.6 120.6 339.3 118.4 346.6 144.7C353.8 171 357.8 231.1 329.1 232.4Z","fill","black"],["id","zero"],["id","Vector_25","d","M361.2 110.3C351.9 99 338.7 93.3 321.6 93.3C304.6 93.3 291.4 98.9 282.1 110.2C272.8 121.5 268.1 137.4 268.1 158.2V186.3C268.1 206.9 272.8 222.9 282.1 234.2C291.5 245.5 304.7 251.2 321.8 251.2C338.7 251.2 351.9 245.6 361.2 234.3C370.5 223 375.2 207.1 375.2 186.3V158.3C375.2 137.6 370.5 121.6 361.2 110.3ZM303.8 151.3C304 141 305.5 133.4 308.3 128.3C311.1 123.2 315.5 120.7 321.6 120.7C327.9 120.7 332.4 123.4 335.3 128.9C338.2 134.4 339.6 142.6 339.6 153.6V191.6C339.5 202.6 338.1 210.7 335.2 215.9C332.3 221.1 327.8 223.7 321.8 223.7C315.5 223.7 311 221 308.1 215.7C305.4 210.7 303.9 202.9 303.8 192.5C303.8 191.9 303.8 191.2 303.8 190.6V151.3V151.3Z","fill","url(#paint7_linear)"],["id","Vector_30","d","M291.5 110.1C291.5 110.1 279.6 101.5 278.3 88.1C286.9 90.5 291.5 101 291.5 101C291.5 101 289.3 91.4 291.5 84.9C297.8 94.1 296.1 101.6 291.5 110.1Z","fill","url(#paint9_linear)"],["id","Group_8"],["id","Group_9"],["id","Vector_31","d","M569.9 241.4V244.7C569.3 244.6 567.9 244.7 566.7 244.9C565.9 245 565.2 245 564.8 245.1L564.5 242.3L565.8 242.1L569.9 241.4Z","fill","url(#paint10_linear)"],["id","handboy"],["id","Vector_32","d","M529.1 188C529.1 188 529.2 188.3 528.8 188.7C528.5 189 528 189.3 527.1 189.7C521.7 191.8 510.6 186.7 504.5 183.3C498.5 179.9 481.3 182.7 469.7 181.1C458.1 179.5 453.2 173.3 442.8 170.7C432.4 168.1 393.6 179.3 391.4 170.6C389.2 161.9 432.8 77.2 436.6 83.1C440.3 89 453.2 89.4 462.3 94.1C471.4 98.8 479.1 122.1 489.2 124.4C490.6 124.7 491.9 125.2 493.2 125.9C501.2 130.2 507 140.9 507.2 149.7C507.4 159.9 521.4 168.1 526.5 173.6C531.5 179.2 529.1 188 529.1 188Z","fill","url(#paint11_linear)"],["id","Vector_33","opacity","0.25","d","M529.1 188C529.1 188 529.2 188.3 528.8 188.7C530.6 177.5 520.3 172.2 510.8 164.4C501.1 156.3 505.2 150.2 503.2 141.9C502 137 497 130.5 493.2 126C501.2 130.3 507 141 507.2 149.8C507.4 160 521.4 168.2 526.5 173.7C531.5 179.2 529.1 188 529.1 188Z","fill","white"],["id","Vector_34","d","M528.9 186.5L526.3 188.9C525.9 189.2 526.1 189.8 526.5 190L528.7 190.7L533.7 196.2C533.9 196.4 534.3 196.5 534.5 196.2L535.3 195.4C535.5 195.2 535.6 194.8 535.3 194.6L530.3 189.1L529.8 186.9C529.8 186.3 529.2 186.1 528.9 186.5Z","fill","#2F1829"],["id","Vector_35","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C546 193.5 545.6 193.9 545.3 194.3C543.9 196 542.7 197.4 542.3 197.5C541.3 197.7 535.7 194.5 534.9 194.5C534.1 194.5 532.2 195.9 531.7 195.7C531.2 195.6 528.5 193.1 528.6 192.4C528.7 191.8 531.1 189.6 532.3 189.3C532.6 189.2 533.4 189.3 534.3 189.5H534.4C536.7 190 540.1 191.1 540.6 190.8C540.9 190.7 541.4 189.8 542 188.7C542.2 188.3 542.4 187.9 542.6 187.5C542.9 187 543.1 186.5 543.4 186C543.6 185.5 543.8 185.1 544 184.8C544.5 185.6 545.3 186.6 546.2 187.5C547.2 188.8 548.2 189.8 548.7 190Z","fill","url(#paint12_linear)"],["id","Vector_36","d","M571.4 196.6C571.4 198.4 571.4 200.2 571.3 201.6C570.9 207.3 570.4 211.9 568.5 212C566.6 212.1 566.2 196.7 566.3 195.8C566.3 195.6 566.3 195.2 566.4 194.7C566.5 193 566.5 190 566.5 188.7C566.5 188.4 566.5 188.2 566.5 188.1L566.9 187.9L571.1 185.2C571.1 185.2 571.3 188.8 571.5 193C571.5 193.6 571.5 194.1 571.5 194.7C571.4 195.3 571.4 195.9 571.4 196.6Z","fill","url(#paint13_linear)"],["id","Vector_37","opacity","0.25","d","M571.4 196.6C570.4 197.4 568.8 198.5 567.2 198.6C564.6 198.7 568.4 193.2 569.3 193.1C569.6 193.1 570.4 193 571.3 193C571.3 193.6 571.3 194.1 571.3 194.7C571.4 195.3 571.4 195.9 571.4 196.6Z","fill","black"],["id","Vector_38","d","M571.4 194.7C570.3 195.1 568.9 195.3 567 194.9C566.7 194.8 566.5 194.8 566.3 194.6C564.7 193.7 565.3 191 566.4 188.6C566.5 188.3 566.7 188 566.8 187.8L571 185.1C571 185.1 571.3 189.8 571.4 194.7Z","fill","#2F1829"],["id","Vector_39","d","M562.5 164.2C562.4 164.8 562.2 165.5 561.7 166.2C561.2 167.1 560.4 168 559.7 168.6C559.1 169 558.6 169.3 558.2 169.3C556.9 169.1 555.2 166.9 555.1 166.5C555.1 166.1 556.5 165.9 556.4 164.7C556.2 163.5 555.4 163.3 554.9 163.5C554.3 163.7 553.6 165 553.6 166.2C553.2 166.1 552.5 164.7 551.1 163.8C550.7 163.6 550.3 163.4 549.8 163.3C549.2 163.2 548.5 163.2 547.7 163.5C547.3 159.1 550 157.2 552 158C552 158 551.3 156.5 550.2 156.2C552.7 156.6 553.3 158.7 553.3 158.7C553.3 158.7 554 155.8 557.1 155.4C560.2 155 560.8 159.1 560.8 159.1C560.8 159.1 561.5 157.1 561.2 155.9C561.8 157.5 561.1 160.2 561.1 160.2C561.1 160.2 562.6 160.6 563 162.6C561.7 161.6 561.7 161.7 561.7 161.7C561.7 161.7 562.6 162.3 562.5 164.2Z","fill","#2F172B"],["id","Vector_40","d","M559.7 168.5C559.5 169.2 559.2 169.8 559.1 170.1C558.8 170.7 555.6 173.4 553.3 170.3C551.4 167.7 551.1 164.7 551.1 163.8C552.5 164.6 553.2 166.1 553.6 166.2C553.6 165 554.3 163.8 554.9 163.5C555.5 163.3 556.2 163.5 556.4 164.7C556.6 165.9 555.1 166.1 555.1 166.5C555.1 166.9 556.8 169.1 558.2 169.3C558.6 169.2 559.1 169 559.7 168.5Z","fill","url(#paint14_linear)"],["id","Vector_41","d","M561.3 155.6C561.2 155.4 561.2 155.3 561.1 155.2C561.2 155.3 561.2 155.5 561.3 155.6Z","fill","#2F172B"],["id","Vector_42","d","M572.4 184.6C572.1 185.2 571.7 185.7 571.4 186.2C571.3 186.3 571.2 186.5 571.1 186.6C570.1 187.8 569.2 188.5 569.2 188.5C569.2 188.5 569.2 188.5 569.2 188.6C569.2 188.7 569.2 188.8 569.3 189C569.4 189.4 569.5 190.1 569.6 191C569.6 191.1 569.6 191.3 569.7 191.4C569.8 191.8 569.8 192.2 569.8 192.6C569.8 192.8 569.9 193.1 569.9 193.3C569.9 193.4 569.9 193.6 569.9 193.7C570 194.4 570 195 570 195.7C570 195.8 570 196 570 196.1C570 196.9 569.9 197.6 569.8 198.1C569.8 198.3 569.7 198.4 569.7 198.5C569.6 198.7 569.6 198.8 569.5 198.9C569.4 199 569.2 199.1 569 199.2C567.5 199.9 563.7 199.9 559.8 199.7C556.5 199.5 553.2 199.2 551.5 198.9C551 198.8 550.6 198.7 550.3 198.5C550.1 198.4 549.9 198.2 549.8 198.1C549.7 198 549.6 197.9 549.6 197.8C549.3 197.3 549.2 196.8 549.2 196.1C549.2 196 549.2 195.8 549.2 195.7C549.3 195.1 549.4 194.5 549.5 193.8V193.7C549.5 193.6 549.6 193.4 549.6 193.3C549.8 192.6 550 192 550.1 191.3C550.1 191.2 550.1 191.1 550.2 191V190.9C550.4 190.1 550.5 189.4 550.5 188.9C550.5 188.7 550.5 188.6 550.6 188.5C550.7 187.2 550.6 186.8 550.6 186.8C550.6 186.8 550.3 187.6 549.8 188.5C549.7 188.6 549.6 188.8 549.6 188.9C549.3 189.4 548.9 189.9 548.7 189.9C548.7 189.9 548.6 189.9 548.5 189.9C548.2 189.8 547.8 189.4 547.3 188.9C547.2 188.8 547 188.6 546.9 188.5C546.6 188.2 546.3 187.9 546 187.5C545.7 187.2 545.4 186.8 545.1 186.5C545 186.4 544.9 186.2 544.8 186.1C544.4 185.6 544.1 185.2 543.8 184.8C543.6 184.5 543.5 184.3 543.4 184.1C543.3 184 543.3 183.9 543.3 183.8V183.7C543.4 183.4 543.6 182.6 543.9 181.7C544 181.6 544 181.4 544.1 181.3C544.3 180.7 544.6 180 545 179.3C545.1 179.2 545.1 179 545.2 178.9C545.5 178.3 545.9 177.6 546.2 176.9C546.3 176.8 546.4 176.6 546.4 176.5C546.8 175.8 547.2 175.1 547.6 174.5C547.7 174.4 547.8 174.2 547.9 174.1C548.5 173.3 549 172.6 549.6 172.1C549.8 171.9 549.9 171.8 550.1 171.7C550.2 171.6 550.3 171.6 550.4 171.5C551.2 171 552 170.6 552.8 170.3C555.5 169.3 557.8 169.4 557.8 169.4C559.1 169.4 560.4 169.7 561.7 170.2C562.6 170.6 563.5 171.1 564.4 171.7C564.6 171.8 564.8 172 565 172.1C565.7 172.7 566.4 173.3 567 174.1C567.1 174.2 567.2 174.4 567.4 174.5C567.9 175.1 568.4 175.8 568.8 176.5C568.9 176.6 569 176.8 569.1 176.9C569.5 177.5 569.8 178.2 570.2 178.9C570.3 179 570.3 179.2 570.4 179.3C570.7 179.9 571 180.6 571.3 181.3C571.4 181.4 571.4 181.6 571.5 181.7C571.7 182.3 572 183 572.2 183.7C572.2 183.8 572.3 184 572.3 184.1C572.4 184.3 572.4 184.5 572.4 184.6Z","fill","#FFCA51"],["id","Group_10"],["id","Vector_43","opacity","0.25","d","M565.2 172.2H549.9C550.1 172 550.2 171.9 550.4 171.8H564.6C564.8 171.9 565 172 565.2 172.2Z","fill","white"],["id","Vector_44","opacity","0.25","d","M567.6 174.6H548C548.1 174.5 548.2 174.3 548.3 174.2H567.3C567.3 174.3 567.4 174.4 567.6 174.6Z","fill","white"],["id","Vector_45","opacity","0.25","d","M569.2 177H546.4C546.5 176.9 546.6 176.7 546.6 176.6H569C569.1 176.7 569.1 176.8 569.2 177Z","fill","white"],["id","Vector_46","opacity","0.25","d","M570.5 179.4H545.2C545.3 179.3 545.3 179.1 545.4 179H570.3C570.4 179.1 570.4 179.2 570.5 179.4Z","fill","white"],["id","Vector_47","opacity","0.25","d","M571.5 181.8H544.2C544.3 181.7 544.3 181.5 544.4 181.4H571.4C571.4 181.5 571.5 181.7 571.5 181.8Z","fill","white"],["id","Vector_48","opacity","0.25","d","M572.3 184.2H543.6C543.5 184.1 543.5 184 543.5 183.9V183.8H572.2C572.2 183.9 572.3 184 572.3 184.2Z","fill","white"],["id","Vector_49","opacity","0.25","d","M571.4 186.2C571.3 186.3 571.2 186.5 571.1 186.6H545.4C545.3 186.5 545.2 186.3 545.1 186.2H571.4Z","fill","white"],["id","Vector_50","opacity","0.25","d","M547.1 188.6H550C549.9 188.7 549.8 188.9 549.8 189H547.5C547.4 188.9 547.3 188.7 547.1 188.6Z","fill","white"],["id","Vector_51","opacity","0.25","d","M569.3 189H550.7C550.7 188.8 550.7 188.7 550.8 188.6H569.3C569.3 188.7 569.3 188.8 569.3 189Z","fill","white"],["id","Vector_52","opacity","0.25","d","M569.7 191.4H550.3C550.3 191.3 550.3 191.2 550.4 191.1V191H569.7C569.7 191.1 569.7 191.3 569.7 191.4Z","fill","white"],["id","Vector_53","opacity","0.25","d","M570 193.8H549.7C549.7 193.7 549.8 193.5 549.8 193.4H570C569.9 193.6 570 193.7 570 193.8Z","fill","white"],["id","Vector_54","opacity","0.25","d","M570.1 195.8C570.1 195.9 570.1 196.1 570.1 196.2H549.3C549.3 196.1 549.3 195.9 549.3 195.8H570.1Z","fill","white"],["id","Vector_55","opacity","0.25","d","M569.9 198.2C569.9 198.4 569.8 198.5 569.8 198.6H550.5C550.3 198.5 550.1 198.3 550 198.2H569.9Z","fill","white"],["id","Vector_56","d","M570.3 238.7C569.4 239.3 563.3 239.9 563.3 239.9L563.1 238.8L562 232.1L559.3 216.4L556.6 236.1L555.8 241.9C555.8 241.9 548.3 242.3 548.3 240.5C548.3 240.3 548.3 239.5 548.4 238.2C548.6 230.2 549.5 203.9 549.7 198C550 198.6 550.7 199 551.7 199.1C551.8 199.1 551.9 199.1 552 199.1C555.8 199.7 566.5 200.6 569.1 199.4C569.2 200.4 569.3 201.9 569.4 203.8C569.8 211.4 570.1 225.2 570.3 232.9C570.3 236.4 570.3 238.7 570.3 238.7Z","fill","#2F1829"],["id","Vector_57","opacity","0.25","d","M562 232.1L559.3 216.4C559.3 216.4 560 210.1 560.3 209.3C560.6 208.6 562.5 209.1 563.3 208.6C563.7 209.6 561 211 560.8 214.3C560.7 216.6 561.5 226.7 562 232.1Z","fill","black"],["id","Vector_58","opacity","0.25","d","M551.1 201.4C551.1 201.4 550.9 205 553.8 206.7","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Group_11","opacity","0.25"],["id","Group_12","opacity","0.25"],["id","Vector_59","opacity","0.25","d","M551.8 206.2L551.7 206.9","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_60","opacity","0.25","d","M551.7 208.2L550.3 238","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","1.39 1.39"],["id","Vector_61","opacity","0.25","d","M550.2 238.7V239.4","stroke","white","stroke-width","0.4635","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_62","opacity","0.25","d","M562 209.6L564.7 237.9","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","1.39 1.39"],["id","Vector_63","opacity","0.25","d","M564.3 201.9C564.3 201.9 564 205.4 564.3 206C564.6 206.7 565.9 207.2 566.2 207.4C566.5 207.5 567.7 206.4 567.8 205.7C567.9 205 567.9 202 567.9 202C567.9 202 565.7 201.6 564.3 201.9Z","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_64","opacity","0.25","d","M570.3 238.7C569.4 239.3 563.3 239.9 563.3 239.9L563.1 238.8C564.9 237.8 568.4 235.6 570.2 232.9C570.3 236.4 570.3 238.7 570.3 238.7Z","fill","black"],["id","Vector_65","d","M570.7 241.3L569.9 241.4L564.5 242.2L564.1 242.3C563.3 242.4 562.6 241.9 562.4 241.1V241C562.3 240.2 562.8 239.5 563.6 239.3L570.2 238.3C571 238.2 571.7 238.7 571.9 239.5V239.6C572 240.4 571.5 241.2 570.7 241.3Z","fill","#4C3146"],["id","Vector_66","opacity","0.25","d","M556.7 236L555.9 241.8C555.9 241.8 548.4 242.2 548.4 240.4C548.4 240.2 548.4 239.4 548.5 238.1C550.2 238 554.3 237.5 556.7 236Z","fill","black"],["id","Vector_67","d","M556.5 242.2V242.3C556.4 243.1 555.7 243.7 554.9 243.6L549.2 243.1L548.3 243C547.5 242.9 546.9 242.2 547 241.4V241.3C547.1 240.5 547.8 239.9 548.6 240L555.2 240.6C556 240.7 556.6 241.4 556.5 242.2Z","fill","#4C3146"],["id","Vector_68","opacity","0.25","d","M569.4 203.8C560.2 205 554 200.8 551.9 199.1C555.7 199.7 566.4 200.6 569 199.4C569.2 200.4 569.3 201.9 569.4 203.8Z","fill","black"],["id","Vector_69","opacity","0.25","d","M550.4 191.1C551.1 187.8 550.8 186.9 550.8 186.9C550.8 186.9 549.6 189.9 548.9 190C548.6 190 547.4 188.9 546.2 187.6C547.2 187.3 548.7 186.8 549.5 185.9C550.7 184.5 550.6 178.5 551.1 178.5C551.6 178.5 552.7 189.6 549.6 193.9C549.9 193 550.2 192 550.4 191.1Z","fill","black"],["id","Vector_70","opacity","0.25","d","M572.4 184.6C571 187.2 569.2 188.5 569.2 188.5C569.2 188.5 567.6 179.9 567.1 179.1C566.7 178.4 567.3 177.8 568.2 180.7C568.9 183 570.7 184.7 572.3 184.3C572.4 184.3 572.4 184.4 572.4 184.6Z","fill","black"],["id","Vector_71","opacity","0.25","d","M569.5 199.1C569.4 199.2 569.2 199.3 569 199.4C567.5 200.1 563.7 200.1 559.8 199.9C562.4 199.6 568.7 198.2 569.8 192.7C570.1 195.2 570.3 198.2 569.5 199.1Z","fill","black"],["id","Vector_72","opacity","0.25","d","M562 170.2C561.7 170.6 561.1 170.8 560.1 170.6C558.2 170.2 555.7 171 554.5 170.8C553.8 170.7 553.4 170.5 553.1 170.3C555.8 169.3 558.1 169.4 558.1 169.4C559.4 169.4 560.7 169.7 562 170.2Z","fill","black"],["id","Vector_73","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C544.4 192 542.9 190 542 188.8C542.8 187.4 543.6 185.7 544 184.9C544.5 185.7 545.3 186.7 546.2 187.6C547.2 188.8 548.2 189.8 548.7 190Z","fill","#2F1829"],["id","Vector_74","opacity","0.25","d","M548.7 190C548 190.9 547.2 192 546.3 193.1C546 193.5 545.6 193.9 545.3 194.3C545.4 190.8 544.2 187.7 543.5 186.1C543.7 185.6 543.9 185.2 544.1 184.9C544.6 185.7 545.4 186.7 546.3 187.6C547.2 188.8 548.2 189.8 548.7 190Z","fill","black"],["id","Vector_75","opacity","0.25","d","M542.7 187.6C542.7 188.6 541.7 190.1 541.5 190.5C541.2 191 541.4 193.3 541.1 193C540.8 192.7 540.7 191.6 540.3 191.2C539.9 190.9 535.3 189.7 534.5 189.5C536.8 190 540.2 191.1 540.7 190.8C541 190.7 541.5 189.8 542.1 188.7C542.3 188.5 542.5 188.1 542.7 187.6Z","fill","white"],["id","Vector_76","opacity","0.25","d","M561.7 166.2C561.2 167.1 560.4 168 559.7 168.6C559.1 169 558.6 169.3 558.2 169.3C556.9 169.1 555.2 166.9 555.1 166.5C555.1 166.1 556.5 165.9 556.4 164.7C556.2 163.5 555.4 163.3 554.9 163.5C554.3 163.7 553.6 165 553.6 166.2C553.2 166.1 552.5 164.7 551.1 163.8C550.7 163.6 550.3 163.4 549.8 163.3C550.5 163.2 551.4 163.2 551.9 163.4C553.1 163.9 553.2 164.4 553.2 164.4C553.2 164.4 553.4 162.6 555.4 162.2C557.1 161.9 558.4 166.5 561.7 166.2Z","fill","black"],["id","Vector_77","d","M555.9 251.1H542.8C542.8 251.1 542.7 250.7 542.7 250.2C542.7 249.5 542.9 248.6 544 248.2C544.4 248 544.8 247.9 545.2 247.7C546.8 246.9 548.6 245.9 548.9 245.3C548.9 245.3 549 245.3 549.2 245.4C549.5 245.5 550.1 245.8 550.8 246C551.1 246.1 551.4 246.1 551.7 246.1C552.4 246.1 553.9 245.7 554.8 245.6C555.2 245.5 555.5 245.5 555.6 245.7C555.8 246 556 248.7 556.1 250.2C555.8 250.7 555.9 251.1 555.9 251.1Z","fill","#1F3247"],["id","Vector_78","d","M554.9 243.6C554.8 244.2 554.7 244.9 554.5 245.5C553.8 245.6 552.9 245.8 552.2 245.9C551.9 245.9 551.7 246 551.5 246C550.7 246 549.6 245.5 549.1 245.3C549.1 244.6 549.2 243.7 549.2 243L551.5 243.2L554.9 243.6Z","fill","url(#paint15_linear)"],["id","Vector_79","d","M571.6 251.1H563.7C563.7 251.1 563.6 250.7 563.6 250.2C563.6 249.8 563.7 249.4 563.9 248.9C564.5 247.6 564.2 245.6 564.4 245.2C564.4 245.2 564.5 245.2 564.8 245.2C565.9 245.1 569 244.8 569.9 244.8C570 244.8 570 244.8 570.1 244.8C570.6 245 571.2 248.4 571.5 250.2C571.6 250.6 571.6 250.9 571.6 251.1Z","fill","#1F3247"],["id","Vector_80","opacity","0.25","d","M555.8 250.1C555.8 250.7 555.9 251 555.9 251H542.8C542.8 251 542.7 250.6 542.7 250.1H555.8Z","fill","black"],["id","Vector_81","opacity","0.25","d","M571.6 251.1H563.7C563.7 251.1 563.6 250.7 563.6 250.2H571.5C571.6 250.6 571.6 250.9 571.6 251.1Z","fill","black"],["id","Vector_82","d","M550.6 245.9C549.4 246.7 547.1 248.1 546.3 248.1C545.7 248.1 545.3 247.8 545 247.6C546.6 246.8 548.4 245.8 548.7 245.2C548.7 245.2 548.8 245.2 549 245.3C549.4 245.5 550 245.7 550.6 245.9Z","fill","#122230"],["id","Vector_83","opacity","0.25","d","M554.9 243.6C554.8 244.2 554.7 244.9 554.5 245.5C553.8 245.6 552.9 245.8 552.2 245.9L551.4 243.2L554.9 243.6Z","fill","black"],["id","Vector_84","opacity","0.25","d","M569.9 241.4V244.7C569.3 244.6 567.9 244.7 566.7 244.9L565.8 242.1L569.9 241.4Z","fill","black"],["id","Group_13"],["id","Group_14"],["id","Vector_85","d","M98.3 163.3C98.3 163.3 98.2 164.3 98.1 165.5C97.9 167.1 97.5 169.2 96.8 170.2C96.8 170.2 96.8 170.3 96.7 170.3C95.6 171.7 93.6 171.4 92.6 169.6C93.2 168.8 93.5 167.9 93.1 167.5C92.3 166.7 92.5 164.4 93.7 164.7C94.9 165 95.1 168.2 95.5 168.1C95.8 168.2 97.6 165.3 98.3 163.3Z","fill","url(#paint16_linear)"],["id","Vector_86","d","M98.7 161.9C98.7 162.2 98.6 162.7 98.4 163.3C98.3 163.6 98.1 164 98 164.3C97.2 166.1 95.9 168.1 95.6 168.2C95.2 168.3 95 165 93.8 164.8C92.6 164.5 92.4 166.8 93.2 167.6C93.6 168 93.3 168.9 92.7 169.7C92 170.5 91 171.1 89.9 170.4C87.9 169.2 87.5 161.4 87.5 160.8C87.5 160.8 87.5 160.3 87.6 159.6C87.8 158.6 88.5 157.4 90.2 156.6C93.2 155.3 98.7 155.6 98.7 161.9Z","fill","#2F1829"],["id","Vector_87","d","M114.4 194.3C114.4 194.4 114.4 194.5 114.3 194.5C114.2 194.9 114.1 195.1 114 195.1C113.9 195.1 113.3 195.1 112.4 195C111.2 194.8 109.4 194.6 107.8 194.3C105.8 193.9 104 193.5 103.4 193.2C102.9 192.9 102.1 191.9 101.3 190.7C101.1 190.4 100.9 190.1 100.7 189.7C99.7 188.1 98.9 186.5 98.7 186.1C98.7 186 98.6 186 98.6 186C98.6 186 98.6 186 98.6 186.1C98.6 186.5 98.4 188.1 97.9 189.7C97.8 190 97.7 190.4 97.5 190.7C97.4 191 97.2 191.3 97 191.5C96.5 192.3 96.6 193.3 96.9 194.3C96.9 194.4 97 194.5 97 194.7C97.1 194.9 97.2 195.1 97.3 195.3C97.5 195.7 97.6 196 97.8 196.3C98.3 197.3 98.7 198.2 98.6 198.7C98.6 198.8 98.5 198.8 98.4 198.9C98.3 199 98.3 199 98.2 199.1C97.9 199.3 97.3 199.6 96.6 199.9C92.7 201.5 83.9 203.4 80.1 199.9C80 199.8 80 199.8 79.9 199.7C79.7 199.4 79.6 199.2 79.6 198.9C79.6 198.5 79.8 198.2 80.1 197.7C80.5 197 81.2 196.3 81.7 195.2C81.9 194.9 82 194.6 82.1 194.2C82.3 193.7 82.5 193.1 82.5 192.4C82.6 191.8 82.6 191.1 82.7 190.5C82.7 190.2 82.8 189.8 82.8 189.5C82.9 188.2 82.9 187 82.9 185.9C82.9 185.6 82.9 185.2 82.9 184.9C82.9 183.6 82.8 182.4 82.8 181.3C82.8 181 82.8 180.6 82.8 180.3C82.8 179 82.8 177.8 82.9 176.7C82.9 176.4 83 176 83 175.7C83.3 174.2 83.9 173 85 172.1L85.1 172C85.5 171.7 85.9 171.4 86.2 171.1C86.6 170.8 87 170.6 87.3 170.3C89.7 168.9 90.9 169.1 90.9 169.1C90.9 169.1 91.6 169.1 92.7 169.3C93.8 169.5 95.1 169.8 96.5 170.3C96.7 170.4 96.8 170.4 97 170.5C97.4 170.7 97.7 170.8 98.1 171C98.3 171.1 98.6 171.3 98.8 171.4C99.1 171.6 99.4 171.8 99.6 172C100.3 172.5 100.8 173.1 101.3 173.8C101.6 174.3 102 175 102.3 175.6C102.5 175.9 102.6 176.2 102.8 176.6C103.3 177.8 103.9 179 104.4 180.2C104.5 180.5 104.7 180.9 104.8 181.2C105.3 182.5 105.8 183.8 106.1 184.8C106.2 185.1 106.3 185.5 106.4 185.8C106.8 186.9 107 187.6 107.1 187.9C107.2 188.3 108.1 188.7 109.2 189.1C109.6 189.2 109.9 189.3 110.3 189.4C111.1 189.6 111.8 189.8 112.5 190C113 190.1 113.5 190.3 113.9 190.4C114.3 190.5 114.5 190.6 114.6 190.7C114.6 190.7 114.6 190.8 114.7 190.9C114.7 191.8 114.6 193.3 114.4 194.3Z","fill","#F5B539"],["id","Group_15","opacity","0.25"],["id","Group_16","opacity","0.25"],["id","Vector_88","opacity","0.25","d","M98.1 171.4C98.4 171.6 98.7 171.7 99 171.9H85.7C85.9 171.7 86.2 171.5 86.4 171.4H98.1ZM98.1 171.2H86.2C85.8 171.5 85.5 171.7 85.1 172.1L85 172.2H99.7C99.2 171.8 98.7 171.5 98.1 171.2Z","fill","white"],["id","Group_17","opacity","0.25"],["id","Vector_89","opacity","0.25","d","M102.1 176.1C102.2 176.3 102.3 176.4 102.4 176.6H83.1C83.1 176.4 83.2 176.2 83.2 176.1H102.1ZM102.3 175.8H83C82.9 176.1 82.9 176.4 82.9 176.8H102.8C102.6 176.5 102.4 176.1 102.3 175.8Z","fill","white"],["id","Group_18","opacity","0.25"],["id","Vector_90","opacity","0.25","d","M104.2 180.7C104.3 180.9 104.3 181 104.4 181.2H83.1C83.1 181 83.1 180.9 83.1 180.7H104.2ZM104.3 180.5H82.8C82.8 180.8 82.8 181.1 82.8 181.5H104.7C104.6 181.1 104.4 180.8 104.3 180.5Z","fill","white"],["id","Group_19","opacity","0.25"],["id","Vector_91","opacity","0.25","d","M105.9 185.3L106 185.7L106.1 185.9H83.3C83.3 185.7 83.3 185.6 83.3 185.4H105.9V185.3ZM106 185.1H83C83 185.4 83 185.7 83 186.1H106.4C106.3 185.8 106.1 185.4 106 185.1Z","fill","white"],["id","Group_20","opacity","0.25"],["id","Vector_92","opacity","0.25","d","M97.6 189.9C97.5 190.1 97.5 190.3 97.4 190.4H83.1C83.1 190.2 83.1 190.1 83.1 189.9H97.6ZM97.9 189.7H82.9C82.9 190 82.9 190.3 82.8 190.7H97.5C97.7 190.4 97.8 190 97.9 189.7Z","fill","white"],["id","Group_21","opacity","0.25"],["id","Vector_93","opacity","0.25","d","M110.2 189.9C110.8 190.1 111.4 190.2 111.9 190.4L112.1 190.5H101.5C101.4 190.3 101.3 190.2 101.2 190H110.2V189.9ZM110.2 189.7H100.7C100.9 190 101.1 190.4 101.3 190.7H113.7C113.3 190.6 112.9 190.4 112.3 190.3C111.8 190.1 111 189.9 110.2 189.7Z","fill","white"],["id","Group_22","opacity","0.25"],["id","Vector_94","opacity","0.25","d","M96.9 194.6C96.9 194.6 96.9 194.7 97 194.7V194.8C97 194.9 97.1 195 97.1 195.1H82.2C82.3 194.9 82.4 194.8 82.4 194.6H96.9V194.6ZM97 194.3H82.2C82.1 194.7 81.9 195 81.8 195.3H97.4C97.3 195.1 97.2 194.9 97.1 194.7C97.1 194.6 97.1 194.5 97 194.3Z","fill","white"],["id","Group_23","opacity","0.25"],["id","Vector_95","opacity","0.25","d","M114.1 194.6C114 194.9 113.9 195 113.9 195C113.9 195 113.9 195 113.8 195C113.6 195 113.1 195 112.4 194.9C111.8 194.8 111.2 194.7 110.5 194.6H114.1V194.6ZM114.4 194.3H107.8C109.4 194.6 111.2 194.9 112.4 195C113.1 195.1 113.6 195.1 113.8 195.1C113.9 195.1 113.9 195.1 114 195.1C114.1 195.1 114.2 194.8 114.3 194.5C114.4 194.5 114.4 194.4 114.4 194.3Z","fill","white"],["id","Group_24","opacity","0.25"],["id","Vector_96","opacity","0.25","d","M97.8 199.2C97.5 199.4 97.1 199.5 96.7 199.7H80.4L80.3 199.6L80.1 199.8L80.2 199.6C80.1 199.5 80 199.4 80 199.2H97.8ZM98.5 199H79.7C79.7 199.3 79.8 199.5 80 199.8C80.1 199.9 80.1 199.9 80.2 200H96.7C97.4 199.7 97.9 199.4 98.3 199.2C98.4 199.1 98.4 199 98.5 199Z","fill","white"],["id","Vector_97","d","M99.9 242.3C99.8 242.5 99.8 242.7 99.7 242.8C98.6 244.7 95.6 244.9 94.5 244.5C94.4 244.5 94.2 244.4 94.2 244.3C93.5 243.7 93 238.9 89.4 211.7C89.4 211.8 89.4 211.8 89.4 211.9C89.3 215.8 88.5 222.6 87.7 228.9C86.8 235.9 85.8 242.2 85.6 243.2C85.6 243.5 85.4 243.8 85.2 244.1C84.2 245.2 81.7 245.5 80.2 243.7C80.1 243.6 80 243.4 79.9 243.2C80.5 238.2 80.8 222.8 79.8 213.6C79.4 210.2 79.4 207.2 79.5 204.8C79.6 202.3 79.9 200.5 80.1 199.5C83.9 203.3 93.1 201.3 97 199.6C97.6 199.3 98 199.1 98.3 198.9C99.3 203.5 98.9 216.4 99.9 242.3Z","fill","#2F1829"],["id","Vector_98","opacity","0.25","d","M97.1 170.7C90.7 170.9 88.9 180.8 88.9 180.8L87.4 170.4C89.8 169 91 169.2 91 169.2C91 169.2 94.1 169.4 97.1 170.7Z","fill","black"],["id","Vector_99","d","M107.2 251C107.2 251 96.3 251 94.5 251C94.4 250.6 94.4 250.1 94.4 249.5C94.4 249.3 94.4 249.1 94.4 248.8C94.4 247.3 94.4 245.5 94.5 244.6C94.8 244.7 95.2 244.8 95.7 244.7C96.7 244.7 97.9 244.4 98.8 243.8C99.1 243.6 99.4 243.2 99.6 242.9C100.4 244.6 102 245.7 103.5 246.5C104.8 247.2 106.1 247.7 106.6 248.1C107.1 248.5 107.3 249 107.3 249.5C107.5 250.2 107.2 251 107.2 251Z","fill","#1F3247"],["id","Vector_100","d","M85.3 249.5C85.3 250.5 85.2 251 85.2 251H77.9C78 250.5 78.1 250 78.2 249.5C78.8 247 79.7 244.8 80.1 243.9C80.6 244.5 81.2 244.8 81.8 245C82.5 245.2 83.2 245.2 83.9 245C84.4 244.8 84.9 244.6 85.2 244.2C85.4 246.3 85.3 248.2 85.3 249.5Z","fill","#1F3247"],["id","Vector_101","opacity","0.25","d","M98.7 198.7C98.7 198.8 98.5 199 98.3 199.1C96 200.7 84.4 204.1 80.1 199.7C79.5 199.1 79.8 198.5 80.3 197.8C80.9 198.3 82 198.8 84 199.2C87.9 199.8 94.7 198.8 98 196.4C98.4 197.4 98.8 198.2 98.7 198.7Z","fill","black"],["id","girllight"],["id","Vector_102","d","M121.8 188C121.8 188 119.4 179.3 124.5 173.8C129.6 168.3 143.5 160.1 143.8 149.9C144.1 139.7 151.7 126.9 161.8 124.5C171.9 122.2 179.6 98.8 188.7 94.2C197.8 89.5 210.7 89.1 214.4 83.2C218.1 77.3 261.7 162 259.6 170.7C257.4 179.4 218.6 168.2 208.2 170.8C197.8 173.4 192.9 179.6 181.3 181.2C169.7 182.8 152.5 180 146.5 183.4C140.5 186.8 129.4 191.8 123.9 189.8C121.6 188.8 121.8 188 121.8 188Z","fill","url(#paint17_linear)"],["id","Vector_103","d","M123.9 189.6L121.4 187.1C121 186.7 120.4 186.9 120.3 187.4L119.7 189.6L114.4 194.9C114.2 195.1 114.2 195.5 114.4 195.7L115.2 196.5C115.4 196.7 115.8 196.7 116 196.5L121.3 191.2L123.5 190.6C124.1 190.6 124.3 190 123.9 189.6Z","fill","#2F1829"],["id","Vector_104","d","M121.2 192.6C121.1 193.4 118.2 195.9 117.3 195.7C117.2 195.7 117 195.6 116.9 195.5C116.3 195.2 115.6 194.6 114.4 194.5C114.6 193.5 114.7 191.7 114.6 191.1C114.8 191 115 190.9 115.2 190.8C116.2 190.4 117.5 189.8 118 189.9C118.9 190.2 121.4 191.8 121.2 192.6Z","fill","url(#paint18_linear)"],["id","Vector_105","opacity","0.25","d","M114.4 194.6C114.3 195 114.2 195.2 114.1 195.2C114 195.2 113.4 195.2 112.5 195.1C113.1 192.8 112.7 191.1 112.5 190.3C113.6 190.6 114.4 190.8 114.5 191C114.5 191 114.5 191.1 114.6 191.2C114.7 191.8 114.6 193.6 114.4 194.6Z","fill","black"],["id","Vector_106","opacity","0.25","d","M97.2 194.7C95.7 193.3 96.4 192.1 97.2 189.3C98 186.4 96.4 185.2 96.1 182C95.8 178.8 96.2 177 98.1 174.9C95.7 181.1 98.7 186 98.7 186C98.7 186 98.6 189.4 97.1 191.6C96.5 192.4 96.7 193.6 97.2 194.7Z","fill","black"],["id","Vector_107","opacity","0.25","d","M97.9 164.4C97.1 166.2 95.8 168.2 95.5 168.3C95.1 168.4 94.9 165.1 93.7 164.9C92.5 164.6 92.3 166.9 93.1 167.7C93.5 168.1 93.2 169 92.6 169.8C91.9 170.6 90.9 171.2 89.8 170.5C87.8 169.3 87.4 161.5 87.4 160.9C87.4 160.9 87.4 160.4 87.5 159.7C88.5 159.6 90.8 159.8 91.3 161.8C91.8 163.8 91.8 164.7 91.8 165.1C91.9 164.5 92.4 162.8 94.3 163.2C95.4 163.3 96.7 164.1 97.9 164.4Z","fill","black"],["id","hairgirl"],["id","Vector_108","d","M89.6 161.6C89.6 161.6 88.8 159.9 86.1 160.4C83.5 160.9 82.3 164.3 83.5 169.8C83.5 164.9 84.2 163.8 84.2 163.8C84.2 163.8 83.1 166.8 84.5 173.5C85.9 180.2 86.8 186.7 83.2 189.5C90.3 185.5 90.8 180.7 90.3 174.9C90 169.1 91.3 164 89.6 161.6Z","fill","#2F1829"],["id","Vector_109","opacity","0.25","d","M93.9 167.5C93.8 167.9 95.2 169.8 96.7 170.2C96.7 170.2 96.7 170.3 96.6 170.3C96.6 170.4 96.5 170.4 96.5 170.5C95.1 170 93.7 169.6 92.7 169.5C93.2 168.8 93.4 168 93 167.6C92.2 166.8 92.4 164.5 93.6 164.8C94.8 165.1 95 168.3 95.4 168.2C95.7 168.1 97.5 165.3 98.2 163.3C98.2 163.3 98.1 164.3 98 165.5C97.6 166.2 96.7 167.7 96 168.3C95.1 169.1 94.7 168.1 94.5 167.5C94.4 167 94 167 93.9 167.5Z","fill","black"],["id","Vector_110","opacity","0.25","d","M81.5 204.9C81.5 204.9 81.3 208.6 81.8 209.6C82.3 210.6 83.7 211.3 83.7 211.3C83.7 211.3 85.5 210.5 86 209.4C86.5 207.2 86.4 204.5 86.4 204.5C86.4 204.5 82.8 203.7 81.5 204.9Z","stroke","white","stroke-width","0.4635","stroke-miterlimit","10"],["id","Vector_111","opacity","0.25","d","M97.2 201.9C97.2 201.9 97.4 205 94.7 206.5","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_112","opacity","0.25","d","M96.5 204.6L98.7 241.6","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_113","opacity","0.25","d","M89.3 212C89.2 215.9 88.4 222.7 87.6 229.1C87.5 221.7 86.4 212.6 86.8 211.1C87.9 212.1 89.3 212 89.3 212Z","fill","black"],["id","Vector_114","opacity","0.25","d","M87.4 213L84.3 243.2","stroke","white","stroke-width","0.4635","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],["id","Vector_115","opacity","0.25","d","M96.9 199.9C95.1 201.7 89.5 206.1 79.4 205.1C79.5 202.6 79.8 200.8 80 199.8C83.8 203.6 93.1 201.5 96.9 199.9Z","fill","black"],["id","Vector_116","opacity","0.25","d","M78.3 249.5H85.3C85.3 250.5 85.2 251 85.2 251H77.9C78 250.5 78.1 250 78.3 249.5Z","fill","black"],["id","Vector_117","opacity","0.25","d","M107.2 251C107.2 251 96.3 251 94.5 251C94.4 250.6 94.4 250.1 94.4 249.5H107.4C107.5 250.2 107.2 251 107.2 251Z","fill","black"],["id","Vector_118","opacity","0.25","d","M103.6 246.4C101.3 247.5 99.7 245.2 98.9 243.7C99.2 243.5 99.5 243.1 99.7 242.8C100.5 244.5 102.1 245.6 103.6 246.4Z","fill","white"],["id","Vector_119","opacity","0.25","d","M83.9 245C83.7 248.4 82.5 248.5 81.9 248.1C81.3 247.8 81.7 245.6 81.9 244.9C82.5 245.2 83.2 245.2 83.9 245Z","fill","black"],["id","Vector_120","opacity","0.25","d","M94.4 248.8C94.4 247.3 94.4 245.5 94.5 244.6C94.8 244.7 95.2 244.8 95.7 244.7C95.9 245.8 96 248.3 94.4 248.8Z","fill","black"],["id","Vector_121","opacity","0.25","d","M114.4 194.6C114.6 193.6 114.7 191.8 114.6 191.2C114.8 191.1 115 191 115.2 190.9C115.8 191.8 116.9 193.5 117 195.5C116.3 195.2 115.7 194.6 114.4 194.6Z","fill","black"],["id","Vector_122","opacity","0.25","d","M109.1 189.4C107.1 189.6 105.7 191.7 105.6 191.3C105.4 190.8 106.5 189.8 106.4 189.1C106.3 188.4 103.2 180.5 101.5 176.6C100.5 174.2 99.5 172.6 98.9 171.6C99.2 171.8 99.5 172 99.7 172.2C100.4 172.7 100.9 173.3 101.4 174C101.7 174.5 102.1 175.2 102.4 175.8C102.6 176.1 102.7 176.4 102.9 176.8C103.4 178 104 179.2 104.5 180.4C104.6 180.7 104.8 181.1 104.9 181.4C105.4 182.7 105.9 184 106.2 185C106.3 185.3 106.4 185.7 106.5 186C106.9 187.1 107.1 187.8 107.2 188.1C107.2 188.6 108 189 109.1 189.4Z","fill","white"],["id","Vector_123","d","M592.4 253C591.7 252.5 570.9 196.3 594.9 164.3C591.6 186.9 593.4 205.4 593.4 205.4L590.3 208.5L593.8 209.5C593.8 209.5 596.1 240.9 597.3 244.5C594.7 221 601.1 207.3 601.1 207.3C601.1 207.3 600 224 602.1 230.1L600.4 232.3L602.1 232C602.1 232 600.9 242.1 602.1 245.1C602.1 245.1 615.5 205.1 609.2 187.5C617.5 200.3 615.1 221.8 615.1 221.8L613 222.6L614.3 223.6C614.3 223.6 610.8 246.5 602.9 252.9","fill","#2F1829"],["id","Group_25"],["id","Vector_124","d","M452.1 246.4C452.1 246.4 433.5 244.7 426.1 249.9C429.6 244.9 443.7 242.6 443.7 242.6L444.7 243.4V242.6C444.7 242.6 447.1 241.4 450.6 240.9C433.7 237.6 425.6 240.8 425.6 240.8C425.6 240.8 428.7 238.2 433.9 236.7C439.1 235.2 442.3 235.8 442.3 235.8L444.4 237.1V235.7L462.4 241","fill","black"],["id","Vector_125","d","M523.5 247.4C523.5 247.4 521.5 234.8 531.8 226.1C531.7 236.3 528.9 245 523.5 247.4Z","stroke","#1F3247","stroke-width","0.9271","stroke-miterlimit","10"],["id","Group_26"],["id","Vector_126","d","M454.5 239.1L452.5 244C451.1 239.1 448 238.1 446.4 238C445.8 237.9 445.5 238 445.5 238L446.2 235.6L443.9 236C443.9 236 441.3 229.7 429.6 222C440.3 221.4 446.9 227 450.6 232C453.4 235.7 454.5 239.1 454.5 239.1Z","fill","#FFCA51"],["id","Group_27","opacity","0.25"],["id","Vector_127","opacity","0.25","d","M429.6 222C432.1 222.6 434.6 223.5 437 224.6C439.4 225.7 441.7 226.9 443.9 228.3C446.1 229.8 448.1 231.5 449.9 233.5C451.6 235.5 453 237.8 454 240.3C454 240.4 454 240.6 453.9 240.6C453.8 240.6 453.6 240.6 453.6 240.5C452.7 238.1 451.4 235.8 449.7 233.8C448 231.8 446 230.1 443.9 228.6C441.7 227.1 439.4 225.9 437 224.8C434.6 223.6 432.1 222.6 429.6 222Z","fill","white"],["id","Vector_128","opacity","0.25","d","M454.5 239.1L452.5 244C451.1 239.1 448 238.1 446.4 238C449.2 236.3 450.2 233.6 450.6 231.9C453.4 235.7 454.5 239.1 454.5 239.1Z","fill","black"],["id","Group_28"],["id","Vector_129","d","M531.8 215.8C512.6 231.6 507.7 239.4 507.7 239.4L504.3 237.9C504.3 237.9 504.3 238 504.3 238.2C504.3 239.1 504.4 241.5 504.3 242.4C504.2 243.1 497.4 246.8 493.5 248.8C491.9 249.6 490.9 250.2 490.9 250.2L487.7 247L488 246.4L489.7 243.2C489.7 243.2 494.1 236.9 501.6 230.3C508.9 223.7 519.4 216.9 531.8 215.8Z","fill","#FFADAE"],["id","Group_29","opacity","0.25"],["id","Vector_130","opacity","0.25","d","M489.6 248.9C492.2 245.1 495.1 241.5 498.1 238.1C501.1 234.7 504.4 231.4 507.8 228.4C511.3 225.4 515 222.7 519 220.4C523 218.2 527.3 216.5 531.8 215.7C527.3 216.5 523 218.2 519 220.5C515 222.8 511.4 225.5 507.9 228.5C504.5 231.5 501.3 234.8 498.3 238.2C495.3 241.6 492.5 245.2 489.9 249C489.8 249.1 489.7 249.1 489.6 249.1C489.5 249.2 489.5 249 489.6 248.9Z","fill","white"],["id","Vector_131","opacity","0.25","d","M504.3 242.3C504.2 243 497.4 246.7 493.5 248.7C491.4 247.9 489.4 247 488 246.2L489.7 243C489.7 243 494.1 236.7 501.6 230.1C502 232.4 502.9 235.7 504.4 238.1C504.3 239 504.4 241.5 504.3 242.3Z","fill","black"],["id","Group_30"],["id","Vector_132","d","M519.7 205.4C506 216.8 499.7 226.4 497.1 231.2C495.9 233.4 495.5 234.7 495.5 234.7L492.5 233.6L493.7 236.3L489.3 245.1L487.4 249V233.6C488 232.5 488.8 231 489.8 229.3C491.7 226.1 494.4 222.2 497.9 218.4C499.5 216.7 501.2 215 503 213.4C507.8 209.6 513.3 206.5 519.7 205.4Z","fill","#F3475C"],["id","Group_31","opacity","0.25"],["id","Vector_133","opacity","0.25","d","M487.3 239.8C488.7 236 490.6 232.4 492.7 228.9C494.8 225.4 497.3 222.2 500 219.2C502.7 216.2 505.8 213.5 509.1 211.1L511.6 209.4L514.3 207.9C514.7 207.7 515.2 207.4 515.6 207.2L517 206.6L519.8 205.4L517 206.6L515.6 207.2C515.2 207.4 514.7 207.7 514.3 207.9L511.7 209.4L509.2 211.1C505.9 213.5 502.9 216.2 500.2 219.2C497.5 222.2 495.1 225.5 493.1 229C491 232.5 489.2 236.1 487.9 239.9C487.9 240 487.7 240.1 487.6 240C487.3 240.1 487.3 239.9 487.3 239.8Z","fill","white"],["id","Vector_134","opacity","0.25","d","M495.6 234.8L492.6 233.7L493.8 236.4L489.4 245.2L487.5 245.5V233.7C488.1 232.6 488.9 231.1 489.9 229.4C491.3 230.5 493.7 231.8 497.1 231.3C496 233.5 495.6 234.8 495.6 234.8Z","fill","black"],["id","Vector_135","d","M537.2 251.1H487.5V244.1C487.5 244.1 488.2 242.4 490.2 241.4C490.8 241.1 491.6 240.8 492.4 240.7C496.1 240.2 497.4 243.3 497.4 243.3C497.4 243.3 498.3 240.6 502 240.3C505.6 240 507.8 245.6 507.9 246C507.9 245.7 507.6 242.6 510.4 242.4C513.3 242.2 513.3 246 513.3 246C513.3 246 515.6 243.5 518.6 243.6C521.6 243.8 522.2 246.7 522.2 246.7C522.2 246.7 523.9 244.2 527.5 245.1C531.2 245.9 531.7 251.1 537.2 251.1Z","fill","#982245"],["id","Vector_136","opacity","0.25","d","M521.7 251.1H487.6V244.1C487.6 244.1 488.3 242.4 490.3 241.4C491.8 241.5 494.4 242 495.5 244C497.1 246.9 497.2 249.6 497.2 249.6C497.2 249.6 500.5 244.8 503.2 245.6C505.9 246.4 507.3 249.6 507.3 249.6C507.3 249.6 510.1 246.6 512.5 247.6C513.6 248.2 517.8 249.7 521.7 251.1Z","fill","black"],["id","Vector_137","d","M423.7 253C423.5 252.9 417.7 237.1 424.4 228.1C423.5 234.5 424 239.7 424 239.7L423.1 240.6L424.1 240.9C424.1 240.9 424.8 249.7 425.1 250.8C424.4 244.2 426.2 240.3 426.2 240.3C426.2 240.3 425.9 245 426.5 246.7L426 247.3L426.5 247.2C426.5 247.2 426.2 250 426.5 250.9C426.5 250.9 430.3 239.7 428.5 234.7C430.8 238.3 430.2 244.3 430.2 244.3L429.6 244.5L430 244.8C430 244.8 429 251.2 426.8 253","fill","#2F1829"],["id","Group_32"],["id","Vector_138","d","M197 247.9C197 247.9 167.7 228.2 150.6 230C161 224.9 186.5 233.9 186.5 233.9L187.5 236.2L188.2 234.9C188.2 234.9 193.3 235 199.5 237.5C174.5 216.5 158.1 214.5 158.1 214.5C158.1 214.5 165.6 213.1 175.6 215.3C185.6 217.5 190.4 221.5 190.4 221.5L192.7 225.5L193.9 223.3L218.9 248.5","fill","black"],["id","Vector_139","d","M174.2 250.2C174.2 250.2 161.8 247.6 154.1 238.3C167.3 239.7 173 244.4 174.2 250.2Z","stroke","#1F3247","stroke-width","0.9271","stroke-miterlimit","10"],["id","Group_33"],["id","Vector_140","d","M215.5 194.6C214.4 219.4 217 228.3 217 228.3L213.6 229.9C213.6 229.9 213.7 230 213.8 230.1C214.5 230.7 216.3 232.3 216.9 232.9C217.4 233.4 215.6 241 214.5 245.2C214.1 246.9 213.8 248.1 213.8 248.1L209.3 248.3L209.1 247.6L207.8 244.2C207.8 244.2 206 236.7 206.1 226.8C206.1 216.9 208.1 204.5 215.5 194.6Z","fill","#FFADAE"],["id","Group_34","opacity","0.25"],["id","Vector_141","opacity","0.25","d","M212 248.1C210.9 243.6 210.2 239.1 209.6 234.6C209.1 230 208.8 225.5 208.9 220.9C209 216.3 209.4 211.7 210.4 207.3C211.4 202.8 213 198.5 215.5 194.6C213.1 198.5 211.5 202.8 210.5 207.3C209.5 211.8 209.1 216.3 209.1 220.9C209 225.5 209.4 230 209.9 234.6C210.5 239.1 211.3 243.6 212.4 248.1C212.4 248.2 212.4 248.4 212.2 248.4C212.2 248.3 212 248.3 212 248.1Z","fill","white"],["id","Vector_142","opacity","0.25","d","M216.9 232.8C217.4 233.3 215.6 240.9 214.5 245.1C212.5 246.2 210.5 247 209 247.6L207.7 244.2C207.7 244.2 205.9 236.7 206 226.8C208 228 211 229.5 213.8 230C214.4 230.6 216.3 232.2 216.9 232.8Z","fill","black"],["id","Group_35"],["id","Vector_143","d","M233 211.6C226.9 222.3 225.1 230 224.6 233.7C224.4 235.4 224.4 236.3 224.4 236.3H222.2L223.6 237.8L222.9 244.6L222.6 247.6L218.9 237.7C219 236.8 219.2 235.7 219.4 234.3C219.9 231.8 220.7 228.6 222 225.3C222.6 223.8 223.3 222.3 224.1 220.9C226.3 217.2 229.1 213.9 233 211.6Z","fill","#F3475C"],["id","Group_36","opacity","0.25"],["id","Vector_144","opacity","0.25","d","M220.2 241.7C220.2 238.9 220.5 236.1 221.1 233.3C221.6 230.5 222.4 227.9 223.5 225.3C224.5 222.7 225.9 220.2 227.4 217.9L228.6 216.2L230 214.6C230.2 214.3 230.5 214.1 230.7 213.8L231.5 213.1L233 211.7L231.5 213.2L230.8 213.9C230.6 214.2 230.3 214.4 230.1 214.7L228.8 216.3L227.6 218C226.1 220.3 224.7 222.8 223.8 225.4C222.8 228 222.1 230.7 221.5 233.4C221 236.1 220.7 238.9 220.7 241.7C220.7 241.8 220.6 241.9 220.5 241.9C220.3 241.9 220.2 241.8 220.2 241.7Z","fill","white"],["id","Vector_145","opacity","0.25","d","M224.4 236.4H222.2L223.6 237.9L222.9 244.7L221.7 245.3L218.9 237.7C219 236.8 219.2 235.7 219.4 234.3C220.5 234.7 222.4 235 224.5 233.8C224.4 235.5 224.4 236.4 224.4 236.4Z","fill","black"],["id","Vector_146","d","M254 251H241.6L187.6 251.1H171.6C171.6 251.1 172.9 246.8 179.2 244.8C185.5 242.8 187.3 246.9 187.3 246.9C187.3 246.9 187 238.7 194.4 235.9C201.8 233.1 205.1 242.5 205.1 242.5C205.1 242.5 206.6 237.9 214.5 237.5C222.4 237.1 221.6 243.3 221.6 243.3C221.6 243.3 226.1 238.3 234.2 239.4C242.3 240.5 243.1 247 243.1 247C243.1 247 250.2 244.8 254 251Z","fill","#982245"],["id","Vector_147","opacity","0.25","d","M241.6 251L187.6 251.1C190.4 248.6 195 245.4 199.8 245.3C207.7 245.2 209 248.1 209 248.1C209 248.1 213.9 242.9 217.7 243.8C221.6 244.7 221.7 248.8 221.7 248.8C221.7 248.8 234.1 245.9 241.6 251Z","fill","black"],["id","Vector_148","d","M262.9 254.5C262.9 254.5 253.9 238.6 256.6 223.2C259.2 235.3 265.7 243.3 265.7 243.3L263.1 245.4H265.7L271.3 256.1L263.7 254.5V255.2L262.9 254.5Z","fill","#2F1829"],["id","paint0_linear","x1","327.54","y1","250.471","x2","330.184","y2","46.9149","gradientUnits","userSpaceOnUse"],["stop-color","#E8D197"],["offset","1","stop-color","#FEF5DA"],["id","paint1_linear","x1","326.925","y1","147.902","x2","330.395","y2","242.079","gradientUnits","userSpaceOnUse"],["offset","1","stop-opacity","0"],["id","paint2_linear","x1","344.3","y1","64.1527","x2","344.961","y2","87.284","gradientUnits","userSpaceOnUse"],["stop-color","white"],["offset","1","stop-color","white","stop-opacity","0"],["id","paint3_linear","x1","130.102","y1","26.1247","x2","132.084","y2","77.0139","gradientUnits","userSpaceOnUse"],["id","paint4_linear","x1","455.752","y1","229.215","x2","433.942","y2","41.3544","gradientUnits","userSpaceOnUse"],["id","paint5_linear","x1","60.0761","y1","430.474","x2","23.3198","y2","113.867","gradientUnits","userSpaceOnUse"],["id","paint6_linear","x1","197.311","y1","242.736","x2","195.989","y2","148.447","gradientUnits","userSpaceOnUse"],["stop-color","#2F1829"],["offset","1","stop-color","#3B223C"],["id","paint7_linear","x1","322.636","y1","240.979","x2","321.314","y2","146.691","gradientUnits","userSpaceOnUse"],["id","paint8_linear","x1","447.456","y1","239.229","x2","446.134","y2","144.941","gradientUnits","userSpaceOnUse"],["id","paint9_linear","x1","281.068","y1","73.4007","x2","292.303","y2","109.089","gradientUnits","userSpaceOnUse"],["id","paint10_linear","x1","567.282","y1","246.761","x2","567.144","y2","239.051","gradientUnits","userSpaceOnUse"],["stop-color","#FECBA6"],["offset","1","stop-color","#D17878"],["id","paint11_linear","x1","575.336","y1","236.543","x2","417.383","y2","126.175","gradientUnits","userSpaceOnUse"],["id","paint12_linear","x1","529.726","y1","200.324","x2","554.29","y2","176.972","gradientUnits","userSpaceOnUse"],["id","paint13_linear","x1","568.688","y1","209.407","x2","569.018","y2","182.751","gradientUnits","userSpaceOnUse"],["id","paint14_linear","x1","552.343","y1","166.843","x2","558.043","y2","168.082","gradientUnits","userSpaceOnUse"],["id","paint15_linear","x1","550.457","y1","250.958","x2","552.881","y2","239.337","gradientUnits","userSpaceOnUse"],["id","paint16_linear","x1","95.6885","y1","163.838","x2","93.7609","y2","174.468","gradientUnits","userSpaceOnUse"],["id","paint17_linear","x1","75.5473","y1","236.543","x2","233.501","y2","126.174","gradientUnits","userSpaceOnUse"],["id","paint18_linear","x1","124.267","y1","190.961","x2","113.114","y2","194.142","gradientUnits","userSpaceOnUse"]],template:function(e,i){1&e&&(o.TgZ(0,"a",0)(1,"div",1)(2,"div",2)(3,"div",3),o.O4$(),o.TgZ(4,"svg",4)(5,"g",5)(6,"g",6),o._UZ(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18),o.qZA(),o._UZ(19,"path",19),o.TgZ(20,"g",20)(21,"g",21),o._UZ(22,"path",22),o.TgZ(23,"g",23),o._UZ(24,"path",24),o.qZA(),o._UZ(25,"path",25),o.qZA(),o._UZ(26,"path",26)(27,"path",27),o.TgZ(28,"g",28),o._UZ(29,"path",29),o.TgZ(30,"g",30),o._UZ(31,"path",31),o.qZA(),o._UZ(32,"path",32),o.qZA(),o._UZ(33,"path",33)(34,"path",34),o.qZA(),o.TgZ(35,"g",35),o._UZ(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40),o.qZA(),o.TgZ(41,"g",41),o._UZ(42,"path",42)(43,"path",43),o.qZA(),o.TgZ(44,"g",44)(45,"g",45),o._UZ(46,"path",46),o.TgZ(47,"g",47),o._UZ(48,"path",48)(49,"path",49)(50,"path",50)(51,"path",51),o.qZA(),o._UZ(52,"path",52)(53,"path",53)(54,"path",54)(55,"path",55)(56,"path",56)(57,"path",57)(58,"path",58),o.TgZ(59,"g",59),o._UZ(60,"path",60)(61,"path",61)(62,"path",62)(63,"path",63)(64,"path",64)(65,"path",65)(66,"path",66)(67,"path",67)(68,"path",68)(69,"path",69)(70,"path",70)(71,"path",71)(72,"path",72),o.qZA(),o._UZ(73,"path",73)(74,"path",74)(75,"path",75),o.TgZ(76,"g",76)(77,"g",77),o._UZ(78,"path",78)(79,"path",79)(80,"path",80),o.qZA()(),o._UZ(81,"path",81)(82,"path",82)(83,"path",83)(84,"path",84)(85,"path",85)(86,"path",86)(87,"path",87)(88,"path",88)(89,"path",89)(90,"path",90)(91,"path",91)(92,"path",92)(93,"path",93)(94,"path",94)(95,"path",95)(96,"path",96)(97,"path",97)(98,"path",98)(99,"path",99)(100,"path",100)(101,"path",101)(102,"path",102)(103,"path",103),o.qZA()(),o.TgZ(104,"g",104)(105,"g",105),o._UZ(106,"path",106)(107,"path",107)(108,"path",108),o.TgZ(109,"g",109)(110,"g",110),o._UZ(111,"path",111),o.qZA(),o.TgZ(112,"g",112),o._UZ(113,"path",113),o.qZA(),o.TgZ(114,"g",114),o._UZ(115,"path",115),o.qZA(),o.TgZ(116,"g",116),o._UZ(117,"path",117),o.qZA(),o.TgZ(118,"g",118),o._UZ(119,"path",119),o.qZA(),o.TgZ(120,"g",120),o._UZ(121,"path",121),o.qZA(),o.TgZ(122,"g",122),o._UZ(123,"path",123),o.qZA(),o.TgZ(124,"g",124),o._UZ(125,"path",125),o.qZA(),o.TgZ(126,"g",126),o._UZ(127,"path",127),o.qZA()(),o._UZ(128,"path",128)(129,"path",129)(130,"path",130)(131,"path",131)(132,"path",132),o.TgZ(133,"g",133),o._UZ(134,"path",134)(135,"path",135)(136,"path",136)(137,"path",137),o.qZA(),o._UZ(138,"path",138)(139,"path",139),o.TgZ(140,"g",140),o._UZ(141,"path",141),o.qZA(),o._UZ(142,"path",142)(143,"path",143)(144,"path",144)(145,"path",145)(146,"path",146)(147,"path",147)(148,"path",148)(149,"path",149)(150,"path",150)(151,"path",151)(152,"path",152)(153,"path",153)(154,"path",154)(155,"path",155),o.qZA()(),o._UZ(156,"path",156),o.TgZ(157,"g",157),o._UZ(158,"path",158)(159,"path",159),o.TgZ(160,"g",160),o._UZ(161,"path",161),o.TgZ(162,"g",162),o._UZ(163,"path",163),o.qZA(),o._UZ(164,"path",164),o.qZA(),o.TgZ(165,"g",165),o._UZ(166,"path",166),o.TgZ(167,"g",167),o._UZ(168,"path",168),o.qZA(),o._UZ(169,"path",169),o.qZA(),o.TgZ(170,"g",170),o._UZ(171,"path",171),o.TgZ(172,"g",172),o._UZ(173,"path",173),o.qZA(),o._UZ(174,"path",174),o.qZA(),o._UZ(175,"path",175)(176,"path",176)(177,"path",177),o.qZA(),o.TgZ(178,"g",178),o._UZ(179,"path",179)(180,"path",180),o.TgZ(181,"g",181),o._UZ(182,"path",182),o.TgZ(183,"g",183),o._UZ(184,"path",184),o.qZA(),o._UZ(185,"path",185),o.qZA(),o.TgZ(186,"g",186),o._UZ(187,"path",187),o.TgZ(188,"g",188),o._UZ(189,"path",189),o.qZA(),o._UZ(190,"path",190),o.qZA(),o._UZ(191,"path",191)(192,"path",192)(193,"path",193),o.qZA()(),o.TgZ(194,"defs")(195,"linearGradient",194),o._UZ(196,"stop",195)(197,"stop",196),o.qZA(),o.TgZ(198,"linearGradient",197),o._UZ(199,"stop")(200,"stop",198),o.qZA(),o.TgZ(201,"linearGradient",199),o._UZ(202,"stop",200)(203,"stop",201),o.qZA(),o.TgZ(204,"linearGradient",202),o._UZ(205,"stop",200)(206,"stop",201),o.qZA(),o.TgZ(207,"linearGradient",203),o._UZ(208,"stop",195)(209,"stop",196),o.qZA(),o.TgZ(210,"linearGradient",204),o._UZ(211,"stop",195)(212,"stop",196),o.qZA(),o.TgZ(213,"linearGradient",205),o._UZ(214,"stop",206)(215,"stop",207),o.qZA(),o.TgZ(216,"linearGradient",208),o._UZ(217,"stop",206)(218,"stop",207),o.qZA(),o.TgZ(219,"linearGradient",209),o._UZ(220,"stop",206)(221,"stop",207),o.qZA(),o.TgZ(222,"linearGradient",210),o._UZ(223,"stop",206)(224,"stop",207),o.qZA(),o.TgZ(225,"linearGradient",211),o._UZ(226,"stop",212)(227,"stop",213),o.qZA(),o.TgZ(228,"linearGradient",214),o._UZ(229,"stop",200)(230,"stop",201),o.qZA(),o.TgZ(231,"linearGradient",215),o._UZ(232,"stop",212)(233,"stop",213),o.qZA(),o.TgZ(234,"linearGradient",216),o._UZ(235,"stop",212)(236,"stop",213),o.qZA(),o.TgZ(237,"linearGradient",217),o._UZ(238,"stop",212)(239,"stop",213),o.qZA(),o.TgZ(240,"linearGradient",218),o._UZ(241,"stop",212)(242,"stop",213),o.qZA(),o.TgZ(243,"linearGradient",219),o._UZ(244,"stop",212)(245,"stop",213),o.qZA(),o.TgZ(246,"linearGradient",220),o._UZ(247,"stop",200)(248,"stop",201),o.qZA(),o.TgZ(249,"linearGradient",221),o._UZ(250,"stop",212)(251,"stop",213),o.qZA()()()()()()())},dependencies:[jc],styles:["body[_ngcontent-%COMP%]{background-color:#141019;background:radial-gradient(at 50% -20%,#908392,#0d060e) fixed}#handboy[_ngcontent-%COMP%]{animation:swing ease-in-out 1.3s infinite alternate;transform-origin:98% 98%;transform-box:fill-box}#girllight[_ngcontent-%COMP%]{animation:swing ease-in-out 1.3s infinite alternate;transform-origin:0% 97%;transform-box:fill-box}#hairgirl[_ngcontent-%COMP%]{animation:swinghair ease-in-out 1.3s infinite alternate;transform-origin:60% 0%;transform-box:fill-box}#zero[_ngcontent-%COMP%]{transform-origin:bottom;transform-box:fill-box}@keyframes swing{0%{transform:rotate(10deg)}to{transform:rotate(-10deg)}}@keyframes swinghair{0%{transform:rotate(6deg)}to{transform:rotate(-6deg)}}"]}),n})()}];let bee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[ew.forRoot(vee),ew]}),n})();function rB(n){return new o.vHH(3e3,!1)}function tte(){return typeof window<"u"&&typeof window.document<"u"}function eP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function qf(n){switch(n.length){case 0:return new Ib;case 1:return n[0];default:return new Y4(n)}}function sB(n,t,e,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const E=b.get("offset"),A=E==p,R=A&&_||new Map;b.forEach((F,q)=>{let ne=q,ke=F;if("offset"!==q)switch(ne=t.normalizePropertyName(ne,c),ke){case"!":ke=r.get(q);break;case Rd:ke=s.get(q);break;default:ke=t.normalizeStyleValue(q,ne,ke,c)}R.set(ne,ke)}),A||d.push(R),_=R,p=E}),c.length)throw function $ee(n){return new o.vHH(3502,!1)}();return d}function tP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&nP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&nP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&nP(e,"destroy",n)))}}function nP(n,t,e){const s=iP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function iP(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ga(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function oB(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let rP=(n,t)=>!1,aB=(n,t,e)=>[],lB=null;function sP(n){const t=n.parentNode||n.host;return t===lB?null:t}(eP()||typeof Element<"u")&&(tte()?(lB=(()=>document.documentElement)(),rP=(n,t)=>{for(;t;){if(t===n)return!0;t=sP(t)}return!1}):rP=(n,t)=>n.contains(t),aB=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let _g=null,cB=!1;const uB=rP,dB=aB;let hB=(()=>{class n{validateStyleProperty(e){return function ite(n){_g||(_g=function rte(){return typeof document<"u"?document.body:null}()||{},cB=!!_g.style&&"WebkitAppearance"in _g.style);let t=!0;return _g.style&&!function nte(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _g.style,!t&&cB&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in _g.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return uB(e,i)}getParentElement(e){return sP(e)}query(e,i,r){return dB(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new Ib(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),oP=(()=>{class n{}return n.NOOP=new hB,n})();const aP="ng-enter",FS="ng-leave",LS="ng-trigger",VS=".ng-trigger",pB="ng-animating",lP=".ng-animating";function qd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cP(parseFloat(t[1]),t[2])}function cP(n,t){return"s"===t?1e3*n:n}function BS(n,t,e){return n.hasOwnProperty("duration")?n:function ate(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(rB()),{duration:0,delay:0,easing:""};r=cP(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=cP(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function xee(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function Cee(){return new o.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,rB())}return{duration:r,delay:s,easing:c}}(n,t,e)}function Xx(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function mB(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Yf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function _B(n,t,e){return e?t+":"+e+";":""}function yB(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=_B(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=_B(0,dte(e),n.style[e]));n.setAttribute("style",t)}function Cu(n,t,e){n.style&&(t.forEach((i,r)=>{const s=dP(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),eP()&&yB(n))}function yg(n,t){n.style&&(t.forEach((e,i)=>{const r=dP(i);n.style[r]=""}),eP()&&yB(n))}function Jx(n){return Array.isArray(n)?1==n.length?n[0]:G4(n):n}const uP=new RegExp("{{\\s*(.+?)\\s*}}","g");function vB(n){let t=[];if("string"==typeof n){let e;for(;e=uP.exec(n);)t.push(e[1]);uP.lastIndex=0}return t}function eC(n,t,e){const i=n.toString(),r=i.replace(uP,(s,c)=>{let d=t[c];return null==d&&(e.push(function Eee(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function US(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const ute=/-+([a-z0-9])/g;function dP(n){return n.replace(ute,(...t)=>t[1].toUpperCase())}function dte(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _a(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Dee(n){return new o.vHH(3004,!1)}()}}function bB(n,t){return window.getComputedStyle(n)[t]}function _te(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function yte(n,t,e){if(":"==n[0]){const p=function vte(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Bee(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Vee(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(xB(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(xB(c,r))}(i,e,t)):e.push(n),e}const zS=new Set(["true","1"]),GS=new Set(["false","0"]);function xB(n,t){const e=zS.has(n)||GS.has(n),i=zS.has(t)||GS.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?zS.has(n):GS.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?zS.has(t):GS.has(t)),c&&d}}const bte=new RegExp("s*:selfs*,?","g");function hP(n,t,e,i){return new xte(n).build(t,e,i)}class xte{constructor(t){this._driver=t}build(t,e,i){const r=new Ete(e);return this._resetContextStyleTimingState(r),_a(this,Jx(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function See(){return new o.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function Tee(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{vB(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(US(s.values()),e.errors.push(function Aee(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=_a(this,Jx(t.animation),e);return{type:1,matchers:_te(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vg(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>_a(this,i,e)),options:vg(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=_a(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:vg(t.options)}}visitAnimate(t,e){const i=function Ite(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fP(BS(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=fP(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=BS(e,t);return fP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:$n({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=$n(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===Rd?i.push(d):e.errors.push(new o.vHH(3002,!1)):i.push(mB(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let E=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function kee(n,t,e,i,r){return new o.vHH(3010,!1)}()),E=!1),s=b.startTime),E&&_.set(p,{startTime:s,endTime:r}),e.options&&function cte(n,t,e){const i=t.params||{},r=vB(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function wee(n){return new o.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Ree(){return new o.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(ke=>{const Ge=this._makeStyleAst(ke,e);let Ze=null!=Ge.offset?Ge.offset:function Dte(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ge.styles),Ke=0;return null!=Ze&&(s++,Ke=Ge.offset=Ze),p=p||Ke<0||Ke>1,d=d||Ke<_,_=Ke,c.push(Ke),Ge});p&&e.errors.push(function Oee(){return new o.vHH(3012,!1)}()),d&&e.errors.push(function Pee(){return new o.vHH(3200,!1)}());const E=t.steps.length;let A=0;s>0&&s<E?e.errors.push(function Nee(){return new o.vHH(3202,!1)}()):0==s&&(A=1/(E-1));const R=E-1,F=e.currentTime,q=e.currentAnimateTimings,ne=q.duration;return b.forEach((ke,Ge)=>{const Ze=A>0?Ge==R?1:A*Ge:c[Ge],Ke=Ze*ne;e.currentTime=F+q.delay+Ke,q.duration=Ke,this._validateStyleAst(ke,e),ke.offset=Ze,i.styles.push(ke)}),i}visitReference(t,e){return{type:8,animation:_a(this,Jx(t.animation),e),options:vg(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vg(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vg(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function Cte(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(bte,"")),n=n.replace(/@\*/g,VS).replace(/@\w+/g,e=>VS+"-"+e.slice(1)).replace(/:animating/g,lP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,ga(e.collectedStyles,e.currentQuerySelector,new Map);const d=_a(this,Jx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:vg(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Fee(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:BS(t.timings,e.errors,!0);return{type:12,animation:_a(this,Jx(t.animation),e),timings:i,options:null}}}class Ete{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vg(n){return n?(n=Xx(n)).params&&(n.params=function wte(n){return n?Xx(n):null}(n.params)):n={},n}function fP(n,t,e){return{duration:n,delay:t,easing:e}}function pP(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class WS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ate=new RegExp(":enter","g"),kte=new RegExp(":leave","g");function mP(n,t,e,i,r,s=new Map,c=new Map,d,p,_=[]){return(new Rte).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class Rte{buildKeyframes(t,e,i,r,s,c,d,p,_,b=[]){_=_||new WS;const E=new gP(t,e,_,r,s,b,[]);E.options=p;const A=p.delay?qd(p.delay):0;E.currentTimeline.delayNextStep(A),E.currentTimeline.setStyles([c],null,E.errors,p),_a(this,i,E);const R=E.timelines.filter(F=>F.containsAnimation());if(R.length&&d.size){let F;for(let q=R.length-1;q>=0;q--){const ne=R[q];if(ne.element===e){F=ne;break}}F&&!F.allowOnlyTimelineStyles()&&F.setStyles([d],null,E.errors,p)}return R.length?R.map(F=>F.buildKeyframes()):[pP(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const c="number"==typeof s?s:qd(eC(s,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?qd(i.duration):null,d=null!=i.delay?qd(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),_a(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ZS);const c=qd(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>_a(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?qd(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),_a(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return BS(e.params?eC(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?qd(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ZS);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const E=e.createSubContext(t.options,_);s&&E.delayNextStep(s),_===e.element&&(p=E.currentTimeline),_a(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const E=b.currentTime;_a(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const ZS={};class gP{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ZS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new qS(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=qd(i.duration)),null!=i.delay&&(r.delay=qd(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=eC(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new gP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=ZS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Ote(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Ate,"."+this._enterClassName)).replace(kte,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function Lee(n){return new o.vHH(3014,!1)}()),d}}class qS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Rd),this._currentKeyframe.set(e,Rd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function Pte(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Rd)}else Yf(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=eC(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Rd),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=Yf(d,new Map,this._backFill);_.forEach((b,E)=>{"!"===b?t.add(E):b===Rd&&e.add(E)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?US(t.values()):[],c=e.size?US(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return pP(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Ote extends qS{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=Yf(t[0]);p.set("offset",0),s.push(p);const _=Yf(t[0]);_.set("offset",EB(d)),s.push(_);const b=t.length-1;for(let E=1;E<=b;E++){let A=Yf(t[E]);const R=A.get("offset");A.set("offset",EB((e+R*i)/c)),s.push(A)}i=c,e=0,r="",t=s}return pP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function EB(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class _P{}const Nte=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Fte extends _P{normalizePropertyName(t,e){return dP(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(Nte.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Iee(n,t){return new o.vHH(3005,!1)}())}return c+s}}function DB(n,t,e,i,r,s,c,d,p,_,b,E,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:E,errors:A}}const yP={};class IB{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Lte(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,p,_,b){const E=[],A=this.ast.options&&this.ast.options.params||yP,F=this.buildStyles(i,d&&d.params||yP,E),q=p&&p.params||yP,ne=this.buildStyles(r,q,E),ke=new Set,Ge=new Map,Ze=new Map,Ke="void"===r,wt={params:Vte(q,A),delay:this.ast.options?.delay},St=b?[]:mP(t,e,this.ast.animation,s,c,F,ne,wt,_,E);let hn=0;if(St.forEach(va=>{hn=Math.max(va.duration+va.delay,hn)}),E.length)return DB(e,this._triggerName,i,r,Ke,F,ne,[],[],Ge,Ze,hn,E);St.forEach(va=>{const Yd=va.element,lU=ga(Ge,Yd,new Set);va.preStyleProps.forEach(xg=>lU.add(xg));const sC=ga(Ze,Yd,new Set);va.postStyleProps.forEach(xg=>sC.add(xg)),Yd!==e&&ke.add(Yd)});const sr=US(ke.values());return DB(e,this._triggerName,i,r,Ke,F,ne,St,sr,Ge,Ze,hn)}}function Vte(n,t){const e=Xx(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Bte{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Xx(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=eC(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class Hte{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Bte(r.style,r.options&&r.options.params||{},i))}),SB(this.states,"true","1"),SB(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new IB(t,r,this.states))}),this.fallbackTransition=function jte(n,t,e){return new IB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function SB(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const $te=new WS;class zte{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=hP(this._driver,e,i,[]);if(i.length)throw function zee(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=sB(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=mP(this._driver,e,s,aP,FS,new Map,new Map,i,$te,r),c.forEach(b=>{const E=ga(d,b.element,new Map);b.postStyleProps.forEach(A=>E.set(A,null))})):(r.push(function Gee(){return new o.vHH(3300,!1)}()),c=[]),r.length)throw function Wee(n){return new o.vHH(3504,!1)}();d.forEach((b,E)=>{b.forEach((A,R)=>{b.set(R,this._driver.computeStyle(E,R,Rd))})});const _=qf(c.map(b=>{const E=d.get(b.element);return this._buildPlayer(b,new Map,E)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Zee(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=iP(e,"","","");return tP(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const TB="ng-animate-queued",vP="ng-animate-disabled",Yte=[],AB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kte={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pl="__ng_removed";class bP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ene(n){return n??null}(i?t.value:t),i){const s=Xx(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const tC="void",xP=new bP(tC);class Qte{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ml(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function qee(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function Yee(n){return new o.vHH(3303,!1)}();if(!function tne(n){return"start"==n||"done"==n}(i))throw function Kee(n,t){return new o.vHH(3400,!1)}();const s=ga(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=ga(this._engine.statesByElement,t,new Map);return d.has(e)||(ml(t,LS),ml(t,LS+"-"+e),d.set(e,xP)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Qee(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new CP(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(ml(t,LS),ml(t,LS+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new bP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=xP),_.value!==tC&&p.value===_.value){if(!function rne(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const q=[],ne=s.matchStyles(p.value,p.params,q),ke=s.matchStyles(_.value,_.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{yg(t,ne),Cu(t,ke)})}return}const A=ga(this._engine.playersByElement,t,[]);A.forEach(q=>{q.namespaceId==this.id&&q.triggerName==e&&q.queued&&q.destroy()});let R=s.matchTransition(p.value,_.value,t,_.params),F=!1;if(!R){if(!r)return;R=s.fallbackTransition,F=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:p,toState:_,player:c,isFallbackTransition:F}),F||(ml(t,TB),c.onStart(()=>{vv(t,TB)})),c.onDone(()=>{let q=this.players.indexOf(c);q>=0&&this.players.splice(q,1);const ne=this._engine.playersByElement.get(t);if(ne){let ke=ne.indexOf(c);ke>=0&&ne.splice(ke,1)}}),this.players.push(c),A.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,VS,!0);i.forEach(r=>{if(r[pl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,tC,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&qf(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||xP,b=new bP(tC),E=new CP(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[pl];(!s||s===AB)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ml(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=iP(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,tP(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Xte{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Qte(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(YS(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!YS(e))return;const s=e[pl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ml(t,vP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vv(t,vP))}removeNode(t,e,i,r){if(YS(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[pl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return YS(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,VS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return qf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pl];if(e&&e.setForRemoval){if(t[pl]=AB,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(vP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ml(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?qf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Xee(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new WS,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(vt=>{b.add(vt);const Nt=this.driver.query(vt,".ng-animate-queued",!0);for(let Zt=0;Zt<Nt.length;Zt++)b.add(Nt[Zt])});const E=this.bodyNode,A=Array.from(this.statesByElement.keys()),R=RB(A,this.collectedEnterElements),F=new Map;let q=0;R.forEach((vt,Nt)=>{const Zt=aP+q++;F.set(Nt,Zt),vt.forEach(kn=>ml(kn,Zt))});const ne=[],ke=new Set,Ge=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const Nt=this.collectedLeaveElements[vt],Zt=Nt[pl];Zt&&Zt.setForRemoval&&(ne.push(Nt),ke.add(Nt),Zt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(kn=>ke.add(kn)):Ge.add(Nt))}const Ze=new Map,Ke=RB(A,Array.from(ke));Ke.forEach((vt,Nt)=>{const Zt=FS+q++;Ze.set(Nt,Zt),vt.forEach(kn=>ml(kn,Zt))}),t.push(()=>{R.forEach((vt,Nt)=>{const Zt=F.get(Nt);vt.forEach(kn=>vv(kn,Zt))}),Ke.forEach((vt,Nt)=>{const Zt=Ze.get(Nt);vt.forEach(kn=>vv(kn,Zt))}),ne.forEach(vt=>{this.processLeaveNode(vt)})});const wt=[],St=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(e).forEach(Zt=>{const kn=Zt.player,Ur=Zt.element;if(wt.push(kn),this.collectedEnterElements.length){const Cs=Ur[pl];if(Cs&&Cs.setForMove){if(Cs.previousTriggersValues&&Cs.previousTriggersValues.has(Zt.triggerName)){const Cg=Cs.previousTriggersValues.get(Zt.triggerName),_l=this.statesByElement.get(Zt.element);if(_l&&_l.has(Zt.triggerName)){const JS=_l.get(Zt.triggerName);JS.value=Cg,_l.set(Zt.triggerName,JS)}}return void kn.destroy()}}const wu=!E||!this.driver.containsElement(E,Ur),ba=Ze.get(Ur),Qf=F.get(Ur),Li=this._buildInstruction(Zt,i,Qf,ba,wu);if(Li.errors&&Li.errors.length)return void St.push(Li);if(wu)return kn.onStart(()=>yg(Ur,Li.fromStyles)),kn.onDestroy(()=>Cu(Ur,Li.toStyles)),void r.push(kn);if(Zt.isFallbackTransition)return kn.onStart(()=>yg(Ur,Li.fromStyles)),kn.onDestroy(()=>Cu(Ur,Li.toStyles)),void r.push(kn);const dU=[];Li.timelines.forEach(Cs=>{Cs.stretchStartingKeyframe=!0,this.disabledNodes.has(Cs.element)||dU.push(Cs)}),Li.timelines=dU,i.append(Ur,Li.timelines),c.push({instruction:Li,player:kn,element:Ur}),Li.queriedElements.forEach(Cs=>ga(d,Cs,[]).push(kn)),Li.preStyleProps.forEach((Cs,Cg)=>{if(Cs.size){let _l=p.get(Cg);_l||p.set(Cg,_l=new Set),Cs.forEach((JS,LP)=>_l.add(LP))}}),Li.postStyleProps.forEach((Cs,Cg)=>{let _l=_.get(Cg);_l||_.set(Cg,_l=new Set),Cs.forEach((JS,LP)=>_l.add(LP))})});if(St.length){const vt=[];St.forEach(Nt=>{vt.push(function Jee(n,t){return new o.vHH(3505,!1)}())}),wt.forEach(Nt=>Nt.destroy()),this.reportError(vt)}const hn=new Map,sr=new Map;c.forEach(vt=>{const Nt=vt.element;i.has(Nt)&&(sr.set(Nt,Nt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,hn))}),r.forEach(vt=>{const Nt=vt.element;this._getPreviousPlayers(Nt,!1,vt.namespaceId,vt.triggerName,null).forEach(kn=>{ga(hn,Nt,[]).push(kn),kn.destroy()})});const va=ne.filter(vt=>PB(vt,p,_)),Yd=new Map;kB(Yd,this.driver,Ge,_,Rd).forEach(vt=>{PB(vt,p,_)&&va.push(vt)});const sC=new Map;R.forEach((vt,Nt)=>{kB(sC,this.driver,new Set(vt),p,"!")}),va.forEach(vt=>{const Nt=Yd.get(vt),Zt=sC.get(vt);Yd.set(vt,new Map([...Array.from(Nt?.entries()??[]),...Array.from(Zt?.entries()??[])]))});const xg=[],cU=[],uU={};c.forEach(vt=>{const{element:Nt,player:Zt,instruction:kn}=vt;if(i.has(Nt)){if(b.has(Nt))return Zt.onDestroy(()=>Cu(Nt,kn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(kn.totalTime),void r.push(Zt);let Ur=uU;if(sr.size>1){let ba=Nt;const Qf=[];for(;ba=ba.parentNode;){const Li=sr.get(ba);if(Li){Ur=Li;break}Qf.push(ba)}Qf.forEach(Li=>sr.set(Li,Ur))}const wu=this._buildAnimation(Zt.namespaceId,kn,hn,s,sC,Yd);if(Zt.setRealPlayer(wu),Ur===uU)xg.push(Zt);else{const ba=this.playersByElement.get(Ur);ba&&ba.length&&(Zt.parentPlayer=qf(ba)),r.push(Zt)}}else yg(Nt,kn.fromStyles),Zt.onDestroy(()=>Cu(Nt,kn.toStyles)),cU.push(Zt),b.has(Nt)&&r.push(Zt)}),cU.forEach(vt=>{const Nt=s.get(vt.element);if(Nt&&Nt.length){const Zt=qf(Nt);vt.setRealPlayer(Zt)}}),r.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<ne.length;vt++){const Nt=ne[vt],Zt=Nt[pl];if(vv(Nt,FS),Zt&&Zt.hasAnimation)continue;let kn=[];if(d.size){let wu=d.get(Nt);wu&&wu.length&&kn.push(...wu);let ba=this.driver.query(Nt,lP,!0);for(let Qf=0;Qf<ba.length;Qf++){let Li=d.get(ba[Qf]);Li&&Li.length&&kn.push(...Li)}}const Ur=kn.filter(wu=>!wu.destroyed);Ur.length?nne(this,Nt,Ur):this.processLeaveNode(Nt)}return ne.length=0,xg.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const Nt=this.players.indexOf(vt);this.players.splice(Nt,1)}),vt.play()}),xg}elementContainsData(t,e){let i=!1;const r=e[pl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==tC;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,E=ga(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(R=>{const F=R.getRealPlayer();F.beforeDestroy&&F.beforeDestroy(),R.destroy(),E.push(R)})}yg(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,E=new Set,A=e.timelines.map(F=>{const q=F.element;b.add(q);const ne=q[pl];if(ne&&ne.removedBeforeQueried)return new Ib(F.duration,F.delay);const ke=q!==p,Ge=function ine(n){const t=[];return OB(n,t),t}((i.get(q)||Yte).map(hn=>hn.getRealPlayer())).filter(hn=>!!hn.element&&hn.element===q),Ze=s.get(q),Ke=c.get(q),wt=sB(0,this._normalizer,0,F.keyframes,Ze,Ke),St=this._buildPlayer(F,wt,Ge);if(F.subTimeline&&r&&E.add(q),ke){const hn=new CP(t,d,q);hn.setRealPlayer(St),_.push(hn)}return St});_.forEach(F=>{ga(this.playersByQueriedElement,F.element,[]).push(F),F.onDone(()=>function Jte(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,F.element,F))}),b.forEach(F=>ml(F,pB));const R=qf(A);return R.onDestroy(()=>{b.forEach(F=>vv(F,pB)),Cu(p,e.toStyles)}),E.forEach(F=>{ga(r,F,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ib(t.duration,t.delay)}}class CP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ib,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>tP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ga(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function YS(n){return n&&1===n.nodeType}function MB(n,t){const e=n.style.display;return n.style.display=t??"none",e}function kB(n,t,e,i,r){const s=[];e.forEach(p=>s.push(MB(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(E=>{const A=t.computeStyle(_,E,r);b.set(E,A),(!A||0==A.length)&&(_[pl]=Kte,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>MB(p,s[d++])),c}function RB(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function ml(n,t){n.classList?.add(t)}function vv(n,t){n.classList?.remove(t)}function nne(n,t,e){qf(e).onDone(()=>n.processLeaveNode(t))}function OB(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Y4?OB(i.players,t):t.push(i)}}function PB(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class KS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Xte(t,e,i),this._timelineEngine=new zte(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=hP(this._driver,s,p,[]);if(p.length)throw function jee(n,t){return new o.vHH(3404,!1)}();d=function Ute(n,t,e){return new Hte(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=oB(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=oB(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let one=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Cu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cu(this._element,this._initialStyles),this._endStyles&&(Cu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yg(this._element,this._endStyles),this._endStyles=null),Cu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function wP(n){let t=null;return n.forEach((e,i)=>{(function ane(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class NB{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:bB(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class lne{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return uB(t,e)}getParentElement(t){return sP(t)}query(t,e,i){return dB(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(R=>R instanceof NB);(function hte(n,t){return 0===n||0===t})(i,r)&&b.forEach(R=>{R.currentSnapshot.forEach((F,q)=>_.set(q,F))});let E=function lte(n){return n.length?n[0]instanceof Map?n:n.map(t=>mB(t)):[]}(e).map(R=>Yf(R));E=function fte(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,bB(n,d)))}}return t}(t,E,_);const A=function sne(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=wP(t[0]),t.length>1&&(i=wP(t[t.length-1]))):t instanceof Map&&(e=wP(t)),e||i?new one(n,e,i):null}(t,E);return new NB(t,E,p,A)}}let cne=(()=>{class n extends $4{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?G4(e):e;return FB(this._renderer,null,i,"register",[r]),new une(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(ie))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class une extends class bH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new dne(this._id,t,e||{},this._renderer)}}class dne{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return FB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function FB(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const LB="@.disabled";let hne=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new VB("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new fne(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(KS),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class VB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==LB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class fne extends VB{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==LB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function pne(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function mne(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let gne=(()=>{class n extends KS{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ie),o.LFG(oP),o.LFG(_P),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const BB=[{provide:$4,useClass:cne},{provide:_P,useFactory:function _ne(){return new Fte}},{provide:KS,useClass:gne},{provide:o.FYo,useFactory:function yne(n,t,e){return new hne(n,t,e)},deps:[Nl,KS,o.R0b]}],EP=[{provide:oP,useFactory:()=>new lne},{provide:o.QbO,useValue:"BrowserAnimations"},...BB],UB=[{provide:oP,useClass:hB},{provide:o.QbO,useValue:"NoopAnimations"},...BB];let vne=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?UB:EP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:EP,imports:[$o]}),n})();const wne={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[la],useFactory:function Cne(n){return()=>n.scrollStrategies.reposition()}};let Ene=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[wne],imports:[Js,gn,DM,Iy,Mm,gn]}),n})();const Ane=new ea.Yd("@firebase/database-compat"),jB=function(n){Ane.warn("FIREBASE WARNING: "+n)};class Rne{constructor(t){this._delegate=t}cancel(t){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,jB("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class One{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Kf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),cf("DataSnapshot.child","path",t,!1),new Kf(this._database,this._delegate.child(t))}hasChild(t){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cf("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Kf(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class es{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const c=es.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new Kf(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return Cm(this._delegate,d,p),e;case"child_added":return R0(this._delegate,d,p),e;case"child_removed":return P0(this._delegate,d,p),e;case"child_changed":return sy(this._delegate,d,p),e;case"child_moved":return O0(this._delegate,d,p),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,V.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,N0(this._delegate,t,r)}else N0(this._delegate,t)}get(){return $E(this._delegate).then(t=>new Kf(this.database,t))}once(t,e,i,r){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const s=es.getCancelAndContextArgs_("Query.once",i,r),c=new V.BH,d=(_,b)=>{const E=new Kf(this.database,_);e&&e.call(s.context,E,b),c.resolve(E)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":Cm(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":R0(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":P0(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":sy(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":O0(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new es(this.database,oa(this._delegate,function y3(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eA(n)}(t)))}limitToLast(t){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new es(this.database,oa(this._delegate,function tA(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new v3(n)}(t)))}orderByChild(t){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new es(this.database,oa(this._delegate,function iA(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cf("orderByChild","path",n,!1),new nA(n)}(t)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new es(this.database,oa(this._delegate,function sA(){return new rA}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new es(this.database,oa(this._delegate,function aA(){return new oA}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new es(this.database,oa(this._delegate,function cA(){return new lA}()))}startAt(t=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new es(this.database,oa(this._delegate,function _3(n=null,t){return lf("startAt","key",t,!0),new F0(n,t)}(t,e)))}startAfter(t=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new es(this.database,oa(this._delegate,function J2(n,t){return lf("startAfter","key",t,!0),new GE(n,t)}(t,e)))}endAt(t=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new es(this.database,oa(this._delegate,function K2(n,t){return lf("endAt","key",t,!0),new zE(n,t)}(t,e)))}endBefore(t=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new es(this.database,oa(this._delegate,function X2(n,t){return lf("endBefore","key",t,!0),new Q2(n,t)}(t,e)))}equalTo(t,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new es(this.database,oa(this._delegate,function dA(n,t){return lf("equalTo","key",t,!0),new uA(n,t)}(t,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof es))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,V.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,V.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ya(this.database,new ms(this._delegate._repo,this._delegate._path))}}class ya extends es{constructor(t,e){super(t,new ps(e._repo,e._path,new fd,!1)),this.database=t,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ya(this.database,Cd(this._delegate,t))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ya(this.database,t):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new ya(this.database,this._delegate.root)}set(t,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const i=ol(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,jB("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Co("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const i=g3(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Y2(n,t,e){if(Co("setWithPriority",n._path),fs("setWithPriority",t,n._path,!1),g0("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new V.BH;return x0(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",t,!0);const e=function HE(n){return Co("remove",n._path),ol(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function yA(n,t,e){var i;if(n=(0,V.m9)(n),Co("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new V.BH,d=Cm(n,()=>{});return function PE(n,t,e,i,r,s){uf(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:ow(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=E0(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{lc("transaction failed: Data returned ",p,c.path),c.status=0;const _=gm(n.transactionQueueTree_,t),b=bd(_)||[];let E;b.push(c),K_(_,b),"object"==typeof p&&null!==p&&(0,V.r3)(p,".priority")?(E=(0,V.DV)(p,".priority"),(0,V.hu)(bm(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(hm(n.serverSyncTree_,t)||Kt.EMPTY_NODE).getPriority().val();const A=cc(n),R=ai(p,E),F=mi(R,d,A);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=F,c.currentWriteId=J_(n);const q=u0(n.serverSyncTree_,t,F,c.currentWriteId,c.applyLocally);wo(n.eventQueue_,t,q),ty(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let E=null;p?s.reject(p):(E=new iu(b,new ms(n._repo,n._path),ei),s.resolve(new _A(_,E)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new One(s.committed,new Kf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const i=function jE(n,t){n=(0,V.m9)(n),Co("setPriority",n._path),g0("setPriority",t,!1);const e=new V.BH;return x0(n._repo,pi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const i=function q2(n,t){n=(0,V.m9)(n),Co("push",n._path),fs("push",t,n._path,!0);const e=v0(n._repo),i=cd(e),r=Cd(n,i),s=Cd(n,i);let c;return c=null!=t?ol(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new ya(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new ya(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Co("Reference.onDisconnect",this._delegate._path),new Rne(new k0(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:fA,forceLongPolling:pA}}useEmulator(t,e,i={}){YE(this._delegate,t,e,i)}ref(t){if((0,V.Dv)("database.ref",0,1,arguments.length),t instanceof ya){const e=BE(this._delegate,t.toString());return new ya(this,e)}{const e=ru(this._delegate,t);return new ya(this,e)}}refFromURL(t){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const i=BE(this._delegate,t);return new ya(this,i)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function Em(n){(n=(0,V.m9)(n))._checkNotDeleted("goOffline"),OE(n._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function mA(n){(n=(0,V.m9)(n))._checkNotDeleted("goOnline"),function w0(n){n.persistentConnection_&&n.persistentConnection_.resume(y0)}(n._repo)}(this._delegate)}}nC.ServerValue={TIMESTAMP:function ay(){return gA}(),increment:n=>function Dm(n){return{".sv":{increment:n}}}(n)};var Nne=Object.freeze({__proto__:null,initStandalone:function Pne({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){iw(e);const c=new ta.zt("auth-internal",new ta.H0("database-standalone"));return c.setComponent(new ta.wA("auth-internal",()=>i,"PRIVATE")),{instance:new nC(V0(n,c,void 0,t,s),n),namespace:r}}});const Fne=nC.ServerValue;function $B(n){return null==n}function zB(n){return"function"==typeof n.set}function GB(n,t){return zB(t)?t:n.ref(t)}function WB(n,t){if(function Vne(n){return"string"==typeof n}(n))return t.stringCase();if(zB(n))return t.firebaseCase();if(function Bne(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function iC(n,t,e="on",i=yf.z){return new Hn.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,Ye.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,S5.B)())}function ZB(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function jne(n,t){const{payload:e,prevKey:i,key:r}=t,s=ZB(n,r),c=function Hne(n,t){if($B(t))return 0;{const e=ZB(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function qB(n){return($B(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YB(n,t,e){return function Une(n,t,e){return iC(n,"value","once",e).pipe(Jn(i=>{const r=[Xe(i)];return t.forEach(s=>r.push(iC(n,s,"on",e))),(0,uu.T)(...r).pipe(kt(jne,[]))}),py())}(n,t=qB(t),e)}function KB(n,t,e){const i=(t=qB(t)).map(r=>iC(n,r,"on",e));return(0,uu.T)(...i)}function QB(n,t){return function(i,r){return WB(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Wne(n){return function(e){return e?WB(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function XB(n,t){return function(){return iC(n,"value","on",t)}}!function Lne(n){n.INTERNAL.registerComponent(new ta.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new nC(r,i)},"PUBLIC").setServiceProps({Reference:ya,Query:es,Database:nC,DataSnapshot:Kf,enableLogging:H0,INTERNAL:Nne,ServerValue:Fne}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.10")}(PM.Z);const Yne=new o.OlP("angularfire2.realtimeDatabaseURL"),Kne=new o.OlP("angularfire2.database.use-emulator");let Qne=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,E,A,R,F,q,ne){this.schedulers=d;const ke=p,Ge=(0,Cr.on)(e,c,i);_&&J5(Ge,c,b,A,R,F,E,q),this.database=(0,Cr.cc)(`${Ge.name}.database.${r}`,"AngularFireDatabase",Ge.name,()=>{const Ze=c.runOutsideAngular(()=>Ge.database(r||void 0));return ke&&Ze.useEmulator(...ke),Ze},[ke])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>GB(this.database,e));let s=r;return i&&(s=i(r)),function Zne(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:QB(i,"update"),set:QB(i,"set"),push:r=>i.push(r),remove:Wne(i),snapshotChanges:r=>YB(n,r,e).pipe(At.iC),stateChanges:r=>KB(n,r,e).pipe(At.iC),auditTrail:r=>function $ne(n,t,e){return function Gne(n,t,e){return function zne(n,t){return iC(n,"value","on",t).pipe((0,Ye.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Dne(...n){const t=(0,us.jO)(n);return(0,wn.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,zr.Xf)(n[p]).subscribe((0,jn.x)(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(Os.y))&&(c=null))},dD.Z));e.subscribe((0,jn.x)(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,Ye.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function Ine(n){return(0,wn.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,jn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,Ye.U)(r=>r.actions))}(n,KB(n,t).pipe(kt((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(At.iC),valueChanges:(r,s)=>YB(n,r,e).pipe((0,Ye.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),At.iC)}}(s,this)}object(e){return function qne(n,t){return{query:n,snapshotChanges:()=>XB(n,t.schedulers.outsideAngular)().pipe(At.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>XB(n,t.schedulers.outsideAngular)().pipe(At.iC,(0,Ye.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>GB(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Cr.Dh),o.LFG(Cr.xv,8),o.LFG(Yne,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(At.HU),o.LFG(Kne,8),o.LFG(lv,8),o.LFG(Z5,8),o.LFG(q5,8),o.LFG(Y5,8),o.LFG(K5,8),o.LFG(Q5,8),o.LFG(X5,8),o.LFG($d,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xne=(()=>{class n{constructor(){iS.Z.registerVersion("angularfire",At.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Qne]}),n})();function JB(n){return Boolean(n.parentElement&&"picture"===n.parentElement.nodeName.toLowerCase())}function rC(n){return"img"===n.nodeName.toLowerCase()}function eU(n,t,e){return rC(n)?e&&"srcset"in n?n.srcset=t:n.src=t:n.style.backgroundImage=`url('${t}')`,n}function DP(n){return t=>{const e=t.parentElement.getElementsByTagName("source");for(let i=0;i<e.length;i++){const r=e[i].getAttribute(n);r&&("srcset"in e[i]?e[i].srcset=r:e[i].src=r)}}}const eie=DP("defaultImage"),tU=DP("lazyLoad"),tie=DP("errorImage");function IP(n){return(t,e,i)=>{rC(t)&&JB(t)&&n(t),e&&eU(t,e,i)}}const nie=IP(eie),iie=IP(tU),rie=IP(tie);function nU(n,t){n.className=n.className.replace(t,"")}function SP(n,t){n.className.includes(t)||(n.className+=` ${t}`)}class lie extends class aie extends class sie{constructor(){this.navigator=function Jne(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(t){this.platformId=t}onDestroy(t){}onAttributeChange(t){}}{setup(t){nie(t.element,t.defaultImagePath,t.useSrcset),t.imagePath&&SP(t.element,"ng-lazyloading"),function oie(n,t){return n.className&&n.className.includes(t)}(t.element,"ng-lazyloaded")&&nU(t.element,"ng-lazyloaded")}finally(t){SP(t.element,"ng-lazyloaded"),nU(t.element,"ng-lazyloading")}loadImage(t){if(this.skipLazyLoading(t))return[t.imagePath];const{element:e,useSrcset:i,imagePath:r,decode:s}=t;let c;return rC(e)&&JB(e)?(c=e.parentNode.cloneNode(!0).getElementsByTagName("img")[0],tU(c),eU(c,r,i)):(c=new Image,rC(e)&&e.referrerPolicy&&(c.referrerPolicy=e.referrerPolicy),rC(e)&&e.sizes&&(c.sizes=e.sizes),i&&"srcset"in c?c.srcset=r:c.src=r),s&&c.decode?c.decode().then(()=>r):new Promise((d,p)=>{c.onload=()=>d(r),c.onerror=()=>p(null)})}setErrorImage(t,e){const{element:i,useSrcset:r,errorImagePath:s}=e;rie(i,s,r),SP(i,"ng-failed-lazyloaded")}setLoadedImage(t,e){const{element:i,useSrcset:r}=e;iie(i,t,r)}isDisabled(){return Vo(this.platformId)&&!this.isBot()}skipLazyLoading(t){return this.isBot(t)}isBot(t){return!!this.navigator?.userAgent&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new dt.x,this.uniqKey={}}getObservable(t){if(this.skipLazyLoading(t))return Xe({isIntersecting:!0});if(t.customObservable)return t.customObservable;const e=t.scrollContainer||this.uniqKey,i={root:t.scrollContainer||null};t.offset&&(i.rootMargin=`${t.offset}px`);let r=this.observers.get(e);return r||(r=new IntersectionObserver(s=>this.loadingCallback(s),i),this.observers.set(e,r)),r.observe(t.element),Hn.y.create(s=>{const c=this.intersectionSubject.pipe(vn(d=>d.target===t.element)).subscribe(s);return()=>{c.unsubscribe(),r.unobserve(t.element)}})}isVisible(t){return t.isIntersecting}loadingCallback(t){t.forEach(e=>this.intersectionSubject.next(e))}}const cie=new o.OlP("LazyLoadImageHooks");let uie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:cie,useClass:lie}]}),n})();class gl{constructor(t,e,i,r){this.left=t,this.top=e,this.right=i,this.bottom=r}static fromElement(t){const{left:e,top:i,right:r,bottom:s}=t.getBoundingClientRect();return 0===e&&0===i&&0===r&&0===s?gl.empty:new gl(e,i,r,s)}static fromWindow(t){return new gl(0,0,t.innerWidth,t.innerHeight)}inflate(t){this.left-=t,this.top-=t,this.right+=t,this.bottom+=t}intersectsWith(t){return t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}getIntersectionWith(t){const e=Math.max(this.left,t.left),i=Math.max(this.top,t.top),r=Math.min(this.right,t.right),s=Math.min(this.bottom,t.bottom);return r>=e&&s>=i?new gl(e,i,r,s):gl.empty}}gl.empty=new gl(0,0,0,0);const TP_firebase={apiKey:"AIzaSyBkYI1tbCDUP8Y1l7VrJ-dVWIcvCku1BsA",authDomain:"angularauthproject-a82bf.firebaseapp.com",projectId:"angularauthproject-a82bf",storageBucket:"angularauthproject-a82bf.appspot.com",messagingSenderId:"961519268259",appId:"1:961519268259:web:7831077d739516f57c6a16"};class AP{constructor(t){return t}}class XS{constructor(){return(0,At.vb)("auth")}}const MP=new o.OlP("angularfire2.auth-instances");function hie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new AP(i)}}const fie={provide:XS,deps:[[new o.FiY,MP]]},pie={provide:AP,useFactory:function die(n,t){const e=(0,At.JM)("auth",n,t);return e&&new AP(e)},deps:[[new o.FiY,MP],Hf]};let mie=(()=>{class n{constructor(){(0,yu.KN)("angularfire",At.q4.full,"auth")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[pie,fie]}),n})();function gie(n,...t){return{ngModule:mie,providers:[{provide:MP,useFactory:hie(n),multi:!0,deps:[o.R0b,o.zs3,At.HU,kx,[new o.FiY,$d],...t]}]}}const _ie=(0,At.u3)(h1.n,!0);class kP{constructor(t){return t}}const rU="database",RP=new o.OlP("angularfire2.database-instances");function bie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new kP(i)}}const xie={provide:class yie{constructor(){return(0,At.vb)(rU)}},deps:[[new o.FiY,RP]]},Cie={provide:kP,useFactory:function vie(n,t){const e=(0,At.JM)(rU,n,t);return e&&new kP(e)},deps:[[new o.FiY,RP],Hf]};let wie=(()=>{class n{constructor(){(0,yu.KN)("angularfire",At.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Cie,xie]}),n})();function Eie(n,...t){return{ngModule:wie,providers:[{provide:RP,useFactory:bie(n),multi:!0,deps:[o.R0b,o.zs3,At.HU,kx,[new o.FiY,XS],[new o.FiY,$d],...t]}]}}const Die=(0,At.u3)(U0,!0);class OP{constructor(t){return t}}const sU="firestore",PP=new o.OlP("angularfire2.firestore-instances");function Tie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new OP(i)}}const Aie={provide:class Iie{constructor(){return(0,At.vb)(sU)}},deps:[[new o.FiY,PP]]},Mie={provide:OP,useFactory:function Sie(n,t){const e=(0,At.JM)(sU,n,t);return e&&new OP(e)},deps:[[new o.FiY,PP],Hf]};let kie=(()=>{class n{constructor(){(0,yu.KN)("angularfire",At.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Mie,Aie]}),n})();function Rie(n,...t){return{ngModule:kie,providers:[{provide:PP,useFactory:Tie(n),multi:!0,deps:[o.R0b,o.zs3,At.HU,kx,[new o.FiY,XS],[new o.FiY,$d],...t]}]}}const Oie=(0,At.u3)(KG,!0);class NP{constructor(t){return t}}const oU="storage",FP=new o.OlP("angularfire2.storage-instances");function Fie(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new NP(i)}}const Lie={provide:class Pie{constructor(){return(0,At.vb)(oU)}},deps:[[new o.FiY,FP]]},Vie={provide:NP,useFactory:function Nie(n,t){const e=(0,At.JM)(oU,n,t);return e&&new NP(e)},deps:[[new o.FiY,FP],Hf]};let Bie=(()=>{class n{constructor(){(0,yu.KN)("angularfire",At.q4.full,"gcs")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Vie,Lie]}),n})();function Uie(n,...t){return{ngModule:Bie,providers:[{provide:FP,useFactory:Fie(n),multi:!0,deps:[o.R0b,o.zs3,At.HU,kx,[new o.FiY,XS],[new o.FiY,$d],...t]}]}}const Hie=(0,At.u3)(KY,!0);let zie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[MD,gn,MD,gn]}),n})(),Gie=(()=>{class n{constructor(e){this.auth=e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mc))},n.\u0275mod=o.oAB({type:n,bootstrap:[aS]}),n.\u0275inj=o.cJS({providers:[mc,u8,eB],imports:[$o,bee,EQ,DQ,vne,uie,TK,KZ,rq,Xne,Cq,kH,zie,HQ,eB,fH,uK,tX,dee,EX,fK,Ene,RM,eJ,oV,fX,l8,vX,Cr.hO.initializeApp(TP_firebase),rZ(()=>sZ(TP_firebase)),gie(()=>_ie()),Eie(()=>Die()),Rie(()=>Oie()),Uie(()=>Hie())]}),n})();(0,o.G48)(),Bl().bootstrapModule(Gie).catch(n=>console.error(n))},5867:(ft,Te,B)=>{B.d(Te,{C6:()=>o.getApps,KN:()=>o.registerVersion,Mq:()=>o.getApp,ZF:()=>o.initializeApp});var o=B(9681);(0,o.registerVersion)("firebase","9.13.0","app")},127:(ft,Te,B)=>{B.d(Te,{Z:()=>o.Z});var o=B(3942);o.Z.registerVersion("firebase","9.13.0","app-compat")},5881:(ft,Te,B)=>{B.r(Te);var o=B(5861),z=B(3942),N=B(8247),le=B(2090),ie=(B(9681),B(1877),B(4859));function pe(){return window}function W(){return(W=(0,o.Z)(function*($,O,H){var se;const{BuildInfo:Le}=pe();(0,N.ap)(O.sessionId,"AuthEvent did not contain a session ID");const ct=yield ge(O.sessionId),ut={};return(0,N.aq)()?ut.ibi=Le.packageName:(0,N.ar)()?ut.apn=Le.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),Le.displayName&&(ut.appDisplayName=Le.displayName),ut.sessionId=ct,(0,N.at)($,H,O.type,void 0,null!==(se=O.eventId)&&void 0!==se?se:void 0,ut)})).apply(this,arguments)}function je(){return(je=(0,o.Z)(function*($){const{BuildInfo:O}=pe(),H={};(0,N.aq)()?H.iosBundleId=O.packageName:(0,N.ar)()?H.androidPackageName=O.packageName:(0,N.as)($,"operation-not-supported-in-this-environment"),yield(0,N.au)($,H)})).apply(this,arguments)}function at(){return(at=(0,o.Z)(function*($,O,H){const{cordova:se}=pe();let Le=()=>{};try{yield new Promise((ct,ut)=>{let Ae=null;function Be(){var Ht;ct();const Cn=null===(Ht=se.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof Cn&&Cn(),"function"==typeof H?.close&&H.close()}function Lt(){Ae||(Ae=window.setTimeout(()=>{ut((0,N.aw)($,"redirect-cancelled-by-user"))},2e3))}function xn(){"visible"===document?.visibilityState&&Lt()}O.addPassiveListener(Be),document.addEventListener("resume",Lt,!1),(0,N.ar)()&&document.addEventListener("visibilitychange",xn,!1),Le=()=>{O.removePassiveListener(Be),document.removeEventListener("resume",Lt,!1),document.removeEventListener("visibilitychange",xn,!1),Ae&&window.clearTimeout(Ae)}})}finally{Le()}})).apply(this,arguments)}function ge($){return it.apply(this,arguments)}function it(){return(it=(0,o.Z)(function*($){const O=tt($),H=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(H)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function tt($){if((0,N.ap)(/[0-9a-zA-Z]+/.test($),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($);const O=new ArrayBuffer($.length),H=new Uint8Array(O);for(let se=0;se<$.length;se++)H[se]=$.charCodeAt(se);return H}class Re extends N.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(O)),super.onEvent(O)}initialized(){var O=this;return(0,o.Z)(function*(){yield O.initPromise})()}}function ae($){return he.apply(this,arguments)}function he(){return(he=(0,o.Z)(function*($){const O=yield te()._get(me($));return O&&(yield te()._remove(me($))),O})).apply(this,arguments)}function J(){const $=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const se=Math.floor(Math.random()*O.length);$.push(O.charAt(se))}return $.join("")}function te(){return(0,N.az)(N.b)}function me($){return(0,N.aA)("authEvent",$.config.apiKey,$.name)}function He($){if(!$?.includes("?"))return{};const[O,...H]=$.split("?");return(0,le.zd)(H.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.aw)("no-auth-event")}}function Jt(){var $;return(null===($=self?.location)||void 0===$?void 0:$.protocol)||null}function Vi($=(0,le.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()&&"capacitor:"!==Jt()||!$.toLowerCase().match(/iphone|ipad|ipod|android/))}function is(){try{const $=self.localStorage,O=N.aI();if($)return $.setItem(O,"1"),$.removeItem(O),!function ns($=(0,le.z$)()){return function or(){return(0,le.w1)()&&11===document?.documentMode}()||function Qn($=(0,le.z$)()){return/Edge\/\d+/.test($)}($)}()||(0,le.hl)()}catch{return ar()&&(0,le.hl)()}return!1}function ar(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ni(){return(function Gt(){return"http:"===Jt()||"https:"===Jt()}()||(0,le.ru)()||Vi())&&!function ts(){return(0,le.b$)()||(0,le.UG)()}()&&is()&&!ar()}function Hr(){return Vi()&&typeof document<"u"}function nt(){return(nt=(0,o.Z)(function*(){return!!Hr()&&new Promise($=>{const O=setTimeout(()=>{$(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),$(!0)})})})).apply(this,arguments)}const li={LOCAL:"local",NONE:"none",SESSION:"session"},Rn=N.ax,ki="persistence";function On($){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,o.Z)(function*($){yield $._initializationPromise;const O=mt(),H=N.aA(ki,$.config.apiKey,$.name);O&&O.setItem(H,$._getPersistence())})).apply(this,arguments)}function mt(){var $;try{return(null===($=function yi(){return typeof window<"u"?window:null}())||void 0===$?void 0:$.sessionStorage)||null}catch{return null}}const gt=N.ax;class Ft{constructor(){this.browserResolver=N.az(N.k),this.cordovaResolver=N.az(class fn{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(O){var H=this;return(0,o.Z)(function*(){const se=O._key();let Le=H.eventManagers.get(se);return Le||(Le=new Re(O),H.eventManagers.set(se,Le),H.attachCallbackListeners(O,Le)),Le})()}_openPopup(O){(0,N.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,H,se,Le){var ct=this;return(0,o.Z)(function*(){!function Ce($){var O,H,se,Le,ct,ut,Ae,Be,Lt,xn;const Ht=pe();(0,N.ax)("function"==typeof(null===(O=Ht?.universalLinks)||void 0===O?void 0:O.subscribe),$,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.ax)(typeof(null===(H=Ht?.BuildInfo)||void 0===H?void 0:H.packageName)<"u",$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.ax)("function"==typeof(null===(ct=null===(Le=null===(se=Ht?.cordova)||void 0===se?void 0:se.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ct?void 0:ct.openUrl),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(Be=null===(Ae=null===(ut=Ht?.cordova)||void 0===ut?void 0:ut.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Be?void 0:Be.isAvailable),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.ax)("function"==typeof(null===(xn=null===(Lt=Ht?.cordova)||void 0===Lt?void 0:Lt.InAppBrowser)||void 0===xn?void 0:xn.open),$,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const ut=yield ct._initialize(O);yield ut.initialized(),ut.resetRedirect(),(0,N.aD)(),yield ct._originValidation(O);const Ae=function Ee($,O,H=null){return{type:O,eventId:H,urlResponse:null,sessionId:J(),postBody:null,tenantId:$.tenantId,error:(0,N.aw)($,"no-auth-event")}}(O,se,Le);yield function qe($,O){return te()._set(me($),O)}(O,Ae);const Be=yield function Y($,O,H){return W.apply(this,arguments)}(O,Ae,H),Lt=yield function Pe($){const{cordova:O}=pe();return new Promise(H=>{O.plugins.browsertab.isAvailable(se=>{let Le=null;se?O.plugins.browsertab.openUrl($):Le=O.InAppBrowser.open($,(0,N.av)()?"_blank":"_system","location=yes"),H(Le)})})}(Be);return function De($,O,H){return at.apply(this,arguments)}(O,ut,Lt)})()}_isIframeWebStorageSupported(O,H){throw new Error("Method not implemented.")}_originValidation(O){const H=O._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function ee($){return je.apply(this,arguments)}(O)),this.originValidationPromises[H]}attachCallbackListeners(O,H){const{universalLinks:se,handleOpenURL:Le,BuildInfo:ct}=pe(),ut=setTimeout((0,o.Z)(function*(){yield ae(O),H.onEvent(Qe())}),500),Ae=function(){var xn=(0,o.Z)(function*(Ht){clearTimeout(ut);const Cn=yield ae(O);let ws=null;Cn&&Ht?.url&&(ws=function be($,O){var H,se;const Le=function Ue($){const O=He($),H=O.link?decodeURIComponent(O.link):void 0,se=He(H).link,Le=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return He(Le).link||Le||se||H||$}(O);if(Le.includes("/__/auth/callback")){const ct=He(Le),ut=ct.firebaseError?function ue($){try{return JSON.parse($)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,Ae=null===(se=null===(H=ut?.code)||void 0===H?void 0:H.split("auth/"))||void 0===se?void 0:se[1],Be=Ae?(0,N.aw)(Ae):null;return Be?{type:$.type,eventId:$.eventId,tenantId:$.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:$.type,eventId:$.eventId,tenantId:$.tenantId,sessionId:$.sessionId,urlResponse:Le,postBody:null}}return null}(Cn,Ht.url)),H.onEvent(ws||Qe())});return function(Cn){return xn.apply(this,arguments)}}();typeof se<"u"&&"function"==typeof se.subscribe&&se.subscribe(null,Ae);const Be=Le,Lt=`${ct.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var xn=(0,o.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Lt)&&Ae({url:Ht}),"function"==typeof Be)try{Be(Ht)}catch(Cn){console.error(Cn)}});return function(Ht){return xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aB,this._overrideRedirectResult=N.aC}_initialize(O){var H=this;return(0,o.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,H,se,Le){var ct=this;return(0,o.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(O,H,se,Le)})()}_openRedirect(O,H,se,Le){var ct=this;return(0,o.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(O,H,se,Le)})()}_isIframeWebStorageSupported(O,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,H)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,o.Z)(function*(){if(O.underlyingResolver)return;const H=yield function rs(){return nt.apply(this,arguments)}();O.underlyingResolver=H?O.cordovaResolver:O.browserResolver})()}}function lr($){return $.unwrap()}function Xi($){return Ji($)}function Ji($){const{_tokenResponse:O}=$ instanceof le.ZR?$.customData:$;if(!O)return null;if(!($ instanceof le.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return N.P.credentialFromResult($);const H=O.providerId;if(!H||H===N.o.PASSWORD)return null;let se;switch(H){case N.o.GOOGLE:se=N.Q;break;case N.o.FACEBOOK:se=N.N;break;case N.o.GITHUB:se=N.T;break;case N.o.TWITTER:se=N.W;break;default:const{oauthIdToken:Le,oauthAccessToken:ct,oauthTokenSecret:ut,pendingToken:Ae,nonce:Be}=O;return ct||ut||Le||Ae?Ae?H.startsWith("saml.")?N.aL._create(H,Ae):N.J._fromParams({providerId:H,signInMethod:H,pendingToken:Ae,idToken:Le,accessToken:ct}):new N.U(H).credential({idToken:Le,accessToken:ct,rawNonce:Be}):null}return $ instanceof le.ZR?se.credentialFromError($):se.credentialFromResult($)}function Ut($,O){return O.catch(H=>{throw H instanceof le.ZR&&function Mt($,O){var H,se;const Le=null===(H=O.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===(null===(se=O)||void 0===se?void 0:se.code))O.resolver=new Ii($,N.an($,O));else if(Le){const ct=Ji(O),ut=O;ct&&(ut.credential=ct,ut.tenantId=Le.tenantId||void 0,ut.email=Le.email||void 0,ut.phoneNumber=Le.phoneNumber||void 0)}}($,H),H}).then(H=>{const Le=H.user;return{operationType:H.operationType,credential:Xi(H),additionalUserInfo:N.al(H),user:zn.getOrCreate(Le)}})}function mr($,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,o.Z)(function*($,O){const H=yield O;return{verificationId:H.verificationId,confirm:se=>Ut($,H.confirm(se))}})).apply(this,arguments)}class Ii{constructor(O,H){this.resolver=H,this.auth=function ci($){return $.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Ut(lr(this.auth),this.resolver.resolveSignIn(O))}}class zn{constructor(O){this._delegate=O,this.multiFactor=N.ao(O)}static getOrCreate(O){return zn.USER_MAP.has(O)||zn.USER_MAP.set(O,new zn(O)),zn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var H=this;return(0,o.Z)(function*(){return Ut(H.auth,N.Z(H._delegate,O))})()}linkWithPhoneNumber(O,H){var se=this;return(0,o.Z)(function*(){return mr(se.auth,N.l(se._delegate,O,H))})()}linkWithPopup(O){var H=this;return(0,o.Z)(function*(){return Ut(H.auth,N.d(H._delegate,O,Ft))})()}linkWithRedirect(O){var H=this;return(0,o.Z)(function*(){return yield On(N.aE(H.auth)),N.g(H._delegate,O,Ft)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var H=this;return(0,o.Z)(function*(){return Ut(H.auth,N._(H._delegate,O))})()}reauthenticateWithPhoneNumber(O,H){return mr(this.auth,N.r(this._delegate,O,H))}reauthenticateWithPopup(O){return Ut(this.auth,N.e(this._delegate,O,Ft))}reauthenticateWithRedirect(O){var H=this;return(0,o.Z)(function*(){return yield On(N.aE(H.auth)),N.h(H._delegate,O,Ft)})()}sendEmailVerification(O){return N.ab(this._delegate,O)}unlink(O){var H=this;return(0,o.Z)(function*(){return yield N.ak(H._delegate,O),H})()}updateEmail(O){return N.ag(this._delegate,O)}updatePassword(O){return N.ah(this._delegate,O)}updatePhoneNumber(O){return N.u(this._delegate,O)}updateProfile(O){return N.af(this._delegate,O)}verifyBeforeUpdateEmail(O,H){return N.ac(this._delegate,O,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zn.USER_MAP=new WeakMap;const st=N.ax;let Se=(()=>{class ${constructor(H,se){if(this.app=H,se.isInitialized())return this._delegate=se.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=H.options;st(Le,"invalid-api-key",{appName:H.name}),st(Le,"invalid-api-key",{appName:H.name});const ct=typeof window<"u"?Ft:void 0;this._delegate=se.initialize({options:{persistence:Et(Le,H.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(N.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,se){N.G(this._delegate,H,se)}applyActionCode(H){return N.a2(this._delegate,H)}checkActionCode(H){return N.a3(this._delegate,H)}confirmPasswordReset(H,se){return N.a1(this._delegate,H,se)}createUserWithEmailAndPassword(H,se){var Le=this;return(0,o.Z)(function*(){return Ut(Le._delegate,N.a5(Le._delegate,H,se))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return N.aa(this._delegate,H)}isSignInWithEmailLink(H){return N.a8(this._delegate,H)}getRedirectResult(){var H=this;return(0,o.Z)(function*(){st(ni(),H._delegate,"operation-not-supported-in-this-environment");const se=yield N.j(H._delegate,Ft);return se?Ut(H._delegate,Promise.resolve(se)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function bn($,O){(0,N.aE)($)._logFramework(O)}(this._delegate,H)}onAuthStateChanged(H,se,Le){const{next:ct,error:ut,complete:Ae}=ot(H,se,Le);return this._delegate.onAuthStateChanged(ct,ut,Ae)}onIdTokenChanged(H,se,Le){const{next:ct,error:ut,complete:Ae}=ot(H,se,Le);return this._delegate.onIdTokenChanged(ct,ut,Ae)}sendSignInLinkToEmail(H,se){return N.a7(this._delegate,H,se)}sendPasswordResetEmail(H,se){return N.a0(this._delegate,H,se||void 0)}setPersistence(H){var se=this;return(0,o.Z)(function*(){let Le;switch(function Ao($,O){Rn(Object.values(li).includes(O),$,"invalid-persistence-type"),(0,le.b$)()?Rn(O!==li.SESSION,$,"unsupported-persistence-type"):(0,le.UG)()?Rn(O===li.NONE,$,"unsupported-persistence-type"):ar()?Rn(O===li.NONE||O===li.LOCAL&&(0,le.hl)(),$,"unsupported-persistence-type"):Rn(O===li.NONE||is(),$,"unsupported-persistence-type")}(se._delegate,H),H){case li.SESSION:Le=N.a;break;case li.LOCAL:Le=(yield N.az(N.i)._isAvailable())?N.i:N.b;break;case li.NONE:Le=N.L;break;default:return N.as("argument-error",{appName:se._delegate.name})}return se._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return Ut(this._delegate,N.X(this._delegate))}signInWithCredential(H){return Ut(this._delegate,N.Y(this._delegate,H))}signInWithCustomToken(H){return Ut(this._delegate,N.$(this._delegate,H))}signInWithEmailAndPassword(H,se){return Ut(this._delegate,N.a6(this._delegate,H,se))}signInWithEmailLink(H,se){return Ut(this._delegate,N.a9(this._delegate,H,se))}signInWithPhoneNumber(H,se){return mr(this._delegate,N.s(this._delegate,H,se))}signInWithPopup(H){var se=this;return(0,o.Z)(function*(){return st(ni(),se._delegate,"operation-not-supported-in-this-environment"),Ut(se._delegate,N.c(se._delegate,H,Ft))})()}signInWithRedirect(H){var se=this;return(0,o.Z)(function*(){return st(ni(),se._delegate,"operation-not-supported-in-this-environment"),yield On(se._delegate),N.f(se._delegate,H,Ft)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return N.a4(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $.Persistence=li,$})();function ot($,O,H){let se=$;"function"!=typeof $&&({next:se,error:O,complete:H}=$);const Le=se;return{next:ut=>Le(ut&&zn.getOrCreate(ut)),error:O,complete:H}}function Et($,O){const H=function An($,O){const H=mt();if(!H)return[];const se=N.aA(ki,$,O);switch(H.getItem(se)){case li.NONE:return[N.L];case li.LOCAL:return[N.i,N.a];case li.SESSION:return[N.a];default:return[]}}($,O);if(typeof self<"u"&&!H.includes(N.i)&&H.push(N.i),typeof window<"u")for(const se of[N.b,N.a])H.includes(se)||H.push(se);return H.includes(N.L)||H.push(N.L),H}class It{constructor(){this.providerId="phone",this._delegate=new N.P(lr(z.Z.auth()))}static credential(O,H){return N.P.credential(O,H)}verifyPhoneNumber(O,H){return this._delegate.verifyPhoneNumber(O,H)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=N.P.PROVIDER_ID;const an=N.ax;class Z{constructor(O,H,se=z.Z.app()){var Le;an(null===(Le=se.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:se.name}),this._delegate=new N.R(O,H,se.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Q($){$.INTERNAL.registerComponent(new ie.wA("auth-compat",O=>{const H=O.getProvider("app-compat").getImmediate(),se=O.getProvider("auth");return new Se(H,se)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.M,FacebookAuthProvider:N.N,GithubAuthProvider:N.T,GoogleAuthProvider:N.Q,OAuthProvider:N.U,SAMLAuthProvider:N.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Z,TwitterAuthProvider:N.W,Auth:Se,AuthCredential:N.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$.registerVersion("@firebase/auth-compat","0.2.24")}(z.Z)},9751:(ft,Te,B)=>{B.d(Te,{y:()=>pe});var o=B(930),z=B(727),N=B(8822),le=B(9635),de=B(2416),_e=B(576),ie=B(2806);let pe=(()=>{class ee{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const De=new ee;return De.source=this,De.operator=Pe,De}subscribe(Pe,De,at){const Ce=function W(ee){return ee&&ee instanceof o.Lv||function Y(ee){return ee&&(0,_e.m)(ee.next)&&(0,_e.m)(ee.error)&&(0,_e.m)(ee.complete)}(ee)&&(0,z.Nn)(ee)}(Pe)?Pe:new o.Hp(Pe,De,at);return(0,ie.x)(()=>{const{operator:ge,source:it}=this;Ce.add(ge?ge.call(Ce,it):it?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(De){Pe.error(De)}}forEach(Pe,De){return new(De=ve(De))((at,Ce)=>{const ge=new o.Hp({next:it=>{try{Pe(it)}catch(tt){Ce(tt),ge.unsubscribe()}},error:Ce,complete:at});this.subscribe(ge)})}_subscribe(Pe){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(Pe)}[N.L](){return this}pipe(...Pe){return(0,le.U)(Pe)(this)}toPromise(Pe){return new(Pe=ve(Pe))((De,at)=>{let Ce;this.subscribe(ge=>Ce=ge,ge=>at(ge),()=>De(Ce))})}}return ee.create=je=>new ee(je),ee})();function ve(ee){var je;return null!==(je=ee??de.v.Promise)&&void 0!==je?je:Promise}},7579:(ft,Te,B)=>{B.d(Te,{x:()=>ie});var o=B(9751),z=B(727);const le=(0,B(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=B(8737),_e=B(2806);let ie=(()=>{class ve extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const ee=new pe(this,this);return ee.operator=W,ee}_throwIfClosed(){if(this.closed)throw new le}next(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(W)}})}error(W){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:ee}=this;for(;ee.length;)ee.shift().error(W)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:ee,isStopped:je,observers:Pe}=this;return ee||je?z.Lc:(this.currentObservers=null,Pe.push(W),new z.w0(()=>{this.currentObservers=null,(0,de.P)(Pe,W)}))}_checkFinalizedStatuses(W){const{hasError:ee,thrownError:je,isStopped:Pe}=this;ee?W.error(je):Pe&&W.complete()}asObservable(){const W=new o.y;return W.source=this,W}}return ve.create=(Y,W)=>new pe(Y,W),ve})();class pe extends ie{constructor(Y,W){super(),this.destination=Y,this.source=W}next(Y){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===ee||ee.call(W,Y)}error(Y){var W,ee;null===(ee=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===ee||ee.call(W,Y)}complete(){var Y,W;null===(W=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===W||W.call(Y)}_subscribe(Y){var W,ee;return null!==(ee=null===(W=this.source)||void 0===W?void 0:W.subscribe(Y))&&void 0!==ee?ee:z.Lc}}},930:(ft,Te,B)=>{B.d(Te,{Hp:()=>at,Lv:()=>ee});var o=B(576),z=B(727),N=B(2416),le=B(7849),de=B(5032);const _e=ve("C",void 0,void 0);function ve(Ne,Re,Ee){return{kind:Ne,value:Re,error:Ee}}var Y=B(3410),W=B(2806);class ee extends z.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,z.Nn)(Re)&&Re.add(this)):this.destination=tt}static create(Re,Ee,qe){return new at(Re,Ee,qe)}next(Re){this.isStopped?it(function pe(Ne){return ve("N",Ne,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?it(function ie(Ne){return ve("E",void 0,Ne)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?it(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Pe(Ne,Re){return je.call(Ne,Re)}class De{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Re)}catch(qe){Ce(qe)}}error(Re){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Re)}catch(qe){Ce(qe)}else Ce(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Ee){Ce(Ee)}}}class at extends ee{constructor(Re,Ee,qe){let ae;if(super(),(0,o.m)(Re)||!Re)ae={next:Re??void 0,error:Ee??void 0,complete:qe??void 0};else{let he;this&&N.v.useDeprecatedNextContext?(he=Object.create(Re),he.unsubscribe=()=>this.unsubscribe(),ae={next:Re.next&&Pe(Re.next,he),error:Re.error&&Pe(Re.error,he),complete:Re.complete&&Pe(Re.complete,he)}):ae=Re}this.destination=new De(ae)}}function Ce(Ne){N.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ne):(0,le.h)(Ne)}function it(Ne,Re){const{onStoppedNotification:Ee}=N.v;Ee&&Y.z.setTimeout(()=>Ee(Ne,Re))}const tt={closed:!0,next:de.Z,error:function ge(Ne){throw Ne},complete:de.Z}},727:(ft,Te,B)=>{B.d(Te,{Lc:()=>_e,w0:()=>de,Nn:()=>ie});var o=B(576);const N=(0,B(3888).d)(ve=>function(W){ve(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((ee,je)=>`${je+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var le=B(8737);class de{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Pe of W)Pe.remove(this);else W.remove(this);const{initialTeardown:ee}=this;if((0,o.m)(ee))try{ee()}catch(Pe){Y=Pe instanceof N?Pe.errors:[Pe]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Pe of je)try{pe(Pe)}catch(De){Y=Y??[],De instanceof N?Y=[...Y,...De.errors]:Y.push(De)}}if(Y)throw new N(Y)}}add(Y){var W;if(Y&&Y!==this)if(this.closed)pe(Y);else{if(Y instanceof de){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(Y)}}_hasParent(Y){const{_parentage:W}=this;return W===Y||Array.isArray(W)&&W.includes(Y)}_addParent(Y){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(Y),W):W?[W,Y]:Y}_removeParent(Y){const{_parentage:W}=this;W===Y?this._parentage=null:Array.isArray(W)&&(0,le.P)(W,Y)}remove(Y){const{_finalizers:W}=this;W&&(0,le.P)(W,Y),Y instanceof de&&Y._removeParent(this)}}de.EMPTY=(()=>{const ve=new de;return ve.closed=!0,ve})();const _e=de.EMPTY;function ie(ve){return ve instanceof de||ve&&"closed"in ve&&(0,o.m)(ve.remove)&&(0,o.m)(ve.add)&&(0,o.m)(ve.unsubscribe)}function pe(ve){(0,o.m)(ve)?ve():ve.unsubscribe()}},2416:(ft,Te,B)=>{B.d(Te,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Te,B)=>{B.d(Te,{E:()=>z});const z=new(B(9751).y)(de=>de.complete())},8996:(ft,Te,B)=>{B.d(Te,{D:()=>Re});var o=B(8421),z=B(5363),N=B(9468),_e=B(9751),pe=B(2202),ve=B(576),Y=B(9672);function ee(Ee,qe){if(!Ee)throw new Error("Iterable cannot be null");return new _e.y(ae=>{(0,Y.f)(ae,qe,()=>{const he=Ee[Symbol.asyncIterator]();(0,Y.f)(ae,qe,()=>{he.next().then(be=>{be.done?ae.complete():ae.next(be.value)})},0,!0)})})}var je=B(3670),Pe=B(8239),De=B(1144),at=B(6495),Ce=B(2206),ge=B(4532),it=B(3260);function Re(Ee,qe){return qe?function Ne(Ee,qe){if(null!=Ee){if((0,je.c)(Ee))return function le(Ee,qe){return(0,o.Xf)(Ee).pipe((0,N.R)(qe),(0,z.Q)(qe))}(Ee,qe);if((0,De.z)(Ee))return function ie(Ee,qe){return new _e.y(ae=>{let he=0;return qe.schedule(function(){he===Ee.length?ae.complete():(ae.next(Ee[he++]),ae.closed||this.schedule())})})}(Ee,qe);if((0,Pe.t)(Ee))return function de(Ee,qe){return(0,o.Xf)(Ee).pipe((0,N.R)(qe),(0,z.Q)(qe))}(Ee,qe);if((0,Ce.D)(Ee))return ee(Ee,qe);if((0,at.T)(Ee))return function W(Ee,qe){return new _e.y(ae=>{let he;return(0,Y.f)(ae,qe,()=>{he=Ee[pe.h](),(0,Y.f)(ae,qe,()=>{let be,J;try{({value:be,done:J}=he.next())}catch(te){return void ae.error(te)}J?ae.complete():ae.next(be)},0,!0)}),()=>(0,ve.m)(he?.return)&&he.return()})}(Ee,qe);if((0,it.L)(Ee))return function tt(Ee,qe){return ee((0,it.Q)(Ee),qe)}(Ee,qe)}throw(0,ge.z)(Ee)}(Ee,qe):(0,o.Xf)(Ee)}},8421:(ft,Te,B)=>{B.d(Te,{Xf:()=>je});var o=B(655),z=B(1144),N=B(8239),le=B(9751),de=B(3670),_e=B(2206),ie=B(4532),pe=B(6495),ve=B(3260),Y=B(576),W=B(7849),ee=B(8822);function je(Ne){if(Ne instanceof le.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Pe(Ne){return new le.y(Re=>{const Ee=Ne[ee.L]();if((0,Y.m)(Ee.subscribe))return Ee.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,z.z)(Ne))return function De(Ne){return new le.y(Re=>{for(let Ee=0;Ee<Ne.length&&!Re.closed;Ee++)Re.next(Ne[Ee]);Re.complete()})}(Ne);if((0,N.t)(Ne))return function at(Ne){return new le.y(Re=>{Ne.then(Ee=>{Re.closed||(Re.next(Ee),Re.complete())},Ee=>Re.error(Ee)).then(null,W.h)})}(Ne);if((0,_e.D)(Ne))return ge(Ne);if((0,pe.T)(Ne))return function Ce(Ne){return new le.y(Re=>{for(const Ee of Ne)if(Re.next(Ee),Re.closed)return;Re.complete()})}(Ne);if((0,ve.L)(Ne))return function it(Ne){return ge((0,ve.Q)(Ne))}(Ne)}throw(0,ie.z)(Ne)}function ge(Ne){return new le.y(Re=>{(function tt(Ne,Re){var Ee,qe,ae,he;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,o.KL)(Ne);!(qe=yield Ee.next()).done;)if(Re.next(qe.value),Re.closed)return}catch(be){ae={error:be}}finally{try{qe&&!qe.done&&(he=Ee.return)&&(yield he.call(Ee))}finally{if(ae)throw ae.error}}Re.complete()})})(Ne,Re).catch(Ee=>Re.error(Ee))})}},6451:(ft,Te,B)=>{B.d(Te,{T:()=>_e});var o=B(8189),z=B(8421),N=B(515),le=B(3269),de=B(8996);function _e(...ie){const pe=(0,le.yG)(ie),ve=(0,le._6)(ie,1/0),Y=ie;return Y.length?1===Y.length?(0,z.Xf)(Y[0]):(0,o.J)(ve)((0,de.D)(Y,pe)):N.E}},5403:(ft,Te,B)=>{B.d(Te,{x:()=>z});var o=B(930);function z(le,de,_e,ie,pe){return new N(le,de,_e,ie,pe)}class N extends o.Lv{constructor(de,_e,ie,pe,ve,Y){super(de),this.onFinalize=ve,this.shouldUnsubscribe=Y,this._next=_e?function(W){try{_e(W)}catch(ee){de.error(ee)}}:super._next,this._error=pe?function(W){try{pe(W)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(W){de.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ft,Te,B)=>{B.d(Te,{U:()=>N});var o=B(4482),z=B(5403);function N(le,de){return(0,o.e)((_e,ie)=>{let pe=0;_e.subscribe((0,z.x)(ie,ve=>{ie.next(le.call(de,ve,pe++))}))})}},8189:(ft,Te,B)=>{B.d(Te,{J:()=>N});var o=B(5577),z=B(4671);function N(le=1/0){return(0,o.z)(z.y,le)}},5577:(ft,Te,B)=>{B.d(Te,{z:()=>pe});var o=B(4004),z=B(8421),N=B(4482),le=B(9672),de=B(5403),ie=B(576);function pe(ve,Y,W=1/0){return(0,ie.m)(Y)?pe((ee,je)=>(0,o.U)((Pe,De)=>Y(ee,Pe,je,De))((0,z.Xf)(ve(ee,je))),W):("number"==typeof Y&&(W=Y),(0,N.e)((ee,je)=>function _e(ve,Y,W,ee,je,Pe,De,at){const Ce=[];let ge=0,it=0,tt=!1;const Ne=()=>{tt&&!Ce.length&&!ge&&Y.complete()},Re=qe=>ge<ee?Ee(qe):Ce.push(qe),Ee=qe=>{Pe&&Y.next(qe),ge++;let ae=!1;(0,z.Xf)(W(qe,it++)).subscribe((0,de.x)(Y,he=>{je?.(he),Pe?Re(he):Y.next(he)},()=>{ae=!0},void 0,()=>{if(ae)try{for(ge--;Ce.length&&ge<ee;){const he=Ce.shift();De?(0,le.f)(Y,De,()=>Ee(he)):Ee(he)}Ne()}catch(he){Y.error(he)}}))};return ve.subscribe((0,de.x)(Y,Re,()=>{tt=!0,Ne()})),()=>{at?.()}}(ee,je,ve,W)))}},5363:(ft,Te,B)=>{B.d(Te,{Q:()=>le});var o=B(9672),z=B(4482),N=B(5403);function le(de,_e=0){return(0,z.e)((ie,pe)=>{ie.subscribe((0,N.x)(pe,ve=>(0,o.f)(pe,de,()=>pe.next(ve),_e),()=>(0,o.f)(pe,de,()=>pe.complete(),_e),ve=>(0,o.f)(pe,de,()=>pe.error(ve),_e)))})}},3099:(ft,Te,B)=>{B.d(Te,{B:()=>de});var o=B(8421),z=B(7579),N=B(930),le=B(4482);function de(ie={}){const{connector:pe=(()=>new z.x),resetOnError:ve=!0,resetOnComplete:Y=!0,resetOnRefCountZero:W=!0}=ie;return ee=>{let je,Pe,De,at=0,Ce=!1,ge=!1;const it=()=>{Pe?.unsubscribe(),Pe=void 0},tt=()=>{it(),je=De=void 0,Ce=ge=!1},Ne=()=>{const Re=je;tt(),Re?.unsubscribe()};return(0,le.e)((Re,Ee)=>{at++,!ge&&!Ce&&it();const qe=De=De??pe();Ee.add(()=>{at--,0===at&&!ge&&!Ce&&(Pe=_e(Ne,W))}),qe.subscribe(Ee),!je&&at>0&&(je=new N.Hp({next:ae=>qe.next(ae),error:ae=>{ge=!0,it(),Pe=_e(tt,ve,ae),qe.error(ae)},complete:()=>{Ce=!0,it(),Pe=_e(tt,Y),qe.complete()}}),(0,o.Xf)(Re).subscribe(je))})(ee)}}function _e(ie,pe,...ve){if(!0===pe)return void ie();if(!1===pe)return;const Y=new N.Hp({next:()=>{Y.unsubscribe(),ie()}});return pe(...ve).subscribe(Y)}},9468:(ft,Te,B)=>{B.d(Te,{R:()=>z});var o=B(4482);function z(N,le=0){return(0,o.e)((de,_e)=>{_e.add(N.schedule(()=>de.subscribe(_e),le))})}},8505:(ft,Te,B)=>{B.d(Te,{b:()=>de});var o=B(576),z=B(4482),N=B(5403),le=B(4671);function de(_e,ie,pe){const ve=(0,o.m)(_e)||ie||pe?{next:_e,error:ie,complete:pe}:_e;return ve?(0,z.e)((Y,W)=>{var ee;null===(ee=ve.subscribe)||void 0===ee||ee.call(ve);let je=!0;Y.subscribe((0,N.x)(W,Pe=>{var De;null===(De=ve.next)||void 0===De||De.call(ve,Pe),W.next(Pe)},()=>{var Pe;je=!1,null===(Pe=ve.complete)||void 0===Pe||Pe.call(ve),W.complete()},Pe=>{var De;je=!1,null===(De=ve.error)||void 0===De||De.call(ve,Pe),W.error(Pe)},()=>{var Pe,De;je&&(null===(Pe=ve.unsubscribe)||void 0===Pe||Pe.call(ve)),null===(De=ve.finalize)||void 0===De||De.call(ve)}))}):le.y}},4408:(ft,Te,B)=>{B.d(Te,{o:()=>de});var o=B(727);class z extends o.w0{constructor(ie,pe){super()}schedule(ie,pe=0){return this}}const N={setInterval(_e,ie,...pe){const{delegate:ve}=N;return ve?.setInterval?ve.setInterval(_e,ie,...pe):setInterval(_e,ie,...pe)},clearInterval(_e){const{delegate:ie}=N;return(ie?.clearInterval||clearInterval)(_e)},delegate:void 0};var le=B(8737);class de extends z{constructor(ie,pe){super(ie,pe),this.scheduler=ie,this.work=pe,this.pending=!1}schedule(ie,pe=0){var ve;if(this.closed)return this;this.state=ie;const Y=this.id,W=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(W,Y,pe)),this.pending=!0,this.delay=pe,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(W,this.id,pe),this}requestAsyncId(ie,pe,ve=0){return N.setInterval(ie.flush.bind(ie,this),ve)}recycleAsyncId(ie,pe,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return pe;null!=pe&&N.clearInterval(pe)}execute(ie,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ie,pe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,pe){let Y,ve=!1;try{this.work(ie)}catch(W){ve=!0,Y=W||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:ie,scheduler:pe}=this,{actions:ve}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(ve,this),null!=ie&&(this.id=this.recycleAsyncId(pe,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Te,B)=>{B.d(Te,{v:()=>N});var o=B(6063);class z{constructor(de,_e=z.now){this.schedulerActionCtor=de,this.now=_e}schedule(de,_e=0,ie){return new this.schedulerActionCtor(this,de).schedule(ie,_e)}}z.now=o.l.now;class N extends z{constructor(de,_e=z.now){super(de,_e),this.actions=[],this._active=!1}flush(de){const{actions:_e}=this;if(this._active)return void _e.push(de);let ie;this._active=!0;do{if(ie=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this._active=!1,ie){for(;de=_e.shift();)de.unsubscribe();throw ie}}}},4986:(ft,Te,B)=>{B.d(Te,{P:()=>le,z:()=>N});var o=B(4408);const N=new(B(7565).v)(o.o),le=N},6063:(ft,Te,B)=>{B.d(Te,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ft,Te,B)=>{B.d(Te,{z:()=>o});const o={setTimeout(z,N,...le){const{delegate:de}=o;return de?.setTimeout?de.setTimeout(z,N,...le):setTimeout(z,N,...le)},clearTimeout(z){const{delegate:N}=o;return(N?.clearTimeout||clearTimeout)(z)},delegate:void 0}},2202:(ft,Te,B)=>{B.d(Te,{h:()=>z});const z=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Te,B)=>{B.d(Te,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Te,B)=>{B.d(Te,{_6:()=>_e,jO:()=>le,yG:()=>de});var o=B(576),z=B(3532);function N(ie){return ie[ie.length-1]}function le(ie){return(0,o.m)(N(ie))?ie.pop():void 0}function de(ie){return(0,z.K)(N(ie))?ie.pop():void 0}function _e(ie,pe){return"number"==typeof N(ie)?ie.pop():pe}},8737:(ft,Te,B)=>{function o(z,N){if(z){const le=z.indexOf(N);0<=le&&z.splice(le,1)}}B.d(Te,{P:()=>o})},3888:(ft,Te,B)=>{function o(z){const le=z(de=>{Error.call(de),de.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}B.d(Te,{d:()=>o})},2806:(ft,Te,B)=>{B.d(Te,{O:()=>le,x:()=>N});var o=B(2416);let z=null;function N(de){if(o.v.useDeprecatedSynchronousErrorHandling){const _e=!z;if(_e&&(z={errorThrown:!1,error:null}),de(),_e){const{errorThrown:ie,error:pe}=z;if(z=null,ie)throw pe}}else de()}function le(de){o.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=de)}},9672:(ft,Te,B)=>{function o(z,N,le,de=0,_e=!1){const ie=N.schedule(function(){le(),_e?z.add(this.schedule(null,de)):this.unsubscribe()},de);if(z.add(ie),!_e)return ie}B.d(Te,{f:()=>o})},4671:(ft,Te,B)=>{function o(z){return z}B.d(Te,{y:()=>o})},1144:(ft,Te,B)=>{B.d(Te,{z:()=>o});const o=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(ft,Te,B)=>{B.d(Te,{D:()=>z});var o=B(576);function z(N){return Symbol.asyncIterator&&(0,o.m)(N?.[Symbol.asyncIterator])}},576:(ft,Te,B)=>{function o(z){return"function"==typeof z}B.d(Te,{m:()=>o})},3670:(ft,Te,B)=>{B.d(Te,{c:()=>N});var o=B(8822),z=B(576);function N(le){return(0,z.m)(le[o.L])}},6495:(ft,Te,B)=>{B.d(Te,{T:()=>N});var o=B(2202),z=B(576);function N(le){return(0,z.m)(le?.[o.h])}},8239:(ft,Te,B)=>{B.d(Te,{t:()=>z});var o=B(576);function z(N){return(0,o.m)(N?.then)}},3260:(ft,Te,B)=>{B.d(Te,{L:()=>le,Q:()=>N});var o=B(655),z=B(576);function N(de){return(0,o.FC)(this,arguments,function*(){const ie=de.getReader();try{for(;;){const{value:pe,done:ve}=yield(0,o.qq)(ie.read());if(ve)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(pe)}}finally{ie.releaseLock()}})}function le(de){return(0,z.m)(de?.getReader)}},3532:(ft,Te,B)=>{B.d(Te,{K:()=>z});var o=B(576);function z(N){return N&&(0,o.m)(N.schedule)}},4482:(ft,Te,B)=>{B.d(Te,{A:()=>z,e:()=>N});var o=B(576);function z(le){return(0,o.m)(le?.lift)}function N(le){return de=>{if(z(de))return de.lift(function(_e){try{return le(_e,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Te,B)=>{function o(){}B.d(Te,{Z:()=>o})},9635:(ft,Te,B)=>{B.d(Te,{U:()=>N,z:()=>z});var o=B(4671);function z(...le){return N(le)}function N(le){return 0===le.length?o.y:1===le.length?le[0]:function(_e){return le.reduce((ie,pe)=>pe(ie),_e)}}},7849:(ft,Te,B)=>{B.d(Te,{h:()=>N});var o=B(2416),z=B(3410);function N(le){z.z.setTimeout(()=>{const{onUnhandledError:de}=o.v;if(!de)throw le;de(le)})}},4532:(ft,Te,B)=>{function o(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Te,{z:()=>o})},655:(ft,Te,B)=>{function le(J,te){var me={};for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&te.indexOf(ue)<0&&(me[ue]=J[ue]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ue=Object.getOwnPropertySymbols(J);Ue<ue.length;Ue++)te.indexOf(ue[Ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ue[Ue])&&(me[ue[Ue]]=J[ue[Ue]])}return me}function pe(J,te,me,ue){return new(me||(me=Promise))(function(He,bt){function fn(bn){try{Qe(ue.next(bn))}catch(Ln){bt(Ln)}}function qt(bn){try{Qe(ue.throw(bn))}catch(Ln){bt(Ln)}}function Qe(bn){bn.done?He(bn.value):function Ue(He){return He instanceof me?He:new me(function(bt){bt(He)})}(bn.value).then(fn,qt)}Qe((ue=ue.apply(J,te||[])).next())})}function Ce(J){return this instanceof Ce?(this.v=J,this):new Ce(J)}function ge(J,te,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ue=me.apply(J,te||[]),He=[];return Ue={},bt("next"),bt("throw"),bt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function bt(cn){ue[cn]&&(Ue[cn]=function(un){return new Promise(function(Jt,Gt){He.push([cn,un,Jt,Gt])>1||fn(cn,un)})})}function fn(cn,un){try{!function qt(cn){cn.value instanceof Ce?Promise.resolve(cn.value.v).then(Qe,bn):Ln(He[0][2],cn)}(ue[cn](un))}catch(Jt){Ln(He[0][3],Jt)}}function Qe(cn){fn("next",cn)}function bn(cn){fn("throw",cn)}function Ln(cn,un){cn(un),He.shift(),He.length&&fn(He[0][0],He[0][1])}}function tt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,te=J[Symbol.asyncIterator];return te?te.call(J):(J=function ee(J){var te="function"==typeof Symbol&&Symbol.iterator,me=te&&J[te],ue=0;if(me)return me.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ue>=J.length&&(J=void 0),{value:J&&J[ue++],done:!J}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),me={},ue("next"),ue("throw"),ue("return"),me[Symbol.asyncIterator]=function(){return this},me);function ue(He){me[He]=J[He]&&function(bt){return new Promise(function(fn,qt){!function Ue(He,bt,fn,qt){Promise.resolve(qt).then(function(Qe){He({value:Qe,done:fn})},bt)}(fn,qt,(bt=J[He](bt)).done,bt.value)})}}}B.d(Te,{FC:()=>ge,KL:()=>tt,_T:()=>le,mG:()=>pe,qq:()=>Ce})},4650:(ft,Te,B)=>{B.d(Te,{$8M:()=>Rc,$Z:()=>uw,AFp:()=>UA,ALo:()=>qE,AaK:()=>pe,Akn:()=>xo,BQk:()=>qc,CHM:()=>np,CRH:()=>XE,CZH:()=>Y0,CqO:()=>Z1,D6c:()=>uM,EJc:()=>W3,EiD:()=>Vc,EpF:()=>zw,F$t:()=>K1,F4k:()=>tf,FYo:()=>sT,FiY:()=>xe,G48:()=>JA,Gf:()=>CA,GfV:()=>EC,Gpc:()=>W,Gre:()=>hE,Hsn:()=>P_,Ikx:()=>G_,JOm:()=>Qa,JVY:()=>Lg,KtG:()=>Ta,L6k:()=>Iv,LAX:()=>Tv,LFG:()=>Rt,LSH:()=>Bg,Lbi:()=>j3,Lck:()=>Y2,MAs:()=>R_,MMx:()=>Ed,NdJ:()=>nf,O4$:()=>Ru,OlP:()=>Un,Oqu:()=>B_,PXZ:()=>Nn,Q6J:()=>nm,QGY:()=>ef,QP$:()=>Le,QbO:()=>$3,Qsj:()=>HP,R0b:()=>aa,RDi:()=>Ng,Rgc:()=>Dm,SBq:()=>Yu,Sil:()=>q3,Suo:()=>su,TTD:()=>Xs,TgZ:()=>il,Udp:()=>e0,W1O:()=>ou,WFA:()=>sc,X6Q:()=>gD,XFs:()=>nt,Xpm:()=>Se,Xts:()=>Pv,Y36:()=>jh,YKP:()=>jE,YNc:()=>Bs,Yjl:()=>$,Yz7:()=>un,Z0I:()=>ts,ZZ4:()=>lu,_Bn:()=>HE,_UZ:()=>rl,_Vd:()=>Uc,_c5:()=>wy,_uU:()=>o0,aQg:()=>hb,c2e:()=>z3,cJS:()=>Gt,cg1:()=>pm,d8E:()=>W_,dDg:()=>i4,dqk:()=>Ft,eBb:()=>Sv,eFA:()=>Fi,ekj:()=>t0,eoX:()=>KA,f3M:()=>vn,g9A:()=>jA,h0i:()=>ol,hGG:()=>cu,hij:()=>U_,iGM:()=>QE,ifc:()=>gt,ip1:()=>BA,jDz:()=>R0,kL8:()=>sf,kcU:()=>uh,lG2:()=>Q,lcZ:()=>B0,lqb:()=>Ka,lri:()=>qA,mCW:()=>y,n5z:()=>ro,n_E:()=>ay,oAB:()=>an,oxw:()=>rf,pB0:()=>Sh,q3G:()=>Zn,q4F:()=>DC,qLn:()=>Op,qOj:()=>ld,qZA:()=>rc,qzn:()=>ho,rWj:()=>YA,s9C:()=>oc,sBO:()=>_D,sIi:()=>qh,s_b:()=>hf,soG:()=>K0,tb:()=>$A,tp0:()=>_t,uIk:()=>z1,vHH:()=>De,vpe:()=>al,wAp:()=>Ot,xp6:()=>tw,ynx:()=>O_,z2F:()=>my,z3N:()=>Ps,zSh:()=>$g,zs3:()=>Ql});var o=B(7579),z=B(727),N=B(9751),le=B(6451),de=B(3099);function _e(a){for(let l in a)if(a[l]===_e)return l;throw Error("Could not find renamed property on target object.")}function ie(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function ve(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Y=_e({__forward_ref__:_e});function W(a){return a.__forward_ref__=W,a.toString=function(){return pe(this())},a}function ee(a){return je(a)?a():a}function je(a){return"function"==typeof a&&a.hasOwnProperty(Y)&&a.__forward_ref__===W}class De extends Error{constructor(l,u){super(function at(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Ce(a){return"string"==typeof a?a:null==a?"":String(a)}function Re(a,l){throw new De(-201,!1)}function qt(a,l){null==a&&function Qe(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function un(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Gt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Vi(a){return or(a,ar)||or(a,Hr)}function ts(a){return null!==Vi(a)}function or(a,l){return a.hasOwnProperty(l)?a[l]:null}function is(a){return a&&(a.hasOwnProperty(ni)||a.hasOwnProperty(rs))?a[ni]:null}const ar=_e({\u0275prov:_e}),ni=_e({\u0275inj:_e}),Hr=_e({ngInjectableDef:_e}),rs=_e({ngInjectorDef:_e});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let yi;function Rn(a){const l=yi;return yi=a,l}function ki(a,l,u){const h=Vi(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&nt.Optional?null:void 0!==l?l:void Re(pe(a))}function On(a){return{toString:a}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),gt=(()=>{return(a=gt||(gt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",gt;var a})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Xi={},Mt=[],Ji=_e({\u0275cmp:_e}),Ut=_e({\u0275dir:_e}),mr=_e({\u0275pipe:_e}),nn=_e({\u0275mod:_e}),Ii=_e({\u0275fac:_e}),zn=_e({__NG_ELEMENT_ID__:_e});let st=0;function Se(a){return On(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Mt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||gt.Emulated,id:"c"+st++,styles:a.styles||Mt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=G(a.inputs,h),f.outputs=G(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Et).filter(It):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(se).filter(It):null,f})}function Et(a){return O(a)||H(a)}function It(a){return null!==a}function an(a){return On(()=>({type:a.type,bootstrap:a.bootstrap||Mt,declarations:a.declarations||Mt,imports:a.imports||Mt,exports:a.exports||Mt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function G(a,l){if(null==a)return Xi;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,l&&(l[f]=m)}return u}const Q=Se;function $(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function O(a){return a[Ji]||null}function H(a){return a[Ut]||null}function se(a){return a[mr]||null}function Le(a){const l=O(a)||H(a)||se(a);return null!==l&&l.standalone}function ct(a,l){const u=a[nn]||null;if(!u&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return u}function vi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Ir(a){return Array.isArray(a)&&!0===a[1]}function Qs(a){return 0!=(8&a.flags)}function bl(a){return 2==(2&a.flags)}function xl(a){return 1==(1&a.flags)}function _r(a){return null!==a.template}function Eu(a){return 0!=(256&a[2])}function Bi(a,l){return a.hasOwnProperty(Ii)?a[Ii]:null}class Da{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Xs(){return th}function th(a){return a.type.prototype.ngOnChanges&&(a.setInput=Du),xc}function xc(){const a=Ia(this),l=a?.current;if(l){const u=a.previous;if(u===Xi)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Du(a,l,u,h){const f=Ia(a)||function Js(a,l){return a[nh]=l}(a,{previous:Xi,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],D=v[C];m[C]=new Da(D&&D.currentValue,l,v===Xi),a[h]=l}Xs.ngInherit=!0;const nh="__ngSimpleChanges__";function Ia(a){return a[nh]||null}function Xn(a){for(;Array.isArray(a);)a=a[0];return a}function jr(a,l){return Xn(l[a])}function Ui(a,l){return Xn(l[a.index])}function Bo(a,l){return a.data[l]}function os(a,l){return a[l]}function mn(a,l){const u=l[a];return vi(u)?u:u[0]}function eo(a){return 64==(64&a[2])}function Mr(a,l){return null==l?null:a[l]}function El(a){a[18]=0}function ii(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Bt={lFrame:Pl(null),bindingsEnabled:!0};function Uo(){return Bt.bindingsEnabled}function Oe(){return Bt.lFrame.lView}function en(){return Bt.lFrame.tView}function np(a){return Bt.lFrame.contextLView=a,a[8]}function Ta(a){return Bt.lFrame.contextLView=null,a}function bi(){let a=Aa();for(;null!==a&&64===a.type;)a=a.parent;return a}function Aa(){return Bt.lFrame.currentTNode}function cr(a,l){const u=Bt.lFrame;u.currentTNode=a,u.isParent=l}function Ec(){return Bt.lFrame.isParent}function Ma(){Bt.lFrame.isParent=!1}function kl(){return Bt.lFrame.bindingIndex++}function Ts(a){const l=Bt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function oh(a,l){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=a,ka(l)}function ka(a){Bt.lFrame.currentDirectiveIndex=a}function Mu(a){const l=Bt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Rl(){return Bt.lFrame.currentQueryIndex}function ku(a){Bt.lFrame.currentQueryIndex=a}function Ol(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ah(a,l,u){if(u&nt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||u&nt.Host||(f=Ol(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const h=Bt.lFrame=sp();return h.currentTNode=l,h.lView=a,!0}function Ra(a){const l=sp(),u=a[1];Bt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function sp(){const a=Bt.lFrame,l=null===a?null:a.child;return null===l?Pl(a):l}function Pl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function op(){const a=Bt.lFrame;return Bt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const lh=op;function to(){const a=op();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Gn(){return Bt.lFrame.selectedIndex}function As(a){Bt.lFrame.selectedIndex=a}function Wn(){const a=Bt.lFrame;return Bo(a.tView,a.selectedIndex)}function Ru(){Bt.lFrame.currentNamespace="svg"}function uh(){!function Pu(){Bt.lFrame.currentNamespace=null}()}function Dc(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:T,ngOnDestroy:P}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),D&&(a.viewHooks||(a.viewHooks=[])).push(-u,D),T&&((a.viewHooks||(a.viewHooks=[])).push(u,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,T)),null!=P&&(a.destroyHooks||(a.destroyHooks=[])).push(u,P)}}function Oa(a,l,u){Na(a,l,3,u)}function Pa(a,l,u,h){(3&a[2])===u&&Na(a,l,u,h)}function dh(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Na(a,l,u,h){const m=h??-1,v=l.length-1;let C=0;for(let D=void 0!==h?65535&a[18]:0;D<v;D++)if("number"==typeof l[D+1]){if(C=l[D],null!=h&&C>=h)break}else l[D]<0&&(a[18]+=65536),(C<m||-1==m)&&(hh(a,u,l,D),a[18]=(4294901760&a[18])+D+2),D++}function hh(a,l,u,h){const f=u[h]<0,m=u[h+1],C=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class kr{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Ms(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],C=u[h++];a.setAttribute(l,v,C,m)}else{const m=f,v=u[++h];Vu(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),h++}}return h}function Fl(a){return 3===a||4===a||6===a}function Vu(a){return 64===a.charCodeAt(0)}function Ll(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||ph(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function ph(a,l,u,h,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[m+1]=f));if(h===a[m+1])return void(a[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,u),null!==h&&a.splice(m++,0,h),null!==f&&a.splice(m++,0,f)}function lp(a){return-1!==a}function Ci(a){return 32767&a}function io(a,l){let u=function cp(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Bu=!0;function Vl(a){const l=Bu;return Bu=a,l}let mh=0;const vr={};function ks(a,l){const u=Ac(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Uu(h.data,a),Uu(l,null),Uu(h.blueprint,null));const f=Bl(a,l),m=a.injectorIndex;if(lp(f)){const v=Ci(f),C=io(f,l),D=C[1].data;for(let T=0;T<8;T++)l[m+T]=C[v+T]|D[v+T]}return l[m+8]=f,m}function Uu(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ac(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Bl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=ja(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function jo(a,l,u){!function gh(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(zn)&&(h=u[zn]),null==h&&(h=u[zn]=mh++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function La(a,l,u){if(u&nt.Optional||void 0!==a)return a;Re()}function $o(a,l,u,h){if(u&nt.Optional&&void 0===h&&(h=null),0==(u&(nt.Self|nt.Host))){const f=a[9],m=Rn(void 0);try{return f?f.get(l,h,u&nt.Optional):ki(l,h,u&nt.Optional)}finally{Rn(m)}}return La(h,0,u)}function Va(a,l,u,h=nt.Default,f){if(null!==a){if(1024&l[2]){const v=function hp(a,l,u,h,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=_h(m,v,u,h|nt.Self,vr);if(C!==vr)return C;let D=m.parent;if(!D){const T=v[21];if(T){const P=T.get(u,vr,h);if(P!==vr)return P}D=ja(v),v=v[15]}m=D}return f}(a,l,u,h,vr);if(v!==vr)return v}const m=_h(a,l,u,h,vr);if(m!==vr)return m}return $o(l,u,h,f)}function _h(a,l,u,h,f){const m=function dp(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(zn)?a[zn]:void 0;return"number"==typeof l?l>=0?255&l:Hu:l}(u);if("function"==typeof m){if(!ah(l,a,h))return h&nt.Host?La(f,0,h):$o(l,u,h,f);try{const v=m(h);if(null!=v||h&nt.Optional)return v;Re()}finally{lh()}}else if("number"==typeof m){let v=null,C=Ac(a,l),D=-1,T=h&nt.Host?l[16][6]:null;for((-1===C||h&nt.SkipSelf)&&(D=-1===C?Bl(a,l):l[C+8],-1!==D&&kc(h,!1)?(v=l[1],C=Ci(D),l=io(D,l)):C=-1);-1!==C;){const P=l[1];if(Ba(m,C,P.data)){const U=Mc(C,l,u,v,h,T);if(U!==vr)return U}D=l[C+8],-1!==D&&kc(h,l[1].data[C+8]===T)&&Ba(m,C,l)?(v=P,C=Ci(D),l=io(D,l)):C=-1}}return f}function Mc(a,l,u,h,f,m){const v=l[1],C=v.data[a+8],P=Hl(C,v,u,null==h?bl(C)&&Bu:h!=v&&0!=(3&C.type),f&nt.Host&&m===C);return null!==P?ls(l,v,P,C):vr}function Hl(a,l,u,h,f){const m=a.providerIndexes,v=l.data,C=1048575&m,D=a.directiveStart,P=m>>20,K=f?C+P:a.directiveEnd;for(let oe=h?C:C+P;oe<K;oe++){const Ie=v[oe];if(oe<D&&u===Ie||oe>=D&&Ie.type===u)return oe}if(f){const oe=v[D];if(oe&&_r(oe)&&oe.type===u)return D}return null}function ls(a,l,u,h){let f=a[u];const m=l.data;if(function Lu(a){return a instanceof kr}(f)){const v=f;v.resolving&&function it(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new De(-200,`Circular dependency in DI detected for ${a}${u}`)}(function ge(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ce(a)}(m[u]));const C=Vl(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Rn(v.injectImpl):null;ah(a,h,nt.Default);try{f=a[u]=v.factory(void 0,m,a,h),l.firstCreatePass&&u>=h.directiveStart&&function Fu(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const v=th(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==D&&Rn(D),Vl(C),v.resolving=!1,lh()}}return f}function Ba(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function kc(a,l){return!(a&nt.Self||a&nt.Host&&l)}class Ua{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Va(this._tNode,this._lView,l,h,u)}}function Hu(){return new Ua(bi(),Oe())}function ro(a){return On(()=>{const l=a.prototype.constructor,u=l[Ii]||Ha(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const m=f[Ii]||Ha(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Ha(a){return je(a)?()=>{const l=Ha(ee(a));return l&&l()}:Bi(a)}function ja(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Rc(a){return function Ul(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(Fl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(bi(),a)}const $a="__parameters__";function Ga(a,l,u){return On(()=>{const h=function ju(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(D,T,P){const U=D.hasOwnProperty($a)?D[$a]:Object.defineProperty(D,$a,{value:[]})[$a];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(v),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Un{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=un({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Pn(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Pn(h,l)):l!==a&&l.push(h)}return l}function Rs(a,l){a.forEach(u=>Array.isArray(u)?Rs(u,l):l(u))}function Wo(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Hn(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Zo(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function Ye(a,l,u){let h=ds(a,l);return h>=0?a[1|h]=u:(h=~h,function mp(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function $u(a,l){const u=ds(a,l);if(u>=0)return a[1|u]}function ds(a,l){return function $l(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=a[m<<u];if(l===v)return m<<u;v>l?f=m:h=m+1}return~(f<<u)}(a,l,1)}const br={},Pc="__NG_DI_FLAG__",tr="ngTempTokenPath",Hi=/\n/gm,wn="__source";let ao;function Yo(a){const l=ao;return ao=a,l}function Jn(a,l=nt.Default){if(void 0===ao)throw new De(-203,!1);return null===ao?ki(a,void 0,l):ao.get(a,l&nt.Optional?null:void 0,l)}function Rt(a,l=nt.Default){return(function li(){return yi}()||Jn)(ee(a),l)}function vn(a,l=nt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Rt(a,l)}function I(a){const l=[];for(let u=0;u<a.length;u++){const h=ee(a[u]);if(Array.isArray(h)){if(0===h.length)throw new De(900,!1);let f,m=nt.Default;for(let v=0;v<h.length;v++){const C=h[v],D=k(C);"number"==typeof D?-1===D?f=C.token:m|=D:f=C}l.push(Rt(f,m))}else l.push(Rt(h))}return l}function S(a,l){return a[Pc]=l,a.prototype[Pc]=l,a}function k(a){return a[Pc]}const xe=S(Ga("Optional"),8),_t=S(Ga("SkipSelf"),4);let bp,zu;function Ng(a){bp=a}function Xo(a){return function Eh(){if(void 0===zu&&(zu=null,Ft.trustedTypes))try{zu=Ft.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return zu}()?.createHTML(a)||a}class ql{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lc extends ql{getTypeName(){return"HTML"}}class Wu extends ql{getTypeName(){return"Style"}}class Cp extends ql{getTypeName(){return"Script"}}class Ih extends ql{getTypeName(){return"URL"}}class wp extends ql{getTypeName(){return"ResourceURL"}}function Ps(a){return a instanceof ql?a.changingThisBreaksApplicationSecurity:a}function ho(a,l){const u=function Ep(a){return a instanceof ql&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Lg(a){return new Lc(a)}function Iv(a){return new Wu(a)}function Sv(a){return new Cp(a)}function Tv(a){return new Ih(a)}function Sh(a){return new wp(a)}class Av{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Xo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Mv{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Xo(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Xo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const g=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function y(a){return(a=String(a)).match(g)?a:"unsafe:"+a}function w(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function M(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const L=w("area,br,col,hr,img,wbr"),re=w("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Me=w("rp,rt"),En=M(L,M(re,w("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),M(Me,w("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),M(Me,re)),ur=w("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ah=M(ur,w("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),w("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mh=w("script,style,template");class Yl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!En.hasOwnProperty(u))return this.sanitizedSomething=!0,!Mh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,C=v.toLowerCase();if(!Ah.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;ur[C]&&(D=y(D)),this.buf.push(" ",v,'="',kh(D),'"')}return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();En.hasOwnProperty(u)&&!L.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(kh(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Vg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ip=/([^\#-~ |!])/g;function kh(a){return a.replace(/&/g,"&amp;").replace(Vg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Ip,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zu;function Vc(a,l){let u=null;try{Zu=Zu||function Dp(a){const l=new Mv(a);return function x(){try{return!!(new window.DOMParser).parseFromString(Xo(""),"text/html")}catch{return!1}}()?new Av(l):l}(a);let h=l?String(l):"";u=Zu.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Zu.getInertBodyElement(h)}while(h!==m);return Xo((new Yl).sanitizeChildren(Za(u)||u))}finally{if(u){const h=Za(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Za(a){return"content"in a&&function kv(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function Bg(a){const l=function Sp(){const a=Oe();return a&&a[12]}();return l?l.sanitize(Zn.URL,a)||"":ho(a,"URL")?Ps(a):y(Ce(a))}const Pv=new Un("ENVIRONMENT_INITIALIZER"),hC=new Un("INJECTOR",-1),fC=new Un("INJECTOR_DEF_TYPES");class pC{get(l,u=br){if(u===br){const h=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw h.name="NullInjectorError",h}return u}}function tT(...a){return{\u0275providers:mC(0,a)}}function mC(a,...l){const u=[],h=new Set;let f;return Rs(l,m=>{const v=m;Hg(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&gC(f,u),u}function gC(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];Rs(f,m=>{l.push(m)})}}function Hg(a,l,u,h){if(!(a=ee(a)))return!1;let f=null,m=is(a);const v=!m&&O(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const D=a.ngModule;if(m=is(D),!m)return!1;f=D}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const T of D)Hg(T,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let T;h.add(f);try{Rs(m.imports,P=>{Hg(P,l,u,h)&&(T||(T=[]),T.push(P))})}finally{}void 0!==T&&gC(T,l)}if(!C){const T=Bi(f)||(()=>new f);l.push({provide:f,useFactory:T,deps:Mt},{provide:fC,useValue:f,multi:!0},{provide:Pv,useValue:()=>Rt(f),multi:!0})}const D=m.providers;null==D||C||Rs(D,P=>{l.push(P)})}}return f!==a&&void 0!==a.providers}const _C=_e({provide:String,useValue:_e});function Tp(a){return null!==a&&"object"==typeof a&&_C in a}function fo(a){return"function"==typeof a}const $g=new Un("Set Injector scope."),zg={},qu={};let Gg;function Wg(){return void 0===Gg&&(Gg=new pC),Gg}class Ka{}class Nv extends Ka{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qg(l,v=>this.processProvider(v)),this.records.set(hC,Rh(void 0,this)),f.has("environment")&&this.records.set(Ka,Rh(void 0,this));const m=this.records.get($g);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(fC.multi,Mt,nt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=Yo(this),h=Rn(void 0);try{return l()}finally{Yo(u),Rn(h)}}get(l,u=br,h=nt.Default){this.assertNotDestroyed();const f=Yo(this),m=Rn(void 0);try{if(!(h&nt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const D=function iT(a){return"function"==typeof a||"object"==typeof a&&a instanceof Un}(l)&&Vi(l);C=D&&this.injectableDefInScope(D)?Rh(Ap(l),zg):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&nt.Self?Wg():this.parent).get(l,u=h&nt.Optional&&u===br?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[tr]=v[tr]||[]).unshift(pe(l)),f)throw v;return function j(a,l,u,h){const f=a[tr];throw l[wn]&&f.unshift(l[wn]),a.message=function X(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=pe(l);if(Array.isArray(l))f=l.map(pe).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Hi,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[tr]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Rn(m),Yo(f)}}resolveInjectorInitializers(){const l=Yo(this),u=Rn(void 0);try{const h=this.get(Pv.multi,Mt,nt.Self);for(const f of h)f()}finally{Yo(l),Rn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(pe(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(l){let u=fo(l=ee(l))?l:ee(l&&l.provide);const h=function Fv(a){return Tp(a)?Rh(void 0,a.useValue):Rh(Zg(a),zg)}(l);if(fo(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Rh(void 0,zg,!0),f.factory=()=>I(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===zg&&(u.value=qu,u.value=u.factory()),"object"==typeof u.value&&u.value&&function nT(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ee(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Ap(a){const l=Vi(a),u=null!==l?l.factory:Bi(a);if(null!==u)return u;if(a instanceof Un)throw new De(204,!1);if(a instanceof Function)return function vC(a){const l=a.length;if(l>0)throw Zo(l,"?"),new De(204,!1);const u=function Qn(a){const l=a&&(a[ar]||a[Hr]);if(l){const u=function ns(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new De(204,!1)}function Zg(a,l,u){let h;if(fo(a)){const f=ee(a);return Bi(f)||Ap(f)}if(Tp(a))h=()=>ee(a.useValue);else if(function Ya(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...I(a.deps||[]));else if(function jg(a){return!(!a||!a.useExisting)}(a))h=()=>Rt(ee(a.useExisting));else{const f=ee(a&&(a.useClass||a.provide));if(!function Mp(a){return!!a.deps}(a))return Bi(f)||Ap(f);h=()=>new f(...I(a.deps))}return h}function Rh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function Lv(a){return!!a.\u0275providers}function qg(a,l){for(const u of a)Array.isArray(u)?qg(u,l):Lv(u)?qg(u.\u0275providers,l):l(u)}class Vv{}class Kg{resolveComponentFactory(l){throw function xC(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Uc=(()=>{class a{}return a.NULL=new Kg,a})();function rT(){return Oh(bi(),Oe())}function Oh(a,l){return new Yu(Ui(a,l))}let Yu=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=rT,a})();function wC(a){return a instanceof Yu?a.nativeElement:a}class sT{}let HP=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function jP(){const a=Oe(),u=mn(bi().index,a);return(vi(u)?u:a)[11]}(),a})(),Bv=(()=>{class a{}return a.\u0275prov=un({token:a,providedIn:"root",factory:()=>null}),a})();class EC{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const DC=new EC("14.2.8"),Uv={};function Wv(a){return a.ngOriginalError}class Op{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&Wv(l);for(;u&&Wv(u);)u=Wv(u);return u||null}}const Zv=new Map;let hT=0;const n_="__ngContext__";function dr(a,l){vi(l)?(a[n_]=l[20],function pT(a){Zv.set(a[20],a)}(l)):a[n_]=l}function Kl(a){return a instanceof Function?a():a}var Qa=(()=>((Qa=Qa||{})[Qa.Important=1]="Important",Qa[Qa.DashCase=2]="DashCase",Qa))();function Xv(a,l){return undefined(a,l)}function Vh(a){const l=a[3];return Ir(l)?l[3]:l}function s_(a){return LC(a[13])}function o_(a){return LC(a[4])}function LC(a){for(;null!==a&&!Ir(a);)a=a[4];return a}function Bh(a,l,u,h,f){if(null!=h){let m,v=!1;Ir(h)?m=h:vi(h)&&(v=!0,h=h[0]);const C=Xn(h);0===a&&null!==u?null==f?zC(l,u,C):Xa(l,u,C,f||null,!0):1===a&&null!==u?Xa(l,u,C,f||null,!0):2===a?function TT(a,l,u){const h=c_(a,l);h&&function ST(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function XP(a,l,u,h,f){const m=u[7];m!==Xn(u)&&Bh(l,a,h,m,f);for(let C=10;C<u.length;C++){const D=u[C];Ku(D[1],D,a,l,h,m)}}(l,a,m,u,f)}}function a_(a,l,u){return a.createElement(l,u)}function HC(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,ii(f,-1)),u.splice(h,1)}function n1(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&HC(f,h),l>0&&(a[u-1][4]=h[4]);const m=Hn(a,10+l);!function t1(a,l){Ku(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function Fp(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Ku(a,l,u,3,null,null),function KP(a){let l=a[13];if(!l)return l_(a[1],a);for(;l;){let u=null;if(vi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)vi(l)&&l_(l[1],l),l=l[3];null===l&&(l=a),vi(l)&&l_(l[1],l),u=l&&l[4]}l=u}}(l)}}function l_(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function s1(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof kr)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],D=m[v+1];try{D.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function r1(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(l):Xn(l[v]),D=h[f=u[m+2]],T=u[m+3];"boolean"==typeof T?C.removeEventListener(u[m],D,T):T>=0?h[f=T]():h[f=-T].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Ir(l[3])){u!==l[3]&&HC(u,l);const h=l[19];null!==h&&h.detachView(a)}!function mT(a){Zv.delete(a[20])}(l)}}function jC(a,l,u){return function $C(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===gt.None||f===gt.Emulated)return null}return Ui(h,u)}(a,l.parent,u)}function Xa(a,l,u,h,f){a.insertBefore(l,u,h,f)}function zC(a,l,u){a.appendChild(l,u)}function GC(a,l,u,h,f){null!==h?Xa(a,l,u,h,f):zC(a,l,u)}function c_(a,l){return a.parentNode(l)}function qn(a,l,u){return o1(a,l,u)}let o1=function ZC(a,l,u){return 40&a.type?Ui(a,u):null};function u_(a,l,u,h){const f=jC(a,h,l),m=l[11],C=qn(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)GC(m,f,u[D],C,!1);else GC(m,f,u,C,!1)}function d_(a,l){if(null!==l){const u=l.type;if(3&u)return Ui(l,a);if(4&u)return qC(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return d_(a,h);{const f=a[l.index];return Ir(f)?qC(-1,f):Xn(f)}}if(32&u)return Xv(l,a)()||Xn(a[l.index]);{const h=a1(a,l);return null!==h?Array.isArray(h)?h[0]:d_(Vh(a[16]),h):d_(a,l.next)}}return null}function a1(a,l){return null!==l?a[16][6].projection[l.projection]:null}function qC(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return d_(h,f)}return l[7]}function l1(a,l,u,h,f,m,v){for(;null!=u;){const C=h[u.index],D=u.type;if(v&&0===l&&(C&&dr(Xn(C),h),u.flags|=4),64!=(64&u.flags))if(8&D)l1(a,l,u.child,h,f,m,!1),Bh(l,a,f,C,m);else if(32&D){const T=Xv(u,h);let P;for(;P=T();)Bh(l,a,f,P,m);Bh(l,a,f,C,m)}else 16&D?Lp(a,l,h,u,f,m):Bh(l,a,f,C,m);u=v?u.projectionNext:u.next}}function Ku(a,l,u,h,f,m){l1(u,h,a.firstChild,l,f,m,!1)}function Lp(a,l,u,h,f,m){const v=u[16],D=v[6].projection[h.projection];if(Array.isArray(D))for(let T=0;T<D.length;T++)Bh(l,a,f,D[T],m);else l1(a,l,D,v[3],f,m,!0)}function Qu(a,l,u){a.setAttribute(l,"style",u)}function Vp(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function AT(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||a.charCodeAt(f+m)<=32)return f}u=f+1}}const c1="ng-template";function u1(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==AT(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function QC(a){return 4===a.type&&a.value!==c1}function kT(a,l,u){return l===(4!==a.type||u?a.value:c1)}function RT(a,l,u){let h=4;const f=a.attrs||[],m=function JP(a){for(let l=0;l<a.length;l++)if(Fl(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const D=l[C];if("number"!=typeof D){if(!v)if(4&h){if(h=2|1&h,""!==D&&!kT(a,D,u)||""===D&&1===l.length){if(go(h))return!1;v=!0}}else{const T=8&h?D:l[++C];if(8&h&&null!==a.attrs){if(!u1(a.attrs,T,u)){if(go(h))return!1;v=!0}continue}const U=OT(8&h?"class":D,f,QC(a),u);if(-1===U){if(go(h))return!1;v=!0;continue}if(""!==T){let K;K=U>m?"":f[U+1].toLowerCase();const oe=8&h?K:null;if(oe&&-1!==AT(oe,T,0)||2&h&&T!==K){if(go(h))return!1;v=!0}}}}else{if(!v&&!go(h)&&!go(D))return!1;if(v&&go(D))continue;v=!1,h=D|1&h}}return go(h)||v}function go(a){return 0==(1&a)}function OT(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function XC(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function PT(a,l,u=!1){for(let h=0;h<l.length;h++)if(RT(a,l[h],u))return!0;return!1}function NT(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function JC(a,l){return a?":not("+l.trim()+")":l}function ew(a){let l=a[0],u=1,h=2,f="",m=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!go(v)&&(l+=JC(m,f),f=""),h=v,m=m||!go(h);u++}return""!==f&&(l+=JC(m,f)),l}const Yt={};function tw(a){nw(en(),Oe(),Gn()+a,!1)}function nw(a,l,u,h){if(!h)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Oa(l,m,u)}else{const m=a.preOrderHooks;null!==m&&Pa(l,m,0,u)}As(u)}function f1(a,l=null,u=null,h){const f=p1(a,l,u,h);return f.resolveInjectorInitializers(),f}function p1(a,l=null,u=null,h,f=new Set){const m=[u||Mt,tT(a)];return h=h||("object"==typeof a?void 0:pe(a)),new Nv(m,l||Wg(),h||null,f)}let Ql=(()=>{class a{static create(u,h){if(Array.isArray(u))return f1({name:""},h,u,"");{const f=u.name??"";return f1({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=br,a.NULL=new pC,a.\u0275prov=un({token:a,providedIn:"any",factory:()=>Rt(hC)}),a.__NG_ELEMENT_ID__=-1,a})();function jh(a,l=nt.Default){const u=Oe();return null===u?Rt(a,l):Va(bi(),u,ee(a),l)}function uw(){throw new Error("invalid")}function Hp(a,l){return a<<17|l<<2}function Ns(a){return a>>17&32767}function v1(a){return 2|a}function Fs(a){return(131068&a)>>2}function b1(a,l){return-131069&a|l<<2}function td(a){return 1|a}function T1(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const v=a.data[m];ku(f),v.contentQueries(2,l[m],m)}}}function C_(a,l,u,h,f,m,v,C,D,T,P){const U=l.blueprint.slice();return U[0]=f,U[2]=76|h,(null!==P||a&&1024&a[2])&&(U[2]|=1024),El(U),U[3]=U[15]=a,U[8]=u,U[10]=v||a&&a[10],U[11]=C||a&&a[11],U[12]=D||a&&a[12]||null,U[9]=T||a&&a[9]||null,U[6]=m,U[20]=function fT(){return hT++}(),U[21]=P,U[16]=2==l.type?a[16]:U,U}function Gh(a,l,u,h,f){let m=a.data[l];if(null===m)m=function Gp(a,l,u,h,f){const m=Aa(),v=Ec(),D=a.data[l]=function Dw(a,l,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(a,l,u,h,f),function sh(){return Bt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function wc(){const a=Bt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return cr(m,!0),m}function nd(a,l,u,h){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function A1(a,l,u){Ra(l);try{const h=a.viewQuery;null!==h&&L1(1,h,u);const f=a.template;null!==f&&Cw(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&T1(a,l),a.staticViewQueries&&L1(2,a.viewQuery,u);const m=a.components;null!==m&&function YT(a,l){for(let u=0;u<l.length;u++)D_(a,l[u])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,to()}}function Wp(a,l,u,h){const f=l[2];if(128!=(128&f)){Ra(l);try{El(l),function Ml(a){return Bt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Cw(a,l,u,2,h);const v=3==(3&f);if(v){const T=a.preOrderCheckHooks;null!==T&&Oa(l,T,null)}else{const T=a.preOrderHooks;null!==T&&Pa(l,T,0,null),dh(l,0)}if(function kw(a){for(let l=s_(a);null!==l;l=o_(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(512&f[2])&&ii(m,1),f[2]|=512}}}(l),function t2(a){for(let l=s_(a);null!==l;l=o_(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];eo(h)&&Wp(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&T1(a,l),v){const T=a.contentCheckHooks;null!==T&&Oa(l,T)}else{const T=a.contentHooks;null!==T&&Pa(l,T,1),dh(l,1)}!function zh(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)As(~f);else{const m=f,v=u[++h],C=u[++h];oh(v,m),C(2,l[m])}}}finally{As(-1)}}(a,l);const C=a.components;null!==C&&function qT(a,l){for(let u=0;u<l.length;u++)od(a,l[u])}(l,C);const D=a.viewQuery;if(null!==D&&L1(2,D,h),v){const T=a.viewCheckHooks;null!==T&&Oa(l,T)}else{const T=a.viewHooks;null!==T&&Pa(l,T,2),dh(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,ii(l[3],-1))}finally{to()}}}function Cw(a,l,u,h,f){const m=Gn(),v=2&h;try{As(-1),v&&l.length>22&&nw(a,l,22,!1),u(h,f)}finally{As(m)}}function M1(a,l,u){if(Qs(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function w_(a,l,u){!Uo()||(function ln(a,l,u,h){const f=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||ks(u,l),dr(h,l);const v=u.initialInputs;for(let C=f;C<m;C++){const D=a.data[C],T=_r(D);T&&rd(l,u,D);const P=ls(l,a,C,u);dr(P,l),null!==v&&e2(0,C-f,P,D,0,v),T&&(mn(u.index,l)[8]=P)}}(a,l,u,Ui(u,l)),128==(128&u.flags)&&function Gr(a,l,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function rp(){return Bt.lFrame.currentDirectiveIndex}();try{As(m);for(let C=h;C<f;C++){const D=a.data[C],T=l[C];ka(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Sw(D,T)}}finally{As(-1),ka(v)}}(a,l,u))}function E_(a,l,u=Ui){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function k1(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=R1(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function R1(a,l,u,h,f,m,v,C,D,T){const P=22+h,U=P+f,K=function ww(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Yt);return u}(P,U),oe="function"==typeof T?T():T;return K[1]={type:a,blueprint:K,template:u,queries:null,viewQuery:C,declTNode:l,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:oe,incompleteFirstPass:!1}}function Zp(a,l,u,h){const f=Rw(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&S_(a).push(h,f.length-1))}function O1(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function Mn(a,l){const h=l.directiveEnd,f=a.data,m=l.attrs,v=[];let C=null,D=null;for(let T=l.directiveStart;T<h;T++){const P=f[T],U=P.inputs,K=null===m||QC(l)?null:Aw(U,m);v.push(K),C=O1(U,T,C),D=O1(P.outputs,T,D)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=D}function Pt(a,l,u,h,f,m,v,C){const D=Ui(l,u);let P,T=l.inputs;!C&&null!=T&&(P=T[h])?(A_(a,u,P,h,f),bl(l)&&Jl(u,l.index)):3&l.type&&(h=function Dn(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,m.setProperty(D,h,f))}function Jl(a,l){const u=mn(l,a);16&u[2]||(u[2]|=32)}function id(a,l,u,h){let f=!1;if(Uo()){const m=function N1(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];PT(u,v.selectors,!1)&&(f||(f=[]),jo(ks(u,l),a,v.type),_r(v)?(Ls(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===h?null:{"":-1};if(null!==m){f=!0,Tw(u,a.data.length,m.length);for(let P=0;P<m.length;P++){const U=m[P];U.providersResolver&&U.providersResolver(U)}let C=!1,D=!1,T=nd(a,l,m.length,null);for(let P=0;P<m.length;P++){const U=m[P];u.mergedAttrs=Ll(u.mergedAttrs,U.hostAttrs),F1(a,u,l,T,U),JT(T,U,v),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const K=U.type.prototype;!C&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!D&&(K.ngOnChanges||K.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),D=!0),T++}Mn(a,u)}v&&function XT(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new De(-301,!1);h.push(l[f],m)}}}(u,h,v)}return u.mergedAttrs=Ll(u.mergedAttrs,u.attrs),f}function P1(a,l,u,h,f,m){const v=m.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const D=~l.index;(function pi(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=D&&C.push(D),C.push(h,f,v)}}function Sw(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Ls(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function JT(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;_r(l)&&(u[""]=a)}}function Tw(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function F1(a,l,u,h,f){a.data[h]=f;const m=f.factory||(f.factory=Bi(f.type)),v=new kr(m,_r(f),jh);a.blueprint[h]=v,u[h]=v,P1(a,l,0,h,nd(a,u,f.hostVars,Yt),f)}function rd(a,l,u){const h=Ui(l,a),f=k1(u),m=a[10],v=qp(a,C_(a,f,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));a[l.index]=v}function _o(a,l,u,h,f,m){const v=Ui(a,l);!function sd(a,l,u,h,f,m,v){if(null==m)a.removeAttribute(l,f,u);else{const C=null==v?Ce(m):v(m,h||"",f);a.setAttribute(l,f,C,u)}}(l[11],v,m,a.value,u,h,f)}function e2(a,l,u,h,f,m){const v=m[l];if(null!==v){const C=h.setInput;for(let D=0;D<v.length;){const T=v[D++],P=v[D++],U=v[D++];null!==C?h.setInput(u,U,T,P):u[P]=U}}}function Aw(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Mw(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function od(a,l){const u=mn(l,a);if(eo(u)){const h=u[1];48&u[2]?Wp(h,u,h.template,u[8]):u[5]>0&&sn(u)}}function sn(a){for(let h=s_(a);null!==h;h=o_(h))for(let f=10;f<h.length;f++){const m=h[f];if(eo(m))if(512&m[2]){const v=m[1];Wp(v,m,v.template,m[8])}else m[5]>0&&sn(m)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=mn(u[h],a);eo(f)&&f[5]>0&&sn(f)}}function D_(a,l){const u=mn(l,a),h=u[1];(function I_(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),A1(h,u,u[8])}function qp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function yo(a){for(;a;){a[2]|=32;const l=Vh(a);if(Eu(a)&&!l)return a;a=l}return null}function ad(a,l,u,h=!0){const f=l[10];f.begin&&f.begin();try{Wp(a,l,a.template,u)}catch(v){throw h&&Ow(l,v),v}finally{f.end&&f.end()}}function L1(a,l,u){ku(0),l(a,u)}function Rw(a){return a[7]||(a[7]=[])}function S_(a){return a.cleanup||(a.cleanup=[])}function T_(a,l,u){return(null===a||_r(a))&&(u=function ih(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function Ow(a,l){const u=a[9],h=u?u.get(Op,null):null;h&&h.handleError(l)}function A_(a,l,u,h,f){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],D=l[v],T=a.data[v];null!==T.setInput?T.setInput(D,f,h,C):D[C]=f}}function Yp(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=ve(f,C):2==m&&(h=ve(h,C+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function ec(a,l,u,h,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Xn(m)),Ir(m))for(let C=10;C<m.length;C++){const D=m[C],T=D[1].firstChild;null!==T&&ec(D[1],D,T,h)}const v=u.type;if(8&v)ec(a,l,u.child,h);else if(32&v){const C=Xv(u,l);let D;for(;D=C();)h.push(D)}else if(16&v){const C=a1(l,u);if(Array.isArray(C))h.push(...C);else{const D=Vh(l[16]);ec(D[1],D,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Wh{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return ec(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ir(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(n1(l,h),Hn(u,h))}this._attachedToViewContainer=!1}Fp(this._lView[1],this._lView)}onDestroy(l){Zp(this._lView[1],this._lView,null,l)}markForCheck(){yo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ad(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function UC(a,l){Ku(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=l}}class Pw extends Wh{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;ad(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class V1 extends Uc{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=O(l);return new Kp(u,this.ngModule)}}function Nw(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class ei{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,Uv,h);return f!==Uv||u===Uv?f:this.parentInjector.get(l,u,h)}}class Kp extends Vv{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function FT(a){return a.map(ew).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Nw(this.componentDef.inputs)}get outputs(){return Nw(this.componentDef.outputs)}create(l,u,h,f){let m=(f=f||this.ngModule)instanceof Ka?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new ei(l,m):l,C=v.get(sT,null);if(null===C)throw new De(407,!1);const D=v.get(Bv,null),T=C.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=h?function Ew(a,l,u){return a.selectRootElement(l,u===gt.ShadowDom)}(T,h,this.componentDef.encapsulation):a_(C.createRenderer(null,this.componentDef),P,function n2(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(P)),K=this.componentDef.onPush?288:272,oe=R1(0,null,null,1,0,null,null,null,null,null),Ie=C_(null,oe,null,K,null,null,C,T,D,v,null);let ze,Je;Ra(Ie);try{const ht=function tc(a,l,u,h,f,m){const v=u[1];u[22]=a;const D=Gh(v,22,2,"#host",null),T=D.mergedAttrs=l.hostAttrs;null!==T&&(Yp(D,T,!0),null!==a&&(Ms(f,a,T),null!==D.classes&&Vp(f,a,D.classes),null!==D.styles&&Qu(f,a,D.styles)));const P=h.createRenderer(a,l),U=C_(u,k1(l),null,l.onPush?32:16,u[22],D,h,P,m||null,null,null);return v.firstCreatePass&&(jo(ks(D,u),v,l.type),Ls(v,D),Tw(D,u.length,1)),qp(u,U),u[22]=U}(U,this.componentDef,Ie,C,T);if(U)if(h)Ms(T,U,["ng-version",DC.full]);else{const{attrs:Tt,classes:Fe}=function LT(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++h]):8===f&&u.push(m);else{if(!go(f))break;f=m}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Tt&&Ms(T,U,Tt),Fe&&Fe.length>0&&Vp(T,U,Fe.join(" "))}if(Je=Bo(oe,22),void 0!==u){const Tt=Je.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const Vt=u[Fe];Tt.push(null!=Vt?Array.from(Vt):null)}}ze=function Xp(a,l,u,h){const f=u[1],m=function QT(a,l,u){const h=bi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),F1(a,h,l,nd(a,l,1,null),u),Mn(a,h));const f=ls(l,a,h.directiveStart,h);dr(f,l);const m=Ui(h,l);return m&&dr(m,l),f}(f,u,l);if(a[8]=u[8]=m,null!==h)for(const C of h)C(m,l);if(l.contentQueries){const C=bi();l.contentQueries(1,m,C.directiveStart)}const v=bi();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(As(v.index),P1(u[1],v,0,v.directiveStart,v.directiveEnd,l),Sw(l,m)),m}(ht,this.componentDef,Ie,[Kt]),A1(oe,Ie,null)}finally{to()}return new U1(this.componentType,ze,Oh(Je,Ie),Ie,Je)}}class U1 extends class bC{}{constructor(l,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Pw(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const m=this._rootLView;A_(m[1],m,f,l,u),Jl(m,this._tNode.index)}}get injector(){return new Ua(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Kt(){const a=bi();Dc(Oe()[1],a)}function ld(a){let l=function Fw(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(_r(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new De(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=ai(a.inputs),v.declaredInputs=ai(a.declaredInputs),v.outputs=ai(a.outputs);const C=f.hostBindings;C&&j1(a,C);const D=f.viewQuery,T=f.contentQueries;if(D&&H1(a,D),T&&o2(a,T),ie(a.inputs,f.inputs),ie(a.declaredInputs,f.declaredInputs),ie(a.outputs,f.outputs),_r(f)&&f.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===ld&&(u=!1)}}l=Object.getPrototypeOf(l)}!function s2(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Ll(f.hostAttrs,u=Ll(u,f.hostAttrs))}}(h)}function ai(a){return a===Xi?{}:a===Mt?[]:a}function H1(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function o2(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,m)=>{l(h,f,m),u(h,f,m)}:l}function j1(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Jp=null;function cd(){if(!Jp){const a=Ft.Symbol;if(a&&a.iterator)Jp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Jp=h)}}}return Jp}function qh(a){return!!ud(a)&&(Array.isArray(a)||!(a instanceof Map)&&cd()in a)}function ud(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function zi(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function z1(a,l,u,h){const f=Oe();return zi(f,kl(),l)&&(en(),_o(Wn(),f,a,l,u,h)),z1}function Wc(a,l,u,h){return zi(a,kl(),u)?l+Ce(u)+h:Yt}function Bs(a,l,u,h,f,m,v,C){const D=Oe(),T=en(),P=a+22,U=T.firstCreatePass?function c2(a,l,u,h,f,m,v,C,D){const T=l.consts,P=Gh(l,a,4,v||null,Mr(T,C));id(l,u,P,Mr(T,D)),Dc(l,P);const U=P.tViews=R1(2,P,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,T);return null!==l.queries&&(l.queries.template(l,P),U.queries=l.queries.embeddedTView(P)),P}(P,T,D,l,u,h,f,m,v):T.data[P];cr(U,!1);const K=D[11].createComment("");u_(T,D,K,U),dr(K,D),qp(D,D[P]=Mw(K,D,K,U)),xl(U)&&w_(T,D,U),null!=v&&E_(D,U,C)}function R_(a){return os(function Al(){return Bt.lFrame.contextLView}(),22+a)}function nm(a,l,u){const h=Oe();return zi(h,kl(),l)&&Pt(en(),Wn(),h,a,l,h[11],u,!1),nm}function Jh(a,l,u,h,f){const v=f?"class":"style";A_(a,u,l.inputs[v],v,h)}function il(a,l,u,h){const f=Oe(),m=en(),v=22+a,C=f[11],D=f[v]=a_(C,l,function Nu(){return Bt.lFrame.currentNamespace}()),T=m.firstCreatePass?function im(a,l,u,h,f,m,v){const C=l.consts,T=Gh(l,a,2,f,Mr(C,m));return id(l,u,T,Mr(C,v)),null!==T.attrs&&Yp(T,T.attrs,!1),null!==T.mergedAttrs&&Yp(T,T.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,T),T}(v,m,f,0,l,u,h):m.data[v];cr(T,!0);const P=T.mergedAttrs;null!==P&&Ms(C,D,P);const U=T.classes;null!==U&&Vp(C,D,U);const K=T.styles;return null!==K&&Qu(C,D,K),64!=(64&T.flags)&&u_(m,f,D,T),0===function Il(){return Bt.lFrame.elementDepthCount}()&&dr(D,f),function rh(){Bt.lFrame.elementDepthCount++}(),xl(T)&&(w_(m,f,T),M1(m,T,f)),null!==h&&E_(f,T),il}function rc(){let a=bi();Ec()?Ma():(a=a.parent,cr(a,!1));const l=a;!function Sl(){Bt.lFrame.elementDepthCount--}();const u=en();return u.firstCreatePass&&(Dc(u,a),Qs(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Sc(a){return 0!=(16&a.flags)}(l)&&Jh(u,l,Oe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Tc(a){return 0!=(32&a.flags)}(l)&&Jh(u,l,Oe(),l.stylesWithoutHost,!1),rc}function rl(a,l,u,h){return il(a,l,u,h),rc(),rl}function O_(a,l,u){const h=Oe(),f=en(),m=a+22,v=f.firstCreatePass?function u2(a,l,u,h,f){const m=l.consts,v=Mr(m,h),C=Gh(l,a,8,"ng-container",v);return null!==v&&Yp(C,v,!0),id(l,u,C,Mr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,h,l,u):f.data[m];cr(v,!0);const C=h[m]=h[11].createComment("");return u_(f,h,C,v),dr(C,h),xl(v)&&(w_(f,h,v),M1(f,v,h)),null!=u&&E_(h,v),O_}function qc(){let a=bi();const l=en();return Ec()?Ma():(a=a.parent,cr(a,!1)),l.firstCreatePass&&(Dc(l,a),Qs(a)&&l.queries.elementEnd(a)),qc}function zw(){return Oe()}function ef(a){return!!a&&"function"==typeof a.then}function tf(a){return!!a&&"function"==typeof a.subscribe}const Z1=tf;function nf(a,l,u,h){const f=Oe(),m=en(),v=bi();return Gw(m,f,f[11],v,a,l,0,h),nf}function sc(a,l){const u=bi(),h=Oe(),f=en();return Gw(f,h,T_(Mu(f.data),u,h),u,a,l),sc}function Gw(a,l,u,h,f,m,v,C){const D=xl(h),P=a.firstCreatePass&&S_(a),U=l[8],K=Rw(l);let oe=!0;if(3&h.type||C){const Je=Ui(h,l),ht=C?C(Je):Je,Tt=K.length,Fe=C?Fn=>C(Xn(Fn[h.index])):h.index;let Vt=null;if(!C&&D&&(Vt=function q1(a,l,u,h){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const C=l[7],D=f[m+2];return C.length>D?C[D]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,h.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=m,Vt.__ngLastListenerFn__=m,oe=!1;else{m=bo(h,l,U,m,!1);const Fn=u.listen(ht,f,m);K.push(m,Fn),P&&P.push(f,Fe,Tt,Tt+1)}}else m=bo(h,l,U,m,!1);const Ie=h.outputs;let ze;if(oe&&null!==Ie&&(ze=Ie[f])){const Je=ze.length;if(Je)for(let ht=0;ht<Je;ht+=2){const gi=l[ze[ht]][ze[ht+1]].subscribe(m),kd=K.length;K.push(m,gi),P&&P.push(f,h.index,kd,-(kd+1))}}}function Kn(a,l,u,h){try{return!1!==u(h)}catch(f){return Ow(a,f),!1}}function bo(a,l,u,h,f){return function m(v){if(v===Function)return h;yo(2&a.flags?mn(a.index,l):l);let D=Kn(l,0,h,v),T=m.__ngNextListenerFn__;for(;T;)D=Kn(l,0,T,v)&&D,T=T.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function rf(a=1){return function no(a){return(Bt.lFrame.contextLView=function ch(a,l){for(;a>0;)l=l[15],a--;return l}(a,Bt.lFrame.contextLView))[8]}(a)}function Y1(a,l){let u=null;const h=function h_(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?PT(a,m,!0):NT(h,m))return f}else u=f}return u}function K1(a){const l=Oe()[16][6];if(!l.projection){const h=l.projection=Zo(a?a.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const v=a?Y1(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function P_(a,l=0,u){const h=Oe(),f=en(),m=Gh(f,22+a,16,null,u||null);null===m.projection&&(m.projection=l),Ma(),64!=(64&m.flags)&&function YC(a,l,u){Lp(l[11],0,l,u,jC(a,u,l),qn(u.parent||l[6],u,l))}(f,h,m)}function oc(a,l,u){return N_(a,"",l,"",u),oc}function N_(a,l,u,h,f){const m=Oe(),v=Wc(m,l,u,h);return v!==Yt&&Pt(en(),Wn(),m,a,v,m[11],f,!1),N_}function Yw(a,l,u,h,f){const m=a[u+1],v=null===l;let C=h?Ns(m):Fs(m),D=!1;for(;0!==C&&(!1===D||v);){const P=a[C+1];Kw(a[C],l)&&(D=!0,a[C+1]=h?td(P):v1(P)),C=h?Ns(P):Fs(P)}D&&(a[u+1]=h?v1(m):td(m))}function Kw(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&ds(a,l)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qw(a){return a.substring(Gi.key,Gi.keyEnd)}function f2(a){return a.substring(Gi.value,Gi.valueEnd)}function Xw(a,l){const u=Gi.textEnd;return u===l?-1:(l=Gi.keyEnd=function eE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,Gi.key=l,u),Yc(a,l,u))}function Jw(a,l){const u=Gi.textEnd;let h=Gi.key=Yc(a,l,u);return u===h?-1:(h=Gi.keyEnd=function L_(a,l,u){let h;for(;l<u&&(45===(h=a.charCodeAt(l))||95===h||(-33&h)>=65&&(-33&h)<=90||h>=48&&h<=57);)l++;return l}(a,h,u),h=tE(a,h,u),h=Gi.value=Yc(a,h,u),h=Gi.valueEnd=function X1(a,l,u){let h=-1,f=-1,m=-1,v=l,C=v;for(;v<u;){const D=a.charCodeAt(v++);if(59===D)return C;34===D||39===D?C=v=J1(a,D,v,u):l===v-4&&85===m&&82===f&&76===h&&40===D?C=v=J1(a,41,v,u):D>32&&(C=v),m=f,f=h,h=-33&D}return C}(a,h,u),tE(a,h,u))}function sm(a){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=a.length}function Yc(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function tE(a,l,u,h){return(l=Yc(a,l,u))<u&&l++,l}function J1(a,l,u,h){let f=-1,m=u;for(;m<h;){const v=a.charCodeAt(m++);if(v==l&&92!==f)return m;f=92==v&&92===f?0:v}throw new Error}function e0(a,l,u){return ra(a,l,u,!1),e0}function t0(a,l){return ra(a,l,null,!0),t0}function xo(a){sa(rE,n0,a,!1)}function n0(a,l){for(let u=function m2(a){return sm(a),Jw(a,Yc(a,0,Gi.textEnd))}(l);u>=0;u=Jw(l,u))rE(a,Qw(l),f2(l))}function sl(a,l){for(let u=function p2(a){return sm(a),Xw(a,Yc(a,0,Gi.textEnd))}(l);u>=0;u=Xw(l,u))Ye(a,Qw(l),!0)}function ra(a,l,u,h){const f=Oe(),m=en(),v=Ts(2);m.firstUpdatePass&&om(m,a,v,h),l!==Yt&&zi(f,v,l)&&sE(m,m.data[Gn()],f,f[11],a,f[v+1]=function aE(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(Ps(a)))),a}(l,u),h,v)}function sa(a,l,u,h){const f=en(),m=Ts(2);f.firstUpdatePass&&om(f,null,m,h);const v=Oe();if(u!==Yt&&zi(v,m,u)){const C=f.data[Gn()];if(lE(C,h)&&!r0(f,m)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(u=ve(D,u||"")),Jh(f,C,v,u,h)}else!function b2(a,l,u,h,f,m,v,C){f===Yt&&(f=Mt);let D=0,T=0,P=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==P||null!==U;){const K=D<f.length?f[D+1]:void 0,oe=T<m.length?m[T+1]:void 0;let ze,Ie=null;P===U?(D+=2,T+=2,K!==oe&&(Ie=U,ze=oe)):null===U||null!==P&&P<U?(D+=2,Ie=P):(T+=2,Ie=U,ze=oe),null!==Ie&&sE(a,l,u,h,Ie,ze,v,C),P=D<f.length?f[D]:null,U=T<m.length?m[T]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function v2(a,l,u){if(null==u||""===u)return Mt;const h=[],f=Ps(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(h,m,f[m]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,m)}}function r0(a,l){return l>=a.expandoStartIndex}function om(a,l,u,h){const f=a.data;if(null===f[u+1]){const m=f[Gn()],v=r0(a,u);lE(m,h)&&null===l&&!v&&(l=!1),l=function s0(a,l,u,h){const f=Mu(a);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=lm(u=am(null,a,l,u,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=am(f,a,l,u,h),null===m){let D=function nE(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Fs(h))return a[Ns(h)]}(a,l,h);void 0!==D&&Array.isArray(D)&&(D=am(null,a,l,D[1],h),D=lm(D,l.attrs,h),function y2(a,l,u,h){a[Ns(u?l.classBindings:l.styleBindings)]=h}(a,l,h,D))}else m=function iE(a,l,u){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=lm(h,a[m].hostAttrs,u);return lm(h,l.attrs,u)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,h),function d2(a,l,u,h,f,m){let v=m?l.classBindings:l.styleBindings,C=Ns(v),D=Fs(v);a[h]=u;let P,T=!1;if(Array.isArray(u)){const U=u;P=U[1],(null===P||ds(U,P)>0)&&(T=!0)}else P=u;if(f)if(0!==D){const K=Ns(a[C+1]);a[h+1]=Hp(K,C),0!==K&&(a[K+1]=b1(a[K+1],h)),a[C+1]=function $h(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=Hp(C,0),0!==C&&(a[C+1]=b1(a[C+1],h)),C=h;else a[h+1]=Hp(D,0),0===C?C=h:a[D+1]=b1(a[D+1],h),D=h;T&&(a[h+1]=v1(a[h+1])),Yw(a,P,h,!0),Yw(a,P,h,!1),function h2(a,l,u,h,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&ds(m,l)>=0&&(u[h+1]=td(u[h+1]))}(l,P,a,h,m),v=Hp(C,D),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,h)}}function am(a,l,u,h,f){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=l[C],h=lm(h,m.hostAttrs,f),m!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function lm(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ye(a,v,!!u||l[++m]))}return void 0===a?null:a}function rE(a,l,u){Ye(a,l,Ps(u))}function sE(a,l,u,h,f,m,v,C){if(!(3&l.type))return;const D=a.data,T=D[C+1];V_(function hw(a){return 1==(1&a)}(T)?oE(D,l,u,f,Fs(T),v):void 0)||(V_(m)||function jp(a){return 2==(2&a)}(T)&&(m=oE(D,null,u,f,C,v)),function KC(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:Qa.DashCase;null==f?a.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Qa.Important),a.setStyle(u,h,f,m))}}(h,v,jr(Gn(),u),f,m))}function oE(a,l,u,h,f,m){const v=null===l;let C;for(;f>0;){const D=a[f],T=Array.isArray(D),P=T?D[1]:D,U=null===P;let K=u[f+1];K===Yt&&(K=U?Mt:void 0);let oe=U?$u(K,h):P===h?K:void 0;if(T&&!V_(oe)&&(oe=$u(D,h)),V_(oe)&&(C=oe,v))return C;const Ie=a[f+1];f=v?Ns(Ie):Fs(Ie)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(C=$u(D,h))}return C}function V_(a){return void 0!==a}function lE(a,l){return 0!=(a.flags&(l?16:32))}function o0(a,l=""){const u=Oe(),h=en(),f=a+22,m=h.firstCreatePass?Gh(h,f,1,l,null):h.data[f],v=u[f]=function e1(a,l){return a.createText(l)}(u[11],l);u_(h,u,v,m),cr(m,!1)}function B_(a){return U_("",a,""),B_}function U_(a,l,u){const h=Oe(),f=Wc(h,a,l,u);return f!==Yt&&function tl(a,l,u){const h=jr(l,a);!function VC(a,l,u){a.setValue(l,u)}(a[11],h,u)}(h,Gn(),f),U_}function hE(a,l,u){sa(Ye,sl,Wc(Oe(),a,l,u),!0)}function G_(a,l,u){const h=Oe();return zi(h,kl(),l)&&Pt(en(),Wn(),h,a,l,h[11],u,!0),G_}function W_(a,l,u){const h=Oe();if(zi(h,kl(),l)){const m=en(),v=Wn();Pt(m,v,h,a,l,T_(Mu(m.data),v,h),u,!0)}return W_}const Jc=void 0;var Z_=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fm(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let eu={};function pm(a){const l=function h0(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=CE(l);if(u)return u;const h=l.split("-")[0];if(u=CE(h),u)return u;if("en"===h)return Z_;throw new De(701,!1)}function sf(a){return pm(a)[Ot.PluralCase]}function CE(a){return a in eu||(eu[a]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[a]),eu[a]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const vd="en-US";let Y_=vd;function df(a,l,u,h,f){if(a=ee(a),Array.isArray(a))for(let m=0;m<a.length;m++)df(a[m],l,u,h,f);else{const m=en(),v=Oe();let C=fo(a)?a:ee(a.provide),D=Zg(a);const T=bi(),P=1048575&T.providerIndexes,U=T.directiveStart,K=T.providerIndexes>>20;if(fo(a)||!a.multi){const oe=new kr(D,f,jh),Ie=ru(C,l,f?P:P+K,U);-1===Ie?(jo(ks(T,v),m,C),ms(m,a,l.length),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(oe),v.push(oe)):(u[Ie]=oe,v[Ie]=oe)}else{const oe=ru(C,l,P+K,U),Ie=ru(C,l,P,P+K),ze=oe>=0&&u[oe],Je=Ie>=0&&u[Ie];if(f&&!Je||!f&&!ze){jo(ks(T,v),m,C);const ht=function q2(a,l,u,h,f){const m=new kr(a,u,jh);return m.multi=[],m.index=l,m.componentProviders=0,iu(m,f,h&&!u),m}(f?Cd:BE,u.length,f,h,D);!f&&Je&&(u[Ie].providerFactory=ht),ms(m,a,l.length,0),l.push(C),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(ht),v.push(ht)}else ms(m,a,oe>-1?oe:Ie,iu(u[f?Ie:oe],D,!f&&h));!f&&h&&Je&&u[Ie].componentProviders++}}}function ms(a,l,u,h){const f=fo(l),m=function yC(a){return!!a.useClass}(l);if(f||m){const D=(m?ee(l.useClass):l).prototype.ngOnDestroy;if(D){const T=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const P=T.indexOf(u);-1===P?T.push(u,[h,D]):T[P+1].push(h,D)}else T.push(u,D)}}}function iu(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function ru(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function BE(a,l,u,h){return UE(this.multi,[])}function Cd(a,l,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=ls(u,u[1],this.providerFactory.index,h);m=C.slice(0,v),UE(f,m);for(let D=v;D<C.length;D++)m.push(C[D])}else m=[],UE(f,m);return m}function UE(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function HE(a,l=[]){return u=>{u.providersResolver=(h,f)=>function nu(a,l,u){const h=en();if(h.firstCreatePass){const f=_r(a);df(u,h.data,h.blueprint,f,!0),df(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class ol{}class jE{}function Y2(a,l){return new $E(a,l??null)}class $E extends ol{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new V1(this);const h=ct(l);this._bootstrapComponents=Kl(h.bootstrap),this._r3Injector=p1(l,u,[{provide:ol,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],pe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class wd extends jE{constructor(l){super(),this.moduleType=l}create(l){return new $E(this.moduleType,l)}}class ry extends ol{constructor(l,u,h){super(),this.componentFactoryResolver=new V1(this),this.instance=null;const f=new Nv([...l,{provide:ol,useValue:this},{provide:Uc,useValue:this.componentFactoryResolver}],u||Wg(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Ed(a,l,u=null){return new ry(a,l,u).injector}let Cm=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=mC(0,u.type),f=h.length>0?Ed([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=un({token:a,providedIn:"environment",factory:()=>new a(Rt(Ka))}),a})();function R0(a){a.getStandaloneInjector=l=>l.get(Cm).getOrCreateStandaloneInjector(a)}function oy(a,l,u,h,f,m){const v=l+u;return zi(a,v,f)?function nl(a,l,u){return a[l]=u}(a,v+1,m?h.call(m,f):h(f)):function wm(a,l){const u=a[l];return u===Yt?void 0:u}(a,v+1)}function qE(a,l){const u=en();let h;const f=a+22;u.firstCreatePass?(h=function hA(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Bi(h.type)),v=Rn(jh);try{const C=Vl(!1),D=m();return Vl(C),function W1(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Oe(),f,D),D}finally{Rn(v)}}function B0(a,l,u){const h=a+22,f=Oe(),m=os(f,h);return function Em(a,l){return a[1].data[l].pure}(f,h)?oy(f,function xi(){const a=Bt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),l,m.transform,u,m):m.transform(u)}function H0(a){return l=>{setTimeout(a,void 0,l)}}const al=class mA extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,m=u||(()=>null),v=h;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=H0(m),f&&(f=H0(f)),v&&(v=H0(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof z.w0&&l.add(C),C}};function gA(){return this._results[cd()]()}class ay{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=cd(),h=ay.prototype;h[u]||(h[u]=gA)}get changes(){return this._changes||(this._changes=new al)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Pn(l);(this._changesDetected=!function dt(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],m=l[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dm=(()=>{class a{}return a.__NG_ELEMENT_ID__=x3,a})();const _A=Dm,yA=class extends _A{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=C_(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),A1(h,f,l),new Wh(f)}};function x3(){return j0(bi(),Oe())}function j0(a,l){return 4&a.type?new yA(l,a,Oh(a,l)):null}let hf=(()=>{class a{}return a.__NG_ELEMENT_ID__=Wi,a})();function Wi(){return ff(bi(),Oe())}const C3=hf,Dd=class extends C3{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Oh(this._hostTNode,this._hostLView)}get injector(){return new Ua(this._hostTNode,this._hostLView)}get parentInjector(){const l=Bl(this._hostTNode,this._hostLView);if(lp(l)){const u=io(l,this._hostLView),h=Ci(l);return new Ua(u[1].data[h+8],u)}return new Ua(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=$0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(l,u,h,f,m){const v=l&&!function us(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const U=u||{};C=U.index,h=U.injector,f=U.projectableNodes,m=U.environmentInjector||U.ngModuleRef}const D=v?l:new Kp(O(l)),T=h||this.parentInjector;if(!m&&null==D.ngModule){const K=(v?T:this.parentInjector).get(Ka,null);K&&(m=K)}const P=D.create(T,f,void 0,m);return this.insert(P.hostView,C),P}insert(l,u){const h=l._lView,f=h[1];if(function Tu(a){return Ir(a[3])}(h)){const P=this.indexOf(l);if(-1!==P)this.detach(P);else{const U=h[3],K=new Dd(U,U[6],U[3]);K.detach(K.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function DT(a,l,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=l),h<m-10?(l[4]=u[f],Wo(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function IT(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,h,v,m);const C=qC(m,v),D=h[11],T=c_(D,v[7]);return null!==T&&function BC(a,l,u,h,f,m){h[0]=f,h[6]=l,Ku(a,h,u,1,f,m)}(f,v[6],D,h,T,C),l.attachToViewContainerRef(),Wo(ly(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=$0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=n1(this._lContainer,u);h&&(Hn(ly(this._lContainer),u),Fp(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=n1(this._lContainer,u);return h&&null!=Hn(ly(this._lContainer),u)?new Wh(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function $0(a){return a[8]}function ly(a){return a[8]||(a[8]=[])}function ff(a,l){let u;const h=l[a.index];if(Ir(h))u=h;else{let f;if(8&a.type)f=Xn(h);else{const m=l[11];f=m.createComment("");const v=Ui(a,l);Xa(m,c_(m,v),f,function WC(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=u=Mw(h,l,f,a),qp(l,u)}return new Dd(u,a,l)}class dc{constructor(l){this.queryList=l,this.matches=null}clone(){return new dc(this.queryList)}setDirty(){this.queryList.setDirty()}}class cy{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new cy(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Sd(l,u).matches&&this.queries[u].setDirty()}}class mf{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class Im{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Im(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class G0{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new G0(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,u,bA(u,m)),this.matchTNodeWithReadOption(l,u,Hl(u,l,m,!1,!1))}else h===Dm?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Hl(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Yu||f===hf||f===Dm&&4&u.type)this.addMatch(u.index,-2);else{const m=Hl(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function bA(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Id(a,l,u,h){return-1===u?function Sm(a,l){return 11&a.type?Oh(a,l):4&a.type?j0(a,l):null}(l,a):-2===u?function W0(a,l,u){return u===Yu?Oh(l,a):u===Dm?j0(l,a):u===hf?ff(l,a):void 0}(a,l,h):ls(a,a[1],u,l)}function xA(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const m=a.data,v=u.matches,C=[];for(let D=0;D<v.length;D+=2){const T=v[D];C.push(T<0?null:Id(l,m[T],v[D+1],u.metadata.read))}f.matches=C}return f.matches}function KE(a,l,u,h){const f=a.queries.getByIndex(u),m=f.matches;if(null!==m){const v=xA(a,l,f,u);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)h.push(v[C/2]);else{const T=m[C+1],P=l[-D];for(let U=10;U<P.length;U++){const K=P[U];K[17]===K[3]&&KE(K[1],K,T,h)}if(null!==P[9]){const U=P[9];for(let K=0;K<U.length;K++){const oe=U[K];KE(oe[1],oe,T,h)}}}}}return h}function QE(a){const l=Oe(),u=en(),h=Rl();ku(h+1);const f=Sd(u,h);if(a.dirty&&function Su(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?KE(u,l,h,[]):xA(u,l,f,h);a.reset(m,wC),a.notifyOnChanges()}return!0}return!1}function CA(a,l,u){const h=en();h.firstCreatePass&&(EA(h,new mf(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),JE(h,Oe(),l)}function su(a,l,u,h){const f=en();if(f.firstCreatePass){const m=bi();EA(f,new mf(l,u,h),m.index),function w3(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}JE(f,Oe(),u)}function XE(){return function wA(a,l){return a[19].queries[l].queryList}(Oe(),Rl())}function JE(a,l,u){const h=new ay(4==(4&u));Zp(a,l,h,h.destroy),null===l[19]&&(l[19]=new cy),l[19].queries.push(new dc(h))}function EA(a,l,u){null===a.queries&&(a.queries=new Im),a.queries.track(new G0(l,u))}function Sd(a,l){return a.queries.getByIndex(l)}function ou(a,l){return j0(a,l)}function q0(...a){}const BA=new Un("Application Initializer");let Y0=(()=>{class a{constructor(u){this.appInits=u,this.resolve=q0,this.reject=q0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(ef(m))u.push(m);else if(Z1(m)){const v=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Rt(BA,8))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const UA=new Un("AppId",{providedIn:"root",factory:function HA(){return`${aD()}${aD()}${aD()}`}});function aD(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jA=new Un("Platform Initializer"),j3=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$A=new Un("appBootstrapListener"),$3=new Un("AnimationModuleType");let z3=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const K0=new Un("LocaleId",{providedIn:"root",factory:()=>vn(K0,nt.Optional|nt.SkipSelf)||function G3(){return typeof $localize<"u"&&$localize.locale||vd}()}),W3=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Z3{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let q3=(()=>{class a{compileModuleSync(u){return new wd(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Kl(ct(u).declarations).reduce((v,C)=>{const D=O(C);return D&&v.push(new Kp(D)),v},[]);return new Z3(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Q3=(()=>Promise.resolve(0))();function lD(a){typeof Zone>"u"?Q3.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class aa{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function X3(){let a=Ft.requestAnimationFrame,l=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function t4(a){const l=()=>{!function e4(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ft,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,uD(a),a.isCheckStableRunning=!0,cD(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),uD(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,C)=>{try{return WA(a),u.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),ZA(a)}},onInvoke:(u,h,f,m,v,C,D)=>{try{return WA(a),u.invoke(f,m,v,C,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),ZA(a)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,uD(a),cD(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!aa.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(aa.isInAngularZone())throw new De(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,J3,q0,q0);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const J3={};function cD(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function uD(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function WA(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function ZA(a){a._nesting--,cD(a)}class n4{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const qA=new Un(""),YA=new Un("");let Q0,i4=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Q0||(function r4(a){Q0=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{aa.assertNotInAngularZone(),lD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lD(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(Rt(aa),Rt(KA),Rt(YA))},a.\u0275prov=un({token:a,factory:a.\u0275fac}),a})(),KA=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Q0?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),xr=null;const yf=new Un("AllowMultipleToken"),Td=new Un("PlatformDestroyListeners");class Nn{constructor(l,u){this.name=l,this.token=u}}function Fi(a,l,u=[]){const h=`Platform: ${l}`,f=new Un(h);return(m=[])=>{let v=J0();if(!v||v.injector.get(yf,!1)){const C=[...u,...m,{provide:f,useValue:!0}];a?a(C):function In(a){if(xr&&!xr.get(yf,!1))throw new De(400,!1);xr=a;const l=a.get(pD);(function hD(a){const l=a.get(jA,null);l&&l.forEach(u=>u())})(a)}(function fD(a=[],l){return Ql.create({name:l,providers:[{provide:$g,useValue:"platform"},{provide:Td,useValue:new Set([()=>xr=null])},...a]})}(C,h))}return function fc(a){const l=J0();if(!l)throw new De(401,!1);return l}()}}function J0(){return xr?.get(pD)??null}let pD=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function XA(a,l){let u;return u="noop"===a?new n4:("zone.js"===a?void 0:a)||new aa(l),u}(h?.ngZone,function eb(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:aa,useValue:f}];return f.run(()=>{const v=Ql.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),D=C.injector.get(Op,null);if(!D)throw new De(402,!1);return f.runOutsideAngular(()=>{const T=f.onError.subscribe({next:P=>{D.handleError(P)}});C.onDestroy(()=>{gy(this._modules,C),T.unsubscribe()})}),function tb(a,l,u){try{const h=u();return ef(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(D,f,()=>{const T=C.injector.get(Y0);return T.runInitializers(),T.donePromise.then(()=>(function gm(a){qt(a,"Expected localeId to be defined"),"string"==typeof a&&(Y_=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get(K0,vd)||vd),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=Ad({},h);return function py(a,l,u){const h=new wd(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(my);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new De(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(Td,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Rt(Ql))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Ad(a,l){return Array.isArray(l)?l.reduce(Ad,a):{...a,...l}}let my=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new N.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new N.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{aa.assertNotInAngularZone(),lD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{aa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(m,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof Vv;if(!this._injector.get(Y0).done)throw!f&&Le(u),new De(405,false);let v;v=f?u:this._injector.get(Uc).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function dD(a){return a.isBoundToModule}(v)?void 0:this._injector.get(ol),T=v.create(Ql.NULL,[],h||v.selector,C),P=T.location.nativeElement,U=T.injector.get(qA,null);return U?.registerApplication(P),T.onDestroy(()=>{this.detachView(T.hostView),gy(this.components,T),U?.unregisterApplication(P)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;gy(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get($A,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>gy(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new De(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Rt(aa),Rt(Ka),Rt(Op))},a.\u0275prov=un({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function gy(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let nb=!0,ib=!1;function gD(){return ib=!0,nb}function JA(){if(ib)throw new Error("Cannot enable prod mode after platform setup.");nb=!1}let _D=(()=>{class a{}return a.__NG_ELEMENT_ID__=yy,a})();function yy(a){return function sb(a,l,u){if(bl(a)&&!u){const h=mn(a.index,l);return new Wh(h,h)}return 47&a.type?new Wh(l[16],l):null}(bi(),Oe(),16==(16&a))}class xD{constructor(){}supports(l){return qh(l)}create(l){return new h4(l)}}const d4=(a,l)=>l;class h4{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||d4}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<cb(h,f,m)?u:h,C=cb(v,f,m),D=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const T=C-f,P=D-f;if(T!=P){for(let K=0;K<T;K++){const oe=K<m.length?m[K]:m[K]=0,Ie=oe+K;P<=Ie&&Ie<T&&(m[K]=oe+1)}m[v.previousIndex]=P-T}}C!==D&&l(v,C,D)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!qh(l))throw new De(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),h=!0),u=u._next}else f=0,function Yh(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[cd()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new f4(u,h),m,f),l}_verifyReinsertion(l,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new oM),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oM),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class f4{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p4{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class oM{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new p4,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cb(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class ub{constructor(){}supports(l){return l instanceof Map||ud(l)}create(){return new aM}}class aM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||ud(l)))throw new De(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new lM(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class lM{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function db(){return new lu([new xD])}let lu=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||db()),deps:[[a,new _t,new xe]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new De(901,!1)}}return a.\u0275prov=un({token:a,providedIn:"root",factory:db}),a})();function CD(){return new hb([new ub])}let hb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||CD()),deps:[[a,new _t,new xe]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new De(901,!1)}}return a.\u0275prov=un({token:a,providedIn:"root",factory:CD}),a})();const wy=Fi(null,"core",[]);let cu=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Rt(my))},a.\u0275mod=an({type:a}),a.\u0275inj=Gt({}),a})();function uM(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ft,Te,B)=>{B.d(Te,{Z:()=>De});var o=B(2090),z=B(4859),N=B(9681),le=B(1877);class de{constructor(Ce,ge){this._delegate=Ce,this.firebase=ge,(0,N._addComponent)(Ce,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ce,ge=N._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(Ce);return!tt.isInitialized()&&"EXPLICIT"===(null===(it=tt.getComponent())||void 0===it?void 0:it.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:ge})}_removeServiceInstance(Ce,ge=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(ge)}_addComponent(Ce){(0,N._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,N._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ve(){const at=function pe(at){const Ce={},ge={__esModule:!0,initializeApp:function Ne(ae,he={}){const be=N.initializeApp(ae,he);if((0,o.r3)(Ce,be.name))return Ce[be.name];const J=new at(be,ge);return Ce[be.name]=J,J},app:tt,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ae){const he=ae.name,be=he.replace("-compat","");if(N._registerComponent(ae)&&"PUBLIC"===ae.type){const J=(te=tt())=>{if("function"!=typeof te[be])throw ie.create("invalid-app-argument",{appName:he});return te[be]()};void 0!==ae.serviceProps&&(0,o.ZB)(J,ae.serviceProps),ge[be]=J,at.prototype[be]=function(...te){return this._getService.bind(this,he).apply(this,ae.multipleInstances?te:[])}}return"PUBLIC"===ae.type?ge[be]:null},removeApp:function it(ae){delete Ce[ae]},useAsService:function qe(ae,he){return"serverAuth"===he?null:he},modularAPIs:N}};function tt(ae){if(!(0,o.r3)(Ce,ae=ae||N._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:ae});return Ce[ae]}return ge.default=ge,Object.defineProperty(ge,"apps",{get:function Re(){return Object.keys(Ce).map(ae=>Ce[ae])}}),tt.App=at,ge}(de);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function Ce(ge){(0,o.ZB)(at,ge)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),at}(),W=new le.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=Y;!function Pe(at){(0,N.registerVersion)("@firebase/app-compat","0.1.38",at)}()},9681:(ft,Te,B)=>{B.r(Te),B.d(Te,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>un,_apps:()=>bn,_clearComponents:()=>ts,_components:()=>Ln,_getProvider:()=>Gt,_registerComponent:()=>Jt,_removeServiceInstance:()=>Vi,deleteApp:()=>rs,getApp:()=>ni,getApps:()=>Hr,initializeApp:()=>ar,onLog:()=>li,registerVersion:()=>yi,setLogLevel:()=>Rn});var o=B(5861),z=B(4859),N=B(1877),le=B(2090),de=B(8766);class _e{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function ie(st){return"VERSION"===st.getComponent()?.type}(ot)){const Et=ot.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(ot=>ot).join(" ")}}const pe="@firebase/app",Y=new N.Yd("@firebase/app"),qt="[DEFAULT]",Qe={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bn=new Map,Ln=new Map;function cn(st,Se){try{st.container.addComponent(Se)}catch(ot){Y.debug(`Component ${Se.name} failed to register with FirebaseApp ${st.name}`,ot)}}function un(st,Se){st.container.addOrOverwriteComponent(Se)}function Jt(st){const Se=st.name;if(Ln.has(Se))return Y.debug(`There were multiple attempts to register component ${Se}.`),!1;Ln.set(Se,st);for(const ot of bn.values())cn(ot,st);return!0}function Gt(st,Se){const ot=st.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),st.container.getProvider(Se)}function Vi(st,Se,ot=qt){Gt(st,Se).clearInstance(ot)}function ts(){Ln.clear()}const Qn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ns{constructor(Se,ot,Et){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}const is="9.13.0";function ar(st,Se={}){let ot=st;"object"!=typeof Se&&(Se={name:Se});const Et=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Se),It=Et.name;if("string"!=typeof It||!It)throw Qn.create("bad-app-name",{appName:String(It)});if(ot||(ot=(0,le.aH)()),!ot)throw Qn.create("no-options");const an=bn.get(It);if(an){if((0,le.vZ)(ot,an.options)&&(0,le.vZ)(Et,an.config))return an;throw Qn.create("duplicate-app",{appName:It})}const Z=new z.H0(It);for(const Q of Ln.values())Z.addComponent(Q);const G=new ns(ot,Et,Z);return bn.set(It,G),G}function ni(st=qt){const Se=bn.get(st);if(!Se&&st===qt)return ar();if(!Se)throw Qn.create("no-app",{appName:st});return Se}function Hr(){return Array.from(bn.values())}function rs(st){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(function*(st){const Se=st.name;bn.has(Se)&&(bn.delete(Se),yield Promise.all(st.container.getProviders().map(ot=>ot.delete())),st.isDeleted=!0)})).apply(this,arguments)}function yi(st,Se,ot){var Et;let It=null!==(Et=Qe[st])&&void 0!==Et?Et:st;ot&&(It+=`-${ot}`);const an=It.match(/\s|\//),Z=Se.match(/\s|\//);if(an||Z){const G=[`Unable to register library "${It}" with version "${Se}":`];return an&&G.push(`library name "${It}" contains illegal characters (whitespace or "/")`),an&&Z&&G.push("and"),Z&&G.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Y.warn(G.join(" "))}Jt(new z.wA(`${It}-version`,()=>({library:It,version:Se}),"VERSION"))}function li(st,Se){if(null!==st&&"function"!=typeof st)throw Qn.create("invalid-log-argument");(0,N.Am)(st,Se)}function Rn(st){(0,N.Ub)(st)}const On="firebase-heartbeat-store";let Vn=null;function An(){return Vn||(Vn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(st,Se)=>{0===Se&&st.createObjectStore(On)}}).catch(st=>{throw Qn.create("idb-open",{originalErrorMessage:st.message})})),Vn}function gt(){return(gt=(0,o.Z)(function*(st){var Se;try{return(yield An()).transaction(On).objectStore(On).get(ci(st))}catch(ot){if(ot instanceof le.ZR)Y.warn(ot.message);else{const Et=Qn.create("idb-get",{originalErrorMessage:null===(Se=ot)||void 0===Se?void 0:Se.message});Y.warn(Et.message)}}})).apply(this,arguments)}function Ft(st,Se){return lr.apply(this,arguments)}function lr(){return(lr=(0,o.Z)(function*(st,Se){var ot;try{const It=(yield An()).transaction(On,"readwrite");return yield It.objectStore(On).put(Se,ci(st)),It.done}catch(Et){if(Et instanceof le.ZR)Y.warn(Et.message);else{const It=Qn.create("idb-set",{originalErrorMessage:null===(ot=Et)||void 0===ot?void 0:ot.message});Y.warn(It.message)}}})).apply(this,arguments)}function ci(st){return`${st.name}!${st.options.appId}`}class Ji{constructor(Se){this.container=Se,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new nn(ot),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Se=this;return(0,o.Z)(function*(){const Et=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=Ut();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==It&&!Se._heartbeatsCache.heartbeats.some(an=>an.date===It))return Se._heartbeatsCache.heartbeats.push({date:It,agent:Et}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(an=>{const Z=new Date(an.date).valueOf();return Date.now()-Z<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,o.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const ot=Ut(),{heartbeatsToSend:Et,unsentEntries:It}=function mr(st,Se=1024){const ot=[];let Et=st.slice();for(const It of st){const an=ot.find(Z=>Z.agent===It.agent);if(an){if(an.dates.push(It.date),Ii(ot)>Se){an.dates.pop();break}}else if(ot.push({agent:It.agent,dates:[It.date]}),Ii(ot)>Se){ot.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:ot,unsentEntries:Et}}(Se._heartbeatsCache.heartbeats),an=(0,le.L)(JSON.stringify({version:2,heartbeats:Et}));return Se._heartbeatsCache.lastSentHeartbeatDate=ot,It.length>0?(Se._heartbeatsCache.heartbeats=It,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),an})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class nn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,o.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function mt(st){return gt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var ot=this;return(0,o.Z)(function*(){var Et;if(yield ot._canUseIndexedDBPromise){const an=yield ot.read();return Ft(ot.app,{lastSentHeartbeatDate:null!==(Et=Se.lastSentHeartbeatDate)&&void 0!==Et?Et:an.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var ot=this;return(0,o.Z)(function*(){var Et;if(yield ot._canUseIndexedDBPromise){const an=yield ot.read();return Ft(ot.app,{lastSentHeartbeatDate:null!==(Et=Se.lastSentHeartbeatDate)&&void 0!==Et?Et:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...Se.heartbeats]})}})()}}function Ii(st){return(0,le.L)(JSON.stringify({version:2,heartbeats:st})).length}!function zn(st){Jt(new z.wA("platform-logger",Se=>new _e(Se),"PRIVATE")),Jt(new z.wA("heartbeat",Se=>new Ji(Se),"PRIVATE")),yi(pe,"0.8.3",st),yi(pe,"0.8.3","esm2017"),yi("fire-js","")}("")},4859:(ft,Te,B)=>{B.d(Te,{H0:()=>pe,wA:()=>N,zt:()=>de});var o=B(5861),z=B(2090);class N{constructor(Y,W,ee){this.name=Y,this.instanceFactory=W,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const le="[DEFAULT]";class de{constructor(Y,W){this.name=Y,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const W=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(W)){const ee=new z.BH;if(this.instancesDeferred.set(W,ee),this.isInitialized(W)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:W});je&&ee.resolve(je)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(Y){var W;const ee=this.normalizeInstanceIdentifier(Y?.identifier),je=null!==(W=Y?.optional)&&void 0!==W&&W;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Pe){if(je)return null;throw Pe}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function ie(ve){return"EAGER"===ve.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[W,ee]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(W);try{const Pe=this.getOrInitializeService({instanceIdentifier:je});ee.resolve(Pe)}catch{}}}}clearInstance(Y=le){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,o.Z)(function*(){const W=Array.from(Y.instances.values());yield Promise.all([...W.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...W.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=le){return this.instances.has(Y)}getOptions(Y=le){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:W={}}=Y,ee=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:ee,options:W});for(const[Pe,De]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Pe)&&De.resolve(je);return je}onInit(Y,W){var ee;const je=this.normalizeInstanceIdentifier(W),Pe=null!==(ee=this.onInitCallbacks.get(je))&&void 0!==ee?ee:new Set;Pe.add(Y),this.onInitCallbacks.set(je,Pe);const De=this.instances.get(je);return De&&Y(De,je),()=>{Pe.delete(Y)}}invokeOnInitCallbacks(Y,W){const ee=this.onInitCallbacks.get(W);if(ee)for(const je of ee)try{je(Y,W)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:W={}}){let ee=this.instances.get(Y);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=Y,ve===le?void 0:ve),options:W}),this.instances.set(Y,ee),this.instancesOptions.set(Y,W),this.invokeOnInitCallbacks(ee,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ee)}catch{}var ve;return ee||null}normalizeInstanceIdentifier(Y=le){return this.component?this.component.multipleInstances?Y:le:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const W=this.getProvider(Y.name);if(W.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);W.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const W=new de(Y,this);return this.providers.set(Y,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Te,B)=>{B.d(Te,{Am:()=>ve,Ub:()=>pe,Yd:()=>ie,in:()=>z});const o=[];var z=(()=>{return(Y=z||(z={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",z;var Y})();const N={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},le=z.INFO,de={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},_e=(Y,W,...ee)=>{if(W<Y.logLevel)return;const je=(new Date).toISOString(),Pe=de[W];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Pe](`[${je}]  ${Y.name}:`,...ee)};class ie{constructor(W){this.name=W,this._logLevel=le,this._logHandler=_e,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in z))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?N[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...W),this._logHandler(this,z.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...W),this._logHandler(this,z.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,z.INFO,...W),this._logHandler(this,z.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,z.WARN,...W),this._logHandler(this,z.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...W),this._logHandler(this,z.ERROR,...W)}}function pe(Y){o.forEach(W=>{W.setLogLevel(Y)})}function ve(Y,W){for(const ee of o){let je=null;W&&W.level&&(je=N[W.level]),ee.userLogHandler=null===Y?null:(Pe,De,...at)=>{const Ce=at.map(ge=>{if(null==ge)return null;if("string"==typeof ge)return ge;if("number"==typeof ge||"boolean"==typeof ge)return ge.toString();if(ge instanceof Error)return ge.message;try{return JSON.stringify(ge)}catch{return null}}).filter(ge=>ge).join(" ");De>=(je??Pe.logLevel)&&Y({level:z[De].toLowerCase(),message:Ce,args:at,type:Pe.name})}}}},8766:(ft,Te,B)=>{B.d(Te,{Lj:()=>Ne,X3:()=>tt});var o=B(5861);let N,le;const ie=new WeakMap,pe=new WeakMap,ve=new WeakMap,Y=new WeakMap,W=new WeakMap;let Pe={get(he,be,J){if(he instanceof IDBTransaction){if("done"===be)return pe.get(he);if("objectStoreNames"===be)return he.objectStoreNames||ve.get(he);if("store"===be)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return ge(he[be])},set:(he,be,J)=>(he[be]=J,!0),has:(he,be)=>he instanceof IDBTransaction&&("done"===be||"store"===be)||be in he};function Ce(he){return"function"==typeof he?function at(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...be){return he.apply(it(this),be),ge(ie.get(this))}:function(...be){return ge(he.apply(it(this),be))}:function(be,...J){const te=he.call(it(this),be,...J);return ve.set(te,be.sort?be.sort():[be]),ge(te)}}(he):(he instanceof IDBTransaction&&function je(he){if(pe.has(he))return;const be=new Promise((J,te)=>{const me=()=>{he.removeEventListener("complete",ue),he.removeEventListener("error",Ue),he.removeEventListener("abort",Ue)},ue=()=>{J(),me()},Ue=()=>{te(he.error||new DOMException("AbortError","AbortError")),me()};he.addEventListener("complete",ue),he.addEventListener("error",Ue),he.addEventListener("abort",Ue)});pe.set(he,be)}(he),((he,be)=>be.some(J=>he instanceof J))(he,function de(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Pe):he)}function ge(he){if(he instanceof IDBRequest)return function ee(he){const be=new Promise((J,te)=>{const me=()=>{he.removeEventListener("success",ue),he.removeEventListener("error",Ue)},ue=()=>{J(ge(he.result)),me()},Ue=()=>{te(he.error),me()};he.addEventListener("success",ue),he.addEventListener("error",Ue)});return be.then(J=>{J instanceof IDBCursor&&ie.set(J,he)}).catch(()=>{}),W.set(be,he),be}(he);if(Y.has(he))return Y.get(he);const be=Ce(he);return be!==he&&(Y.set(he,be),W.set(be,he)),be}const it=he=>W.get(he);function tt(he,be,{blocked:J,upgrade:te,blocking:me,terminated:ue}={}){const Ue=indexedDB.open(he,be),He=ge(Ue);return te&&Ue.addEventListener("upgradeneeded",bt=>{te(ge(Ue.result),bt.oldVersion,bt.newVersion,ge(Ue.transaction))}),J&&Ue.addEventListener("blocked",()=>J()),He.then(bt=>{ue&&bt.addEventListener("close",()=>ue()),me&&bt.addEventListener("versionchange",()=>me())}).catch(()=>{}),He}function Ne(he,{blocked:be}={}){const J=indexedDB.deleteDatabase(he);return be&&J.addEventListener("blocked",()=>be()),ge(J).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],qe=new Map;function ae(he,be){if(!(he instanceof IDBDatabase)||be in he||"string"!=typeof be)return;if(qe.get(be))return qe.get(be);const J=be.replace(/FromIndex$/,""),te=be!==J,me=Ee.includes(J);if(!(J in(te?IDBIndex:IDBObjectStore).prototype)||!me&&!Re.includes(J))return;const ue=function(){var Ue=(0,o.Z)(function*(He,...bt){const fn=this.transaction(He,me?"readwrite":"readonly");let qt=fn.store;return te&&(qt=qt.index(bt.shift())),(yield Promise.all([qt[J](...bt),me&&fn.done]))[0]});return function(bt){return Ue.apply(this,arguments)}}();return qe.set(be,ue),ue}!function De(he){Pe=he(Pe)}(he=>({...he,get:(be,J,te)=>ae(be,J)||he.get(be,J,te),has:(be,J)=>!!ae(be,J)||he.has(be,J)}))},5861:(ft,Te,B)=>{function o(N,le,de,_e,ie,pe,ve){try{var Y=N[pe](ve),W=Y.value}catch(ee){return void de(ee)}Y.done?le(W):Promise.resolve(W).then(_e,ie)}function z(N){return function(){var le=this,de=arguments;return new Promise(function(_e,ie){var pe=N.apply(le,de);function ve(W){o(pe,_e,ie,ve,Y,"next",W)}function Y(W){o(pe,_e,ie,ve,Y,"throw",W)}ve(void 0)})}}B.d(Te,{Z:()=>z})}},ft=>{ft(ft.s=9290)}]);